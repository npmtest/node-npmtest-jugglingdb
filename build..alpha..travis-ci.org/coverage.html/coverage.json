{"/home/travis/build/npmtest/node-npmtest-jugglingdb/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_jugglingdb */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/lib.npmtest_jugglingdb.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/lib.npmtest_jugglingdb.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":55}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":61}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_jugglingdb */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_jugglingdb = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_jugglingdb = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":54}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":68},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-jugglingdb && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_jugglingdb */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_jugglingdb","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_jugglingdb.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_jugglingdb.rollup.js'] =","            local.assetsDict['/assets.npmtest_jugglingdb.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_jugglingdb.__dirname + '/lib.npmtest_jugglingdb.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":2,"58":1,"59":1,"60":2},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":2,"11":2},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":36},"end":{"line":9,"column":48}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":60}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":49}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":31},"end":{"line":23,"column":61}}},"5":{"name":"define","line":44,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":29}}},"6":{"name":"(anonymous_6)","line":49,"loc":{"start":{"line":49,"column":15},"end":{"line":49,"column":35}}},"7":{"name":"(anonymous_7)","line":64,"loc":{"start":{"line":64,"column":37},"end":{"line":64,"column":48}}},"8":{"name":"(anonymous_8)","line":65,"loc":{"start":{"line":65,"column":48},"end":{"line":65,"column":60}}},"9":{"name":"initialize","line":86,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":26}}},"10":{"name":"(anonymous_10)","line":99,"loc":{"start":{"line":99,"column":36},"end":{"line":99,"column":48}}},"11":{"name":"(anonymous_11)","line":104,"loc":{"start":{"line":104,"column":33},"end":{"line":104,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":61}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":50}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"6":{"start":{"line":9,"column":0},"end":{"line":11,"column":3}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":28}},"8":{"start":{"line":13,"column":0},"end":{"line":47,"column":2}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":20}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":40}},"11":{"start":{"line":16,"column":4},"end":{"line":40,"column":7}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":31}},"13":{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},"14":{"start":{"line":19,"column":12},"end":{"line":19,"column":88}},"15":{"start":{"line":20,"column":12},"end":{"line":20,"column":38}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":50}},"17":{"start":{"line":23,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":24,"column":12},"end":{"line":24,"column":38}},"19":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":26,"column":16},"end":{"line":26,"column":60}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":27}},"22":{"start":{"line":30,"column":8},"end":{"line":30,"column":31}},"23":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"24":{"start":{"line":32,"column":12},"end":{"line":32,"column":81}},"25":{"start":{"line":34,"column":8},"end":{"line":39,"column":9}},"26":{"start":{"line":35,"column":12},"end":{"line":35,"column":46}},"27":{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},"28":{"start":{"line":37,"column":16},"end":{"line":37,"column":59}},"29":{"start":{"line":42,"column":4},"end":{"line":42,"column":18}},"30":{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},"31":{"start":{"line":45,"column":8},"end":{"line":45,"column":26}},"32":{"start":{"line":49,"column":0},"end":{"line":97,"column":2}},"33":{"start":{"line":50,"column":4},"end":{"line":76,"column":5}},"34":{"start":{"line":51,"column":8},"end":{"line":51,"column":37}},"35":{"start":{"line":53,"column":8},"end":{"line":56,"column":10}},"36":{"start":{"line":57,"column":8},"end":{"line":75,"column":9}},"37":{"start":{"line":58,"column":12},"end":{"line":62,"column":14}},"38":{"start":{"line":63,"column":12},"end":{"line":73,"column":13}},"39":{"start":{"line":64,"column":16},"end":{"line":72,"column":19}},"40":{"start":{"line":65,"column":20},"end":{"line":71,"column":23}},"41":{"start":{"line":66,"column":24},"end":{"line":66,"column":39}},"42":{"start":{"line":67,"column":24},"end":{"line":70,"column":25}},"43":{"start":{"line":68,"column":28},"end":{"line":68,"column":52}},"44":{"start":{"line":69,"column":28},"end":{"line":69,"column":51}},"45":{"start":{"line":74,"column":12},"end":{"line":74,"column":19}},"46":{"start":{"line":80,"column":4},"end":{"line":84,"column":5}},"47":{"start":{"line":81,"column":8},"end":{"line":81,"column":48}},"48":{"start":{"line":83,"column":8},"end":{"line":83,"column":21}},"49":{"start":{"line":86,"column":4},"end":{"line":96,"column":5}},"50":{"start":{"line":87,"column":8},"end":{"line":87,"column":44}},"51":{"start":{"line":88,"column":8},"end":{"line":92,"column":9}},"52":{"start":{"line":89,"column":12},"end":{"line":89,"column":36}},"53":{"start":{"line":91,"column":12},"end":{"line":91,"column":33}},"54":{"start":{"line":93,"column":8},"end":{"line":95,"column":9}},"55":{"start":{"line":94,"column":12},"end":{"line":94,"column":27}},"56":{"start":{"line":99,"column":0},"end":{"line":101,"column":3}},"57":{"start":{"line":100,"column":4},"end":{"line":100,"column":76}},"58":{"start":{"line":103,"column":0},"end":{"line":103,"column":38}},"59":{"start":{"line":104,"column":0},"end":{"line":106,"column":3}},"60":{"start":{"line":105,"column":4},"end":{"line":105,"column":31}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":25,"column":12}},{"start":{"line":25,"column":12},"end":{"line":25,"column":12}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"4":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":8}},{"start":{"line":34,"column":8},"end":{"line":34,"column":8}}]},"5":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":36,"column":12}},{"start":{"line":36,"column":12},"end":{"line":36,"column":12}}]},"6":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":4}},{"start":{"line":50,"column":4},"end":{"line":50,"column":4}}]},"7":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]},"8":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":12},"end":{"line":63,"column":12}},{"start":{"line":63,"column":12},"end":{"line":63,"column":12}}]},"9":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":24},"end":{"line":67,"column":24}},{"start":{"line":67,"column":24},"end":{"line":67,"column":24}}]},"10":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":80,"column":4}},{"start":{"line":80,"column":4},"end":{"line":80,"column":4}}]},"11":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":8},"end":{"line":93,"column":8}},{"start":{"line":93,"column":8},"end":{"line":93,"column":8}}]}},"code":["var fs = require('fs');","var path = require('path');","","var Schema = exports.Schema = require('./lib/schema').Schema;","exports.AbstractClass = require('./lib/model.js');","","var baseSQL = './lib/sql';","","exports.__defineGetter__('BaseSQL', function () {","    return require(baseSQL);","});","","exports.loadSchema = function(filename, settings, compound) {","    var schema = [];","    var definitions = require(filename);","    Object.keys(definitions).forEach(function(k) {","        var conf = settings[k];","        if (!conf) {","            console.log('No config found for ' + k + ' schema, using in-memory schema');","            conf = {driver: 'memory'};","        }","        schema[k] = new Schema(conf.driver, conf);","        schema[k].on('define', function(m, name, prop, sett) {","            compound.models[name] = m;","            if (conf.backyard) {","                schema[k].backyard.define(name, prop, sett);","            }","        });","        schema[k].name = k;","        schema.push(schema[k]);","        if (conf.backyard) {","            schema[k].backyard = new Schema(conf.backyard.driver, conf.backyard);","        }","        if ('function' === typeof definitions[k]) {","            define(schema[k], definitions[k]);","            if (conf.backyard) {","                define(schema[k].backyard, definitions[k]);","            }","        }","    });","","    return schema;","","    function define(db, def) {","        def(db, compound);","    }","};","","exports.init = function (compound) {","    if (global.railway) {","        global.railway.orm = exports;","    } else {","        compound.orm = {","            Schema: exports.Schema,","            AbstractClass: exports.AbstractClass","        };","        if (compound.app.enabled('noeval schema')) {","            compound.orm.schema = exports.loadSchema(","                compound.root + '/db/schema',","                compound.app.get('database'),","                compound","            );","            if (compound.app.enabled('autoupdate')) {","                compound.on('ready', function() {","                    compound.orm.schema.forEach(function(s) {","                        s.autoupdate();","                        if (s.backyard) {","                            s.backyard.autoupdate();","                            s.backyard.log = s.log;","                        }","                    });","                });","            }","            return;","        }","    }","","    // legacy stuff","","    if (compound.version > '1.1.5-15') {","        compound.on('after routes', initialize);","    } else {","        initialize();","    }","","    function initialize() {","        var railway = './lib/railway', init;","        try {","            init = require(railway);","        } catch (e) {","            console.log(e.stack);","        }","        if (init) {","            init(compound);","        }","    }","};","","exports.__defineGetter__('version', function () {","    return JSON.parse(fs.readFileSync(__dirname + '/package.json')).version;","});","","var commonTest = './test/common_test';","exports.__defineGetter__('test', function () {","    return require(commonTest);","});",""],"l":{"1":1,"2":1,"4":1,"5":1,"7":1,"9":1,"10":2,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"25":0,"26":0,"29":0,"30":0,"31":0,"32":0,"34":0,"35":0,"36":0,"37":0,"42":0,"44":1,"45":0,"49":1,"50":0,"51":0,"53":0,"57":0,"58":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"74":0,"80":0,"81":0,"83":0,"86":1,"87":0,"88":0,"89":0,"91":0,"93":0,"94":0,"99":1,"100":2,"103":1,"104":1,"105":2}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/schema.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/schema.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":2,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":1,"161":0,"162":0,"163":0,"164":0,"165":1,"166":0,"167":0,"168":0,"169":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":1,"183":0,"184":0,"185":0,"186":0,"187":0,"188":1,"189":0,"190":0,"191":0,"192":0,"193":0,"194":1,"195":0,"196":1,"197":0,"198":0,"199":1,"200":0,"201":1,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":1,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":1,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":1,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":1,"261":0,"262":1,"263":0},"b":{"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0,0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0]},"f":{"1":0,"2":0,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},"fnMap":{"1":{"name":"Text","line":25,"loc":{"start":{"line":25,"column":14},"end":{"line":25,"column":31}}},"2":{"name":"JSON","line":26,"loc":{"start":{"line":26,"column":14},"end":{"line":26,"column":30}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":22},"end":{"line":29,"column":38}}},"4":{"name":"Schema","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":32}}},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":23},"end":{"line":78,"column":47}}},"6":{"name":"(anonymous_6)","line":106,"loc":{"start":{"line":106,"column":29},"end":{"line":106,"column":41}}},"7":{"name":"(anonymous_7)","line":108,"loc":{"start":{"line":108,"column":27},"end":{"line":108,"column":51}}},"8":{"name":"(anonymous_8)","line":112,"loc":{"start":{"line":112,"column":30},"end":{"line":112,"column":47}}},"9":{"name":"(anonymous_9)","line":115,"loc":{"start":{"line":115,"column":19},"end":{"line":115,"column":32}}},"10":{"name":"(anonymous_10)","line":132,"loc":{"start":{"line":132,"column":21},"end":{"line":132,"column":34}}},"11":{"name":"(anonymous_11)","line":135,"loc":{"start":{"line":135,"column":32},"end":{"line":135,"column":58}}},"12":{"name":"(anonymous_12)","line":137,"loc":{"start":{"line":137,"column":40},"end":{"line":137,"column":51}}},"13":{"name":"(anonymous_13)","line":145,"loc":{"start":{"line":145,"column":35},"end":{"line":145,"column":49}}},"14":{"name":"defineClass","line":200,"loc":{"start":{"line":200,"column":26},"end":{"line":200,"column":80}}},"15":{"name":"(anonymous_15)","line":221,"loc":{"start":{"line":221,"column":22},"end":{"line":221,"column":53}}},"16":{"name":"(anonymous_16)","line":226,"loc":{"start":{"line":226,"column":17},"end":{"line":226,"column":36}}},"17":{"name":"ModelConstructor","line":236,"loc":{"start":{"line":236,"column":19},"end":{"line":236,"column":59}}},"18":{"name":"(anonymous_18)","line":278,"loc":{"start":{"line":278,"column":46},"end":{"line":278,"column":58}}},"19":{"name":"(anonymous_19)","line":284,"loc":{"start":{"line":284,"column":31},"end":{"line":284,"column":45}}},"20":{"name":"(anonymous_20)","line":288,"loc":{"start":{"line":288,"column":32},"end":{"line":288,"column":48}}},"21":{"name":"Date","line":294,"loc":{"start":{"line":294,"column":23},"end":{"line":294,"column":42}}},"22":{"name":"JSON","line":298,"loc":{"start":{"line":298,"column":23},"end":{"line":298,"column":40}}},"23":{"name":"Text","line":302,"loc":{"start":{"line":302,"column":23},"end":{"line":302,"column":40}}},"24":{"name":"(anonymous_24)","line":308,"loc":{"start":{"line":308,"column":17},"end":{"line":308,"column":29}}},"25":{"name":"(anonymous_25)","line":315,"loc":{"start":{"line":315,"column":17},"end":{"line":315,"column":34}}},"26":{"name":"(anonymous_26)","line":332,"loc":{"start":{"line":332,"column":59},"end":{"line":332,"column":71}}},"27":{"name":"(anonymous_27)","line":337,"loc":{"start":{"line":337,"column":17},"end":{"line":337,"column":29}}},"28":{"name":"(anonymous_28)","line":340,"loc":{"start":{"line":340,"column":17},"end":{"line":340,"column":34}}},"29":{"name":"standartize","line":356,"loc":{"start":{"line":356,"column":4},"end":{"line":356,"column":47}}},"30":{"name":"(anonymous_30)","line":357,"loc":{"start":{"line":357,"column":40},"end":{"line":357,"column":55}}},"31":{"name":"(anonymous_31)","line":379,"loc":{"start":{"line":379,"column":34},"end":{"line":379,"column":65}}},"32":{"name":"(anonymous_32)","line":410,"loc":{"start":{"line":410,"column":31},"end":{"line":410,"column":55}}},"33":{"name":"(anonymous_33)","line":413,"loc":{"start":{"line":413,"column":31},"end":{"line":413,"column":51}}},"34":{"name":"(anonymous_34)","line":425,"loc":{"start":{"line":425,"column":31},"end":{"line":425,"column":45}}},"35":{"name":"(anonymous_35)","line":438,"loc":{"start":{"line":438,"column":30},"end":{"line":438,"column":44}}},"36":{"name":"(anonymous_36)","line":451,"loc":{"start":{"line":451,"column":28},"end":{"line":451,"column":42}}},"37":{"name":"(anonymous_37)","line":466,"loc":{"start":{"line":466,"column":23},"end":{"line":466,"column":41}}},"38":{"name":"freeze","line":473,"loc":{"start":{"line":473,"column":26},"end":{"line":473,"column":44}}},"39":{"name":"(anonymous_39)","line":484,"loc":{"start":{"line":484,"column":29},"end":{"line":484,"column":50}}},"40":{"name":"defineForeignKey","line":493,"loc":{"start":{"line":493,"column":36},"end":{"line":493,"column":96}}},"41":{"name":"(anonymous_41)","line":498,"loc":{"start":{"line":498,"column":17},"end":{"line":498,"column":41}}},"42":{"name":"disconnect","line":520,"loc":{"start":{"line":520,"column":30},"end":{"line":520,"column":54}}},"43":{"name":"copyModel","line":530,"loc":{"start":{"line":530,"column":29},"end":{"line":530,"column":56}}},"44":{"name":"SlaveModel","line":534,"loc":{"start":{"line":534,"column":16},"end":{"line":534,"column":38}}},"45":{"name":"(anonymous_45)","line":570,"loc":{"start":{"line":570,"column":31},"end":{"line":570,"column":42}}},"46":{"name":"(anonymous_46)","line":591,"loc":{"start":{"line":591,"column":23},"end":{"line":591,"column":36}}},"47":{"name":"hiddenProperty","line":601,"loc":{"start":{"line":601,"column":0},"end":{"line":601,"column":48}}},"48":{"name":"defineReadonlyProp","line":617,"loc":{"start":{"line":617,"column":0},"end":{"line":617,"column":45}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":50}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":24}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}},"11":{"start":{"line":25,"column":0},"end":{"line":25,"column":45}},"12":{"start":{"line":25,"column":33},"end":{"line":25,"column":42}},"13":{"start":{"line":26,"column":0},"end":{"line":26,"column":33}},"14":{"start":{"line":28,"column":0},"end":{"line":28,"column":18}},"15":{"start":{"line":29,"column":0},"end":{"line":31,"column":2}},"16":{"start":{"line":30,"column":4},"end":{"line":30,"column":33}},"17":{"start":{"line":33,"column":0},"end":{"line":33,"column":33}},"18":{"start":{"line":34,"column":0},"end":{"line":34,"column":33}},"19":{"start":{"line":63,"column":0},"end":{"line":165,"column":1}},"20":{"start":{"line":64,"column":4},"end":{"line":64,"column":22}},"21":{"start":{"line":66,"column":4},"end":{"line":66,"column":21}},"22":{"start":{"line":67,"column":4},"end":{"line":67,"column":35}},"23":{"start":{"line":70,"column":4},"end":{"line":70,"column":27}},"24":{"start":{"line":71,"column":4},"end":{"line":71,"column":28}},"25":{"start":{"line":74,"column":4},"end":{"line":74,"column":21}},"26":{"start":{"line":75,"column":4},"end":{"line":75,"column":26}},"27":{"start":{"line":77,"column":4},"end":{"line":81,"column":5}},"28":{"start":{"line":78,"column":8},"end":{"line":80,"column":11}},"29":{"start":{"line":79,"column":12},"end":{"line":79,"column":29}},"30":{"start":{"line":86,"column":4},"end":{"line":86,"column":16}},"31":{"start":{"line":87,"column":4},"end":{"line":103,"column":5}},"32":{"start":{"line":88,"column":8},"end":{"line":88,"column":23}},"33":{"start":{"line":89,"column":8},"end":{"line":89,"column":33}},"34":{"start":{"line":90,"column":11},"end":{"line":103,"column":5}},"35":{"start":{"line":92,"column":8},"end":{"line":92,"column":32}},"36":{"start":{"line":93,"column":11},"end":{"line":103,"column":5}},"37":{"start":{"line":95,"column":8},"end":{"line":95,"column":48}},"38":{"start":{"line":98,"column":8},"end":{"line":102,"column":9}},"39":{"start":{"line":99,"column":12},"end":{"line":99,"column":52}},"40":{"start":{"line":101,"column":12},"end":{"line":101,"column":185}},"41":{"start":{"line":105,"column":4},"end":{"line":105,"column":27}},"42":{"start":{"line":106,"column":4},"end":{"line":124,"column":18}},"43":{"start":{"line":108,"column":8},"end":{"line":110,"column":10}},"44":{"start":{"line":109,"column":12},"end":{"line":109,"column":37}},"45":{"start":{"line":112,"column":8},"end":{"line":118,"column":10}},"46":{"start":{"line":113,"column":12},"end":{"line":113,"column":32}},"47":{"start":{"line":114,"column":12},"end":{"line":114,"column":31}},"48":{"start":{"line":115,"column":12},"end":{"line":117,"column":14}},"49":{"start":{"line":116,"column":16},"end":{"line":116,"column":36}},"50":{"start":{"line":120,"column":8},"end":{"line":120,"column":32}},"51":{"start":{"line":121,"column":8},"end":{"line":121,"column":30}},"52":{"start":{"line":122,"column":8},"end":{"line":122,"column":31}},"53":{"start":{"line":127,"column":4},"end":{"line":130,"column":5}},"54":{"start":{"line":128,"column":8},"end":{"line":128,"column":34}},"55":{"start":{"line":129,"column":8},"end":{"line":129,"column":134}},"56":{"start":{"line":132,"column":4},"end":{"line":164,"column":6}},"57":{"start":{"line":133,"column":8},"end":{"line":133,"column":26}},"58":{"start":{"line":134,"column":8},"end":{"line":134,"column":33}},"59":{"start":{"line":135,"column":8},"end":{"line":163,"column":11}},"60":{"start":{"line":136,"column":12},"end":{"line":144,"column":13}},"61":{"start":{"line":137,"column":16},"end":{"line":143,"column":19}},"62":{"start":{"line":138,"column":20},"end":{"line":138,"column":46}},"63":{"start":{"line":139,"column":20},"end":{"line":141,"column":21}},"64":{"start":{"line":140,"column":24},"end":{"line":140,"column":41}},"65":{"start":{"line":142,"column":20},"end":{"line":142,"column":43}},"66":{"start":{"line":145,"column":12},"end":{"line":162,"column":15}},"67":{"start":{"line":146,"column":16},"end":{"line":161,"column":17}},"68":{"start":{"line":147,"column":20},"end":{"line":147,"column":45}},"69":{"start":{"line":148,"column":20},"end":{"line":148,"column":46}},"70":{"start":{"line":149,"column":20},"end":{"line":149,"column":32}},"71":{"start":{"line":150,"column":20},"end":{"line":152,"column":21}},"72":{"start":{"line":151,"column":24},"end":{"line":151,"column":32}},"73":{"start":{"line":154,"column":20},"end":{"line":154,"column":44}},"74":{"start":{"line":155,"column":20},"end":{"line":155,"column":46}},"75":{"start":{"line":156,"column":20},"end":{"line":156,"column":45}},"76":{"start":{"line":157,"column":20},"end":{"line":157,"column":36}},"77":{"start":{"line":158,"column":20},"end":{"line":160,"column":21}},"78":{"start":{"line":159,"column":24},"end":{"line":159,"column":41}},"79":{"start":{"line":167,"column":0},"end":{"line":167,"column":36}},"80":{"start":{"line":200,"column":0},"end":{"line":354,"column":2}},"81":{"start":{"line":201,"column":4},"end":{"line":201,"column":22}},"82":{"start":{"line":202,"column":4},"end":{"line":202,"column":37}},"83":{"start":{"line":204,"column":4},"end":{"line":206,"column":5}},"84":{"start":{"line":205,"column":8},"end":{"line":205,"column":47}},"85":{"start":{"line":207,"column":4},"end":{"line":210,"column":5}},"86":{"start":{"line":208,"column":8},"end":{"line":208,"column":24}},"87":{"start":{"line":209,"column":8},"end":{"line":209,"column":30}},"88":{"start":{"line":211,"column":4},"end":{"line":214,"column":5}},"89":{"start":{"line":212,"column":8},"end":{"line":212,"column":22}},"90":{"start":{"line":213,"column":8},"end":{"line":213,"column":28}},"91":{"start":{"line":216,"column":4},"end":{"line":216,"column":30}},"92":{"start":{"line":218,"column":4},"end":{"line":231,"column":5}},"93":{"start":{"line":219,"column":8},"end":{"line":219,"column":23}},"94":{"start":{"line":220,"column":8},"end":{"line":229,"column":11}},"95":{"start":{"line":222,"column":16},"end":{"line":222,"column":42}},"96":{"start":{"line":223,"column":16},"end":{"line":223,"column":37}},"97":{"start":{"line":224,"column":16},"end":{"line":224,"column":39}},"98":{"start":{"line":227,"column":16},"end":{"line":227,"column":36}},"99":{"start":{"line":230,"column":8},"end":{"line":230,"column":27}},"100":{"start":{"line":233,"column":4},"end":{"line":233,"column":34}},"101":{"start":{"line":236,"column":4},"end":{"line":242,"column":6}},"102":{"start":{"line":237,"column":8},"end":{"line":239,"column":9}},"103":{"start":{"line":238,"column":12},"end":{"line":238,"column":46}},"104":{"start":{"line":240,"column":8},"end":{"line":240,"column":39}},"105":{"start":{"line":241,"column":8},"end":{"line":241,"column":74}},"106":{"start":{"line":244,"column":4},"end":{"line":244,"column":47}},"107":{"start":{"line":245,"column":4},"end":{"line":245,"column":51}},"108":{"start":{"line":246,"column":4},"end":{"line":246,"column":55}},"109":{"start":{"line":247,"column":4},"end":{"line":247,"column":53}},"110":{"start":{"line":248,"column":4},"end":{"line":248,"column":71}},"111":{"start":{"line":249,"column":4},"end":{"line":249,"column":46}},"112":{"start":{"line":252,"column":4},"end":{"line":254,"column":5}},"113":{"start":{"line":253,"column":8},"end":{"line":253,"column":39}},"114":{"start":{"line":255,"column":4},"end":{"line":257,"column":5}},"115":{"start":{"line":256,"column":8},"end":{"line":256,"column":59}},"116":{"start":{"line":259,"column":4},"end":{"line":259,"column":25}},"117":{"start":{"line":260,"column":4},"end":{"line":260,"column":25}},"118":{"start":{"line":262,"column":4},"end":{"line":262,"column":38}},"119":{"start":{"line":265,"column":4},"end":{"line":265,"column":38}},"120":{"start":{"line":266,"column":4},"end":{"line":269,"column":6}},"121":{"start":{"line":272,"column":4},"end":{"line":276,"column":7}},"122":{"start":{"line":278,"column":4},"end":{"line":280,"column":7}},"123":{"start":{"line":279,"column":8},"end":{"line":279,"column":30}},"124":{"start":{"line":282,"column":4},"end":{"line":282,"column":87}},"125":{"start":{"line":284,"column":4},"end":{"line":286,"column":6}},"126":{"start":{"line":285,"column":8},"end":{"line":285,"column":44}},"127":{"start":{"line":288,"column":4},"end":{"line":346,"column":6}},"128":{"start":{"line":289,"column":8},"end":{"line":289,"column":45}},"129":{"start":{"line":290,"column":8},"end":{"line":305,"column":9}},"130":{"start":{"line":291,"column":12},"end":{"line":291,"column":28}},"131":{"start":{"line":292,"column":15},"end":{"line":305,"column":9}},"132":{"start":{"line":293,"column":12},"end":{"line":293,"column":32}},"133":{"start":{"line":294,"column":12},"end":{"line":296,"column":14}},"134":{"start":{"line":295,"column":16},"end":{"line":295,"column":41}},"135":{"start":{"line":297,"column":15},"end":{"line":305,"column":9}},"136":{"start":{"line":298,"column":12},"end":{"line":300,"column":14}},"137":{"start":{"line":299,"column":16},"end":{"line":299,"column":25}},"138":{"start":{"line":301,"column":15},"end":{"line":305,"column":9}},"139":{"start":{"line":302,"column":12},"end":{"line":304,"column":14}},"140":{"start":{"line":303,"column":16},"end":{"line":303,"column":25}},"141":{"start":{"line":307,"column":8},"end":{"line":330,"column":11}},"142":{"start":{"line":309,"column":16},"end":{"line":313,"column":17}},"143":{"start":{"line":310,"column":20},"end":{"line":310,"column":60}},"144":{"start":{"line":312,"column":20},"end":{"line":312,"column":45}},"145":{"start":{"line":316,"column":16},"end":{"line":326,"column":17}},"146":{"start":{"line":317,"column":20},"end":{"line":317,"column":60}},"147":{"start":{"line":319,"column":20},"end":{"line":325,"column":21}},"148":{"start":{"line":320,"column":24},"end":{"line":320,"column":50}},"149":{"start":{"line":321,"column":27},"end":{"line":325,"column":21}},"150":{"start":{"line":322,"column":24},"end":{"line":322,"column":80}},"151":{"start":{"line":324,"column":24},"end":{"line":324,"column":60}},"152":{"start":{"line":332,"column":8},"end":{"line":334,"column":11}},"153":{"start":{"line":333,"column":12},"end":{"line":333,"column":40}},"154":{"start":{"line":336,"column":8},"end":{"line":345,"column":11}},"155":{"start":{"line":338,"column":16},"end":{"line":338,"column":41}},"156":{"start":{"line":341,"column":16},"end":{"line":341,"column":42}},"157":{"start":{"line":348,"column":4},"end":{"line":348,"column":56}},"158":{"start":{"line":350,"column":4},"end":{"line":350,"column":67}},"159":{"start":{"line":352,"column":4},"end":{"line":352,"column":20}},"160":{"start":{"line":356,"column":4},"end":{"line":370,"column":5}},"161":{"start":{"line":357,"column":8},"end":{"line":365,"column":11}},"162":{"start":{"line":358,"column":12},"end":{"line":358,"column":36}},"163":{"start":{"line":359,"column":12},"end":{"line":364,"column":13}},"164":{"start":{"line":363,"column":16},"end":{"line":363,"column":46}},"165":{"start":{"line":379,"column":0},"end":{"line":385,"column":2}},"166":{"start":{"line":380,"column":4},"end":{"line":380,"column":54}},"167":{"start":{"line":381,"column":4},"end":{"line":381,"column":46}},"168":{"start":{"line":382,"column":4},"end":{"line":384,"column":5}},"169":{"start":{"line":383,"column":8},"end":{"line":383,"column":57}},"170":{"start":{"line":410,"column":0},"end":{"line":417,"column":2}},"171":{"start":{"line":411,"column":4},"end":{"line":411,"column":17}},"172":{"start":{"line":412,"column":4},"end":{"line":412,"column":27}},"173":{"start":{"line":413,"column":4},"end":{"line":416,"column":7}},"174":{"start":{"line":414,"column":8},"end":{"line":414,"column":41}},"175":{"start":{"line":415,"column":8},"end":{"line":415,"column":54}},"176":{"start":{"line":425,"column":0},"end":{"line":432,"column":2}},"177":{"start":{"line":426,"column":4},"end":{"line":426,"column":18}},"178":{"start":{"line":427,"column":4},"end":{"line":431,"column":5}},"179":{"start":{"line":428,"column":8},"end":{"line":428,"column":37}},"180":{"start":{"line":429,"column":11},"end":{"line":431,"column":5}},"181":{"start":{"line":430,"column":8},"end":{"line":430,"column":13}},"182":{"start":{"line":438,"column":0},"end":{"line":445,"column":2}},"183":{"start":{"line":439,"column":4},"end":{"line":439,"column":18}},"184":{"start":{"line":440,"column":4},"end":{"line":444,"column":5}},"185":{"start":{"line":441,"column":8},"end":{"line":441,"column":36}},"186":{"start":{"line":442,"column":11},"end":{"line":444,"column":5}},"187":{"start":{"line":443,"column":8},"end":{"line":443,"column":13}},"188":{"start":{"line":451,"column":0},"end":{"line":458,"column":2}},"189":{"start":{"line":452,"column":4},"end":{"line":452,"column":18}},"190":{"start":{"line":453,"column":4},"end":{"line":457,"column":5}},"191":{"start":{"line":454,"column":8},"end":{"line":454,"column":34}},"192":{"start":{"line":455,"column":11},"end":{"line":457,"column":5}},"193":{"start":{"line":456,"column":8},"end":{"line":456,"column":23}},"194":{"start":{"line":466,"column":0},"end":{"line":468,"column":2}},"195":{"start":{"line":467,"column":4},"end":{"line":467,"column":29}},"196":{"start":{"line":473,"column":0},"end":{"line":477,"column":2}},"197":{"start":{"line":474,"column":4},"end":{"line":476,"column":5}},"198":{"start":{"line":475,"column":8},"end":{"line":475,"column":36}},"199":{"start":{"line":484,"column":0},"end":{"line":486,"column":2}},"200":{"start":{"line":485,"column":4},"end":{"line":485,"column":50}},"201":{"start":{"line":493,"column":0},"end":{"line":515,"column":2}},"202":{"start":{"line":495,"column":4},"end":{"line":495,"column":60}},"203":{"start":{"line":495,"column":53},"end":{"line":495,"column":60}},"204":{"start":{"line":497,"column":4},"end":{"line":513,"column":5}},"205":{"start":{"line":498,"column":8},"end":{"line":501,"column":21}},"206":{"start":{"line":499,"column":12},"end":{"line":499,"column":31}},"207":{"start":{"line":499,"column":21},"end":{"line":499,"column":31}},"208":{"start":{"line":500,"column":12},"end":{"line":500,"column":74}},"209":{"start":{"line":502,"column":8},"end":{"line":510,"column":9}},"210":{"start":{"line":504,"column":16},"end":{"line":504,"column":84}},"211":{"start":{"line":505,"column":12},"end":{"line":505,"column":18}},"212":{"start":{"line":508,"column":16},"end":{"line":508,"column":66}},"213":{"start":{"line":509,"column":12},"end":{"line":509,"column":18}},"214":{"start":{"line":512,"column":8},"end":{"line":512,"column":69}},"215":{"start":{"line":514,"column":4},"end":{"line":514,"column":49}},"216":{"start":{"line":520,"column":0},"end":{"line":528,"column":2}},"217":{"start":{"line":521,"column":4},"end":{"line":527,"column":5}},"218":{"start":{"line":522,"column":8},"end":{"line":522,"column":31}},"219":{"start":{"line":523,"column":8},"end":{"line":523,"column":36}},"220":{"start":{"line":524,"column":8},"end":{"line":524,"column":34}},"221":{"start":{"line":525,"column":11},"end":{"line":527,"column":5}},"222":{"start":{"line":526,"column":8},"end":{"line":526,"column":13}},"223":{"start":{"line":530,"column":0},"end":{"line":568,"column":2}},"224":{"start":{"line":531,"column":4},"end":{"line":531,"column":22}},"225":{"start":{"line":532,"column":4},"end":{"line":532,"column":37}},"226":{"start":{"line":533,"column":4},"end":{"line":533,"column":50}},"227":{"start":{"line":534,"column":4},"end":{"line":537,"column":6}},"228":{"start":{"line":535,"column":8},"end":{"line":535,"column":53}},"229":{"start":{"line":536,"column":8},"end":{"line":536,"column":29}},"230":{"start":{"line":539,"column":4},"end":{"line":539,"column":33}},"231":{"start":{"line":541,"column":4},"end":{"line":541,"column":29}},"232":{"start":{"line":543,"column":4},"end":{"line":543,"column":44}},"233":{"start":{"line":544,"column":4},"end":{"line":544,"column":50}},"234":{"start":{"line":545,"column":4},"end":{"line":545,"column":57}},"235":{"start":{"line":546,"column":4},"end":{"line":546,"column":57}},"236":{"start":{"line":548,"column":4},"end":{"line":565,"column":5}},"237":{"start":{"line":551,"column":8},"end":{"line":551,"column":41}},"238":{"start":{"line":552,"column":8},"end":{"line":555,"column":10}},"239":{"start":{"line":557,"column":8},"end":{"line":563,"column":9}},"240":{"start":{"line":558,"column":12},"end":{"line":562,"column":15}},"241":{"start":{"line":567,"column":4},"end":{"line":567,"column":17}},"242":{"start":{"line":570,"column":0},"end":{"line":596,"column":2}},"243":{"start":{"line":571,"column":4},"end":{"line":571,"column":22}},"244":{"start":{"line":572,"column":4},"end":{"line":572,"column":41}},"245":{"start":{"line":573,"column":4},"end":{"line":573,"column":37}},"246":{"start":{"line":574,"column":4},"end":{"line":574,"column":32}},"247":{"start":{"line":575,"column":4},"end":{"line":575,"column":35}},"248":{"start":{"line":576,"column":4},"end":{"line":576,"column":43}},"249":{"start":{"line":577,"column":4},"end":{"line":577,"column":34}},"250":{"start":{"line":578,"column":4},"end":{"line":578,"column":35}},"251":{"start":{"line":579,"column":4},"end":{"line":579,"column":55}},"252":{"start":{"line":582,"column":4},"end":{"line":582,"column":28}},"253":{"start":{"line":583,"column":4},"end":{"line":583,"column":33}},"254":{"start":{"line":585,"column":4},"end":{"line":587,"column":5}},"255":{"start":{"line":586,"column":8},"end":{"line":586,"column":61}},"256":{"start":{"line":589,"column":4},"end":{"line":589,"column":41}},"257":{"start":{"line":591,"column":4},"end":{"line":593,"column":6}},"258":{"start":{"line":592,"column":8},"end":{"line":592,"column":37}},"259":{"start":{"line":595,"column":4},"end":{"line":595,"column":23}},"260":{"start":{"line":601,"column":0},"end":{"line":608,"column":1}},"261":{"start":{"line":602,"column":4},"end":{"line":607,"column":7}},"262":{"start":{"line":617,"column":0},"end":{"line":624,"column":1}},"263":{"start":{"line":618,"column":4},"end":{"line":623,"column":7}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":17},"end":{"line":12,"column":30}},{"start":{"line":12,"column":34},"end":{"line":12,"column":49}}]},"2":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":20},"end":{"line":67,"column":28}},{"start":{"line":67,"column":32},"end":{"line":67,"column":34}}]},"3":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":4}},{"start":{"line":77,"column":4},"end":{"line":77,"column":4}}]},"4":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"5":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":11},"end":{"line":90,"column":11}},{"start":{"line":90,"column":11},"end":{"line":90,"column":11}}]},"6":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":11},"end":{"line":93,"column":11}},{"start":{"line":93,"column":11},"end":{"line":93,"column":11}}]},"7":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":20},"end":{"line":116,"column":21}},{"start":{"line":116,"column":25},"end":{"line":116,"column":30}}]},"8":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":4}},{"start":{"line":127,"column":4},"end":{"line":127,"column":4}}]},"9":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":12},"end":{"line":136,"column":12}},{"start":{"line":136,"column":12},"end":{"line":136,"column":12}}]},"10":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":20},"end":{"line":139,"column":20}},{"start":{"line":139,"column":20},"end":{"line":139,"column":20}}]},"11":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":16},"end":{"line":146,"column":16}},{"start":{"line":146,"column":16},"end":{"line":146,"column":16}}]},"12":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":20},"end":{"line":150,"column":20}},{"start":{"line":150,"column":20},"end":{"line":150,"column":20}}]},"13":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":20},"end":{"line":158,"column":20}},{"start":{"line":158,"column":20},"end":{"line":158,"column":20}}]},"14":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":4},"end":{"line":204,"column":4}},{"start":{"line":204,"column":4},"end":{"line":204,"column":4}}]},"15":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":4},"end":{"line":207,"column":4}},{"start":{"line":207,"column":4},"end":{"line":207,"column":4}}]},"16":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":4},"end":{"line":211,"column":4}},{"start":{"line":211,"column":4},"end":{"line":211,"column":4}}]},"17":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":15},"end":{"line":216,"column":23}},{"start":{"line":216,"column":27},"end":{"line":216,"column":29}}]},"18":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":4},"end":{"line":218,"column":4}},{"start":{"line":218,"column":4},"end":{"line":218,"column":4}}]},"19":{"line":222,"type":"binary-expr","locations":[{"start":{"line":222,"column":27},"end":{"line":222,"column":35}},{"start":{"line":222,"column":39},"end":{"line":222,"column":41}}]},"20":{"line":233,"type":"binary-expr","locations":[{"start":{"line":233,"column":17},"end":{"line":233,"column":27}},{"start":{"line":233,"column":31},"end":{"line":233,"column":33}}]},"21":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":8},"end":{"line":237,"column":8}},{"start":{"line":237,"column":8},"end":{"line":237,"column":8}}]},"22":{"line":241,"type":"binary-expr","locations":[{"start":{"line":241,"column":39},"end":{"line":241,"column":45}},{"start":{"line":241,"column":49},"end":{"line":241,"column":72}}]},"23":{"line":248,"type":"binary-expr","locations":[{"start":{"line":248,"column":42},"end":{"line":248,"column":56}},{"start":{"line":248,"column":60},"end":{"line":248,"column":69}}]},"24":{"line":282,"type":"binary-expr","locations":[{"start":{"line":282,"column":20},"end":{"line":282,"column":33}},{"start":{"line":282,"column":37},"end":{"line":282,"column":86}}]},"25":{"line":282,"type":"cond-expr","locations":[{"start":{"line":282,"column":69},"end":{"line":282,"column":75}},{"start":{"line":282,"column":78},"end":{"line":282,"column":84}}]},"26":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":8},"end":{"line":290,"column":8}},{"start":{"line":290,"column":8},"end":{"line":290,"column":8}}]},"27":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":15},"end":{"line":292,"column":15}},{"start":{"line":292,"column":15},"end":{"line":292,"column":15}}]},"28":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":15},"end":{"line":297,"column":15}},{"start":{"line":297,"column":15},"end":{"line":297,"column":15}}]},"29":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":19},"end":{"line":297,"column":43}},{"start":{"line":297,"column":47},"end":{"line":297,"column":64}}]},"30":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":15},"end":{"line":301,"column":15}},{"start":{"line":301,"column":15},"end":{"line":301,"column":15}}]},"31":{"line":301,"type":"binary-expr","locations":[{"start":{"line":301,"column":19},"end":{"line":301,"column":43}},{"start":{"line":301,"column":47},"end":{"line":301,"column":71}}]},"32":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":16},"end":{"line":309,"column":16}},{"start":{"line":309,"column":16},"end":{"line":309,"column":16}}]},"33":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":16},"end":{"line":316,"column":16}},{"start":{"line":316,"column":16},"end":{"line":316,"column":16}}]},"34":{"line":319,"type":"if","locations":[{"start":{"line":319,"column":20},"end":{"line":319,"column":20}},{"start":{"line":319,"column":20},"end":{"line":319,"column":20}}]},"35":{"line":319,"type":"binary-expr","locations":[{"start":{"line":319,"column":24},"end":{"line":319,"column":38}},{"start":{"line":319,"column":42},"end":{"line":319,"column":61}},{"start":{"line":319,"column":65},"end":{"line":319,"column":93}}]},"36":{"line":321,"type":"if","locations":[{"start":{"line":321,"column":27},"end":{"line":321,"column":27}},{"start":{"line":321,"column":27},"end":{"line":321,"column":27}}]},"37":{"line":322,"type":"cond-expr","locations":[{"start":{"line":322,"column":64},"end":{"line":322,"column":69}},{"start":{"line":322,"column":72},"end":{"line":322,"column":79}}]},"38":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":12},"end":{"line":359,"column":12}},{"start":{"line":359,"column":12},"end":{"line":359,"column":12}}]},"39":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":16},"end":{"line":360,"column":39}},{"start":{"line":361,"column":16},"end":{"line":361,"column":37}},{"start":{"line":361,"column":41},"end":{"line":361,"column":42}},{"start":{"line":361,"column":46},"end":{"line":361,"column":76}}]},"40":{"line":382,"type":"if","locations":[{"start":{"line":382,"column":4},"end":{"line":382,"column":4}},{"start":{"line":382,"column":4},"end":{"line":382,"column":4}}]},"41":{"line":427,"type":"if","locations":[{"start":{"line":427,"column":4},"end":{"line":427,"column":4}},{"start":{"line":427,"column":4},"end":{"line":427,"column":4}}]},"42":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":11},"end":{"line":429,"column":11}},{"start":{"line":429,"column":11},"end":{"line":429,"column":11}}]},"43":{"line":440,"type":"if","locations":[{"start":{"line":440,"column":4},"end":{"line":440,"column":4}},{"start":{"line":440,"column":4},"end":{"line":440,"column":4}}]},"44":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":11},"end":{"line":442,"column":11}},{"start":{"line":442,"column":11},"end":{"line":442,"column":11}}]},"45":{"line":453,"type":"if","locations":[{"start":{"line":453,"column":4},"end":{"line":453,"column":4}},{"start":{"line":453,"column":4},"end":{"line":453,"column":4}}]},"46":{"line":455,"type":"if","locations":[{"start":{"line":455,"column":11},"end":{"line":455,"column":11}},{"start":{"line":455,"column":11},"end":{"line":455,"column":11}}]},"47":{"line":474,"type":"if","locations":[{"start":{"line":474,"column":4},"end":{"line":474,"column":4}},{"start":{"line":474,"column":4},"end":{"line":474,"column":4}}]},"48":{"line":495,"type":"if","locations":[{"start":{"line":495,"column":4},"end":{"line":495,"column":4}},{"start":{"line":495,"column":4},"end":{"line":495,"column":4}}]},"49":{"line":497,"type":"if","locations":[{"start":{"line":497,"column":4},"end":{"line":497,"column":4}},{"start":{"line":497,"column":4},"end":{"line":497,"column":4}}]},"50":{"line":499,"type":"if","locations":[{"start":{"line":499,"column":12},"end":{"line":499,"column":12}},{"start":{"line":499,"column":12},"end":{"line":499,"column":12}}]},"51":{"line":502,"type":"switch","locations":[{"start":{"line":503,"column":12},"end":{"line":505,"column":18}},{"start":{"line":506,"column":12},"end":{"line":506,"column":20}},{"start":{"line":507,"column":12},"end":{"line":509,"column":18}}]},"52":{"line":521,"type":"if","locations":[{"start":{"line":521,"column":4},"end":{"line":521,"column":4}},{"start":{"line":521,"column":4},"end":{"line":521,"column":4}}]},"53":{"line":525,"type":"if","locations":[{"start":{"line":525,"column":11},"end":{"line":525,"column":11}},{"start":{"line":525,"column":11},"end":{"line":525,"column":11}}]},"54":{"line":548,"type":"if","locations":[{"start":{"line":548,"column":4},"end":{"line":548,"column":4}},{"start":{"line":548,"column":4},"end":{"line":548,"column":4}}]},"55":{"line":557,"type":"if","locations":[{"start":{"line":557,"column":8},"end":{"line":557,"column":8}},{"start":{"line":557,"column":8},"end":{"line":557,"column":8}}]}},"code":["/**"," * Module dependencies"," */","var AbstractClass = require('./model.js');","var List = require('./list.js');","var EventEmitter = require('events').EventEmitter;","var util = require('util');","var path = require('path');","var fs = require('fs');","var when = require('when');","","var existsSync = fs.existsSync || path.existsSync;","","/**"," * Export public API"," */","exports.Schema = Schema;","// exports.AbstractClass = AbstractClass;","","/**"," * Helpers"," */","var slice = Array.prototype.slice;","","Schema.Text = function Text(s) { return s; };","Schema.JSON = function JSON() {};","","Schema.types = {};","Schema.registerType = function (type) {","    this.types[type.name] = type;","};","","Schema.registerType(Schema.Text);","Schema.registerType(Schema.JSON);","","","/**"," * Schema - adapter-specific classes factory."," *"," * All classes in single schema shares same adapter type and"," * one database connection"," *"," * @param name - type of schema adapter (mysql, mongoose, sequelize, redis)"," * @param settings - any database-specific settings which we need to"," * establish connection (of course it depends on specific adapter)"," *"," * - host"," * - port"," * - username"," * - password"," * - database"," * - debug {Boolean} = false"," *"," * @example Schema creation, waiting for connection callback"," * ```"," * var schema = new Schema('mysql', { database: 'myapp_test' });"," * schema.define(...);"," * schema.on('connected', function () {"," *     // work with database"," * });"," * ```"," */","function Schema(name, settings) {","    var schema = this;","    // just save everything we get","    this.name = name;","    this.settings = settings || {};","","    // Disconnected by default","    this.connected = false;","    this.connecting = false;","","    // create blank models pool","    this.models = {};","    this.definitions = {};","","    if (this.settings.log) {","        this.on('log', function(str, duration) {","            console.log(str);","        });","    }","","    // and initialize schema using adapter","    // this is only one initialization entry point of adapter","    // this module should define `adapter` member of `this` (schema)","    var adapter;","    if (typeof name === 'object') {","        adapter = name;","        this.name = adapter.name;","    } else if (name.match(/^\\//)) {","        // try absolute path","        adapter = require(name);","    } else if (existsSync(__dirname + '/adapters/' + name + '.js')) {","        // try built-in adapter","        adapter = require('./adapters/' + name);","    } else {","        // try foreign adapter","        try {","            adapter = require('jugglingdb-' + name);","        } catch (e) {","            return console.log('\\nWARNING: JugglingDB adapter \"' + name + '\" is not installed,\\nso your models would not work, to fix run:\\n\\n    npm install jugglingdb-' + name, '\\n');","        }","    }","","    this.connecting = true;","    adapter.initialize(this, function () {","","        this.adapter.log = function (query, start) {","            schema.log(query, start);","        };","","        this.adapter.logger = function (query) {","            var t1 = Date.now();","            var log = this.log;","            return function (q) {","                log(q || query, t1);","            };","        };","","        this.connecting = false;","        this.connected = true;","        this.emit('connected');","","    }.bind(this));","","    // we have an adaper now?","    if (!this.adapter) {","        this.emit('disconnected');","        throw new Error('Adapter \"' + name + '\" is not defined correctly: it should define `adapter` member of schema synchronously');","    }","","    schema.connect = function(cb) {","        var schema = this;","        schema.connecting = true;","        return new when.Promise(function(resolve, reject) {","            if (!schema.adapter.connect) {","                return process.nextTick(function() {","                    schema.connecting = false;","                    if (cb) {","                        cb(null, schema);","                    }","                    return resolve(schema);","                });","            }","            schema.adapter.connect(function(err) {","                if (err) {","                    schema.connected = false;","                    schema.connecting = false;","                    reject(err);","                    if (cb) {","                        cb(err);","                    }","                } else {","                    schema.connected = true;","                    schema.connecting = false;","                    schema.emit('connected');","                    resolve(schema);","                    if (cb) {","                        cb(null, schema);","                    }","                }","            });","        });","    };","}","","util.inherits(Schema, EventEmitter);","","/**"," * Define class"," *"," * @param {String} className"," * @param {Object} properties - hash of class properties in format"," *   `{property: Type, property2: Type2, ...}`"," *   or"," *   `{property: {type: Type}, property2: {type: Type2}, ...}`"," * @param {Object} settings - other configuration of class"," * @return newly created class"," *"," * @example simple case"," * ```"," * var User = schema.define('User', {"," *     email: String,"," *     password: String,"," *     birthDate: Date,"," *     activated: Boolean"," * });"," * ```"," * @example more advanced case"," * ```"," * var User = schema.define('User', {"," *     email: { type: String, limit: 150, index: true },"," *     password: { type: String, limit: 50 },"," *     birthDate: Date,"," *     registrationDate: {type: Date, default: function () { return new Date }},"," *     activated: { type: Boolean, default: false }"," * });"," * ```"," */","Schema.prototype.define = function defineClass(className, properties, settings) {","    var schema = this;","    var args = slice.call(arguments);","","    if (!className) {","        throw new Error('Class name required');","    }","    if (args.length == 1) {","        properties = {};","        args.push(properties);","    }","    if (args.length == 2) {","        settings = {};","        args.push(settings);","    }","","    settings = settings || {};","","    if ('function' === typeof properties) {","        var props = {};","        properties({","            property: function(name, type, settings) {","                settings = settings || {};","                settings.type = type;","                props[name] = settings;","            },","            set: function(key, val) {","                settings[key] = val;","            }","        });","        properties = props;","    }","","    properties = properties || {};","","    // every class can receive hash of data as optional param","    var NewClass = function ModelConstructor(data, schema) {","        if (!(this instanceof ModelConstructor)) {","            return new ModelConstructor(data);","        }","        AbstractClass.call(this, data);","        hiddenProperty(this, 'schema', schema || this.constructor.schema);","    };","","    hiddenProperty(NewClass, 'schema', schema);","    hiddenProperty(NewClass, 'settings', settings);","    hiddenProperty(NewClass, 'properties', properties);","    hiddenProperty(NewClass, 'modelName', className);","    hiddenProperty(NewClass, 'tableName', settings.table || className);","    hiddenProperty(NewClass, 'relations', {});","","    // inherit AbstractClass methods","    for (var i in AbstractClass) {","        NewClass[i] = AbstractClass[i];","    }","    for (var j in AbstractClass.prototype) {","        NewClass.prototype[j] = AbstractClass.prototype[j];","    }","","    NewClass.getter = {};","    NewClass.setter = {};","","    standartize(properties, settings);","","    // store class in model pool","    this.models[className] = NewClass;","    this.definitions[className] = {","        properties: properties,","        settings: settings","    };","","    // pass control to adapter","    this.adapter.define({","        model:      NewClass,","        properties: properties,","        settings:   settings","    });","","    NewClass.prototype.__defineGetter__('id', function () {","        return this.__data.id;","    });","","    properties.id = properties.id || { type: schema.settings.slave ? String : Number };","","    NewClass.forEachProperty = function (cb) {","        Object.keys(properties).forEach(cb);","    };","","    NewClass.registerProperty = function (attr) {","        var DataType = properties[attr].type;","        if (DataType instanceof Array) {","            DataType = List;","        } else if (DataType.name === 'Date') {","            var OrigDate = Date;","            DataType = function Date(arg) {","                return new OrigDate(arg);","            };","        } else if (DataType.name === 'JSON' || DataType === JSON) {","            DataType = function JSON(s) {","                return s;","            };","        } else if (DataType.name === 'Text' || DataType === Schema.Text) {","            DataType = function Text(s) {","                return s;","            };","        }","","        Object.defineProperty(NewClass.prototype, attr, {","            get: function () {","                if (NewClass.getter[attr]) {","                    return NewClass.getter[attr].call(this);","                } else {","                    return this.__data[attr];","                }","            },","            set: function (value) {","                if (NewClass.setter[attr]) {","                    NewClass.setter[attr].call(this, value);","                } else {","                    if (value === null || value === undefined || typeof DataType === 'object') {","                        this.__data[attr] = value;","                    } else if (DataType === Boolean) {","                        this.__data[attr] = value === 'false' ? false : !!value;","                    } else {","                        this.__data[attr] = DataType(value);","                    }","                }","            },","            configurable: true,","            enumerable: true","        });","","        NewClass.prototype.__defineGetter__(attr + '_was', function () {","            return this.__dataWas[attr];","        });","","        Object.defineProperty(NewClass.prototype, '_' + attr, {","            get: function () {","                return this.__data[attr];","            },","            set: function (value) {","                this.__data[attr] = value;","            },","            configurable: true,","            enumerable: false","        });","    };","","    NewClass.forEachProperty(NewClass.registerProperty);","","    this.emit('define', NewClass, className, properties, settings);","","    return NewClass;","","};","","    function standartize(properties, settings) {","        Object.keys(properties).forEach(function (key) {","            var v = properties[key];","            if (","                typeof v === 'function' ||","                typeof v === 'object' && v && v.constructor.name === 'Array'","            ) {","                properties[key] = { type: v };","            }","        });","        // TODO: add timestamps fields","        // when present in settings: {timestamps: true}","        // or {timestamps: {created: 'created_at', updated: false}}","        // by default property names: createdAt, updatedAt","    }","","/**"," * Define single property named `prop` on `model`"," *"," * @param {String} model - name of model"," * @param {String} prop - name of propery"," * @param {Object} params - property settings"," */","Schema.prototype.defineProperty = function (model, prop, params) {","    this.definitions[model].properties[prop] = params;","    this.models[model].registerProperty(prop);","    if (this.adapter.defineProperty) {","        this.adapter.defineProperty(model, prop, params);","    }","};","","/**"," * Extend existing model with bunch of properties"," *"," * @param {String} model - name of model"," * @param {Object} props - hash of properties"," *"," * Example:"," *"," *     // Instead of doing this:"," *"," *     // amend the content model with competition attributes"," *     db.defineProperty('Content', 'competitionType', { type: String });"," *     db.defineProperty('Content', 'expiryDate', { type: Date, index: true });"," *     db.defineProperty('Content', 'isExpired', { type: Boolean, index: true });"," *"," *     // schema.extend allows to"," *     // extend the content model with competition attributes"," *     db.extendModel('Content', {"," *       competitionType: String,"," *       expiryDate: { type: Date, index: true },"," *       isExpired: { type: Boolean, index: true }"," *     });"," */","Schema.prototype.extendModel = function (model, props) {","    var t = this;","    standartize(props, {});","    Object.keys(props).forEach(function (propName) {","        var definition = props[propName];","        t.defineProperty(model, propName, definition);","    });","};","","/**"," * Drop each model table and re-create."," * This method make sense only for sql adapters."," *"," * @warning All data will be lost! Use autoupdate if you need your data."," */","Schema.prototype.automigrate = function (cb) {","    this.freeze();","    if (this.adapter.automigrate) {","        this.adapter.automigrate(cb);","    } else if (cb) {","        cb();","    }","};","","/**"," * Update existing database tables."," * This method make sense only for sql adapters."," */","Schema.prototype.autoupdate = function (cb) {","    this.freeze();","    if (this.adapter.autoupdate) {","        this.adapter.autoupdate(cb);","    } else if (cb) {","        cb();","    }","};","","/**"," * Check whether migrations needed"," * This method make sense only for sql adapters."," */","Schema.prototype.isActual = function (cb) {","    this.freeze();","    if (this.adapter.isActual) {","        this.adapter.isActual(cb);","    } else if (cb) {","        cb(null, true);","    }","};","","/**"," * Log benchmarked message. Do not redefine this method, if you need to grab"," * chema logs, use `schema.on('log', ...)` emitter event"," *"," * @private used by adapters"," */","Schema.prototype.log = function (sql, t) {","    this.emit('log', sql, t);","};","","/**"," * Freeze schema. Behavior depends on adapter"," */","Schema.prototype.freeze = function freeze() {","    if (this.adapter.freezeSchema) {","        this.adapter.freezeSchema();","    }","};","","/**"," * Backward compatibility. Use model.tableName prop instead."," * Return table name for specified `modelName`"," * @param {String} modelName"," */","Schema.prototype.tableName = function (modelName) {","    return this.models[modelName].model.tableName;","};","","/**"," * Define foreign key"," * @param {String} className"," * @param {String} key - name of key field"," */","Schema.prototype.defineForeignKey = function defineForeignKey(className, key, foreignClassName) {","    // quit if key already defined","    if (this.definitions[className].properties[key]) return;","","    if (this.adapter.defineForeignKey) {","        var cb = function (err, keyType) {","            if (err) throw err;","            this.definitions[className].properties[key] = {type: keyType};","        }.bind(this);","        switch (this.adapter.defineForeignKey.length) {","            case 4:","                this.adapter.defineForeignKey(className, key, foreignClassName, cb);","            break;","            default:","            case 3:","                this.adapter.defineForeignKey(className, key, cb);","            break;","        }","    } else {","        this.definitions[className].properties[key] = {type: Number};","    }","    this.models[className].registerProperty(key);","};","","/**"," * Close database connection"," */","Schema.prototype.disconnect = function disconnect(cb) {","    if (typeof this.adapter.disconnect === 'function') {","        this.connected = false;","        this.adapter.disconnect(cb);","        this.emit('disconnected');","    } else if (cb) {","        cb();","    }","};","","Schema.prototype.copyModel = function copyModel(Master) {","    var schema = this;","    var className = Master.modelName;","    var md = Master.schema.definitions[className];","    var Slave = function SlaveModel() {","        Master.apply(this, [].slice.call(arguments));","        this.schema = schema;","    };","","    util.inherits(Slave, Master);","","    Slave.__proto__ = Master;","","    hiddenProperty(Slave, 'schema', schema);","    hiddenProperty(Slave, 'modelName', className);","    hiddenProperty(Slave, 'tableName', Master.tableName);","    hiddenProperty(Slave, 'relations', Master.relations);","","    if (!(className in schema.models)) {","","        // store class in model pool","        schema.models[className] = Slave;","        schema.definitions[className] = {","            properties: md.properties,","            settings: md.settings","        };","","        if (!schema.isTransaction) {","            schema.adapter.define({","                model:      Slave,","                properties: md.properties,","                settings:   md.settings","            });","        }","","    }","","    return Slave;","};","","Schema.prototype.transaction = function() {","    var schema = this;","    var transaction = new EventEmitter();","    transaction.isTransaction = true;","    transaction.origin = schema;","    transaction.name = schema.name;","    transaction.settings = schema.settings;","    transaction.connected = false;","    transaction.connecting = false;","    transaction.adapter = schema.adapter.transaction();","","    // create blank models pool","    transaction.models = {};","    transaction.definitions = {};","","    for (var i in schema.models) {","        schema.copyModel.call(transaction, schema.models[i]);","    }","","    transaction.connect = schema.connect;","","    transaction.exec = function(cb) {","        transaction.adapter.exec(cb);","    };","","    return transaction;","};","","/**"," * Define hidden property"," */","function hiddenProperty(where, property, value) {","    Object.defineProperty(where, property, {","        writable: false,","        enumerable: false,","        configurable: false,","        value: value","    });","}","","/**"," * Define readonly property on object"," *"," * @param {Object} obj"," * @param {String} key"," * @param {Mixed} value"," */","function defineReadonlyProp(obj, key, value) {","    Object.defineProperty(obj, key, {","        writable: false,","        enumerable: true,","        configurable: true,","        value: value","    });","}","",""],"l":{"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"17":1,"23":1,"25":1,"26":1,"28":1,"29":1,"30":2,"33":1,"34":1,"63":1,"64":0,"66":0,"67":0,"70":0,"71":0,"74":0,"75":0,"77":0,"78":0,"79":0,"86":0,"87":0,"88":0,"89":0,"90":0,"92":0,"93":0,"95":0,"98":0,"99":0,"101":0,"105":0,"106":0,"108":0,"109":0,"112":0,"113":0,"114":0,"115":0,"116":0,"120":0,"121":0,"122":0,"127":0,"128":0,"129":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"142":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"167":1,"200":1,"201":0,"202":0,"204":0,"205":0,"207":0,"208":0,"209":0,"211":0,"212":0,"213":0,"216":0,"218":0,"219":0,"220":0,"222":0,"223":0,"224":0,"227":0,"230":0,"233":0,"236":0,"237":0,"238":0,"240":0,"241":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"252":0,"253":0,"255":0,"256":0,"259":0,"260":0,"262":0,"265":0,"266":0,"272":0,"278":0,"279":0,"282":0,"284":0,"285":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"297":0,"298":0,"299":0,"301":0,"302":0,"303":0,"307":0,"309":0,"310":0,"312":0,"316":0,"317":0,"319":0,"320":0,"321":0,"322":0,"324":0,"332":0,"333":0,"336":0,"338":0,"341":0,"348":0,"350":0,"352":0,"356":1,"357":0,"358":0,"359":0,"363":0,"379":1,"380":0,"381":0,"382":0,"383":0,"410":1,"411":0,"412":0,"413":0,"414":0,"415":0,"425":1,"426":0,"427":0,"428":0,"429":0,"430":0,"438":1,"439":0,"440":0,"441":0,"442":0,"443":0,"451":1,"452":0,"453":0,"454":0,"455":0,"456":0,"466":1,"467":0,"473":1,"474":0,"475":0,"484":1,"485":0,"493":1,"495":0,"497":0,"498":0,"499":0,"500":0,"502":0,"504":0,"505":0,"508":0,"509":0,"512":0,"514":0,"520":1,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"530":1,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"539":0,"541":0,"543":0,"544":0,"545":0,"546":0,"548":0,"551":0,"552":0,"557":0,"558":0,"567":0,"570":1,"571":0,"572":0,"573":0,"574":0,"575":0,"576":0,"577":0,"578":0,"579":0,"582":0,"583":0,"585":0,"586":0,"589":0,"591":0,"592":0,"595":0,"601":1,"602":0,"617":1,"618":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/model.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/model.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":1,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":1,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":1,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":1,"206":0,"207":0,"208":0,"209":1,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":1,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":1,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":1,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":1,"292":0,"293":0,"294":1,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":1,"304":0,"305":0,"306":1,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":1,"316":0,"317":0,"318":0,"319":1,"320":0,"321":0,"322":0,"323":0,"324":1,"325":0,"326":1,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":1,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":1,"363":0,"364":1,"365":0,"366":1,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":1,"388":0,"389":1,"390":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":1,"398":0,"399":0,"400":0,"401":1,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":1,"429":0,"430":0,"431":1,"432":0,"433":1,"434":0,"435":1,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":1,"443":0,"444":1,"445":10,"446":1,"447":5,"448":1,"449":15,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":1,"471":0,"472":0,"473":1,"474":0},"b":{"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0,0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0],"120":[0,0],"121":[0,0],"122":[0,0],"123":[0,0],"124":[0,0],"125":[0,0],"126":[0,0],"127":[0,0],"128":[0,0],"129":[0,0],"130":[0,0],"131":[0,0],"132":[0,0],"133":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":10,"100":5,"101":15,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0},"fnMap":{"1":{"name":"AbstractClass","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":29}}},"2":{"name":"(anonymous_2)","line":45,"loc":{"start":{"line":45,"column":42},"end":{"line":45,"column":72}}},"3":{"name":"(anonymous_3)","line":87,"loc":{"start":{"line":87,"column":34},"end":{"line":87,"column":50}}},"4":{"name":"(anonymous_4)","line":92,"loc":{"start":{"line":92,"column":25},"end":{"line":92,"column":41}}},"5":{"name":"(anonymous_5)","line":102,"loc":{"start":{"line":102,"column":25},"end":{"line":102,"column":41}}},"6":{"name":"getDefault","line":121,"loc":{"start":{"line":121,"column":4},"end":{"line":121,"column":30}}},"7":{"name":"(anonymous_7)","line":141,"loc":{"start":{"line":141,"column":31},"end":{"line":141,"column":55}}},"8":{"name":"(anonymous_8)","line":145,"loc":{"start":{"line":145,"column":29},"end":{"line":145,"column":49}}},"9":{"name":"(anonymous_9)","line":160,"loc":{"start":{"line":160,"column":23},"end":{"line":160,"column":45}}},"10":{"name":"(anonymous_10)","line":165,"loc":{"start":{"line":165,"column":55},"end":{"line":165,"column":74}}},"11":{"name":"(anonymous_11)","line":179,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":39}}},"12":{"name":"(anonymous_12)","line":183,"loc":{"start":{"line":183,"column":30},"end":{"line":183,"column":50}}},"13":{"name":"(anonymous_13)","line":208,"loc":{"start":{"line":208,"column":24},"end":{"line":208,"column":40}}},"14":{"name":"(anonymous_14)","line":212,"loc":{"start":{"line":212,"column":36},"end":{"line":212,"column":59}}},"15":{"name":"(anonymous_15)","line":222,"loc":{"start":{"line":222,"column":39},"end":{"line":222,"column":59}}},"16":{"name":"(anonymous_16)","line":236,"loc":{"start":{"line":236,"column":23},"end":{"line":236,"column":49}}},"17":{"name":"(anonymous_17)","line":247,"loc":{"start":{"line":247,"column":19},"end":{"line":247,"column":31}}},"18":{"name":"createModel","line":276,"loc":{"start":{"line":276,"column":4},"end":{"line":276,"column":31}}},"19":{"name":"(anonymous_19)","line":277,"loc":{"start":{"line":277,"column":24},"end":{"line":277,"column":44}}},"20":{"name":"modelCreated","line":287,"loc":{"start":{"line":287,"column":4},"end":{"line":287,"column":28}}},"21":{"name":"(anonymous_21)","line":307,"loc":{"start":{"line":307,"column":20},"end":{"line":307,"column":41}}},"22":{"name":"create","line":317,"loc":{"start":{"line":317,"column":4},"end":{"line":317,"column":22}}},"23":{"name":"(anonymous_23)","line":318,"loc":{"start":{"line":318,"column":30},"end":{"line":318,"column":51}}},"24":{"name":"(anonymous_24)","line":319,"loc":{"start":{"line":319,"column":32},"end":{"line":319,"column":51}}},"25":{"name":"(anonymous_25)","line":321,"loc":{"start":{"line":321,"column":95},"end":{"line":321,"column":119}}},"26":{"name":"(anonymous_26)","line":335,"loc":{"start":{"line":335,"column":39},"end":{"line":335,"column":51}}},"27":{"name":"(anonymous_27)","line":336,"loc":{"start":{"line":336,"column":45},"end":{"line":336,"column":57}}},"28":{"name":"connection","line":348,"loc":{"start":{"line":348,"column":0},"end":{"line":348,"column":28}}},"29":{"name":"(anonymous_29)","line":353,"loc":{"start":{"line":353,"column":36},"end":{"line":353,"column":54}}},"30":{"name":"(anonymous_30)","line":354,"loc":{"start":{"line":354,"column":41},"end":{"line":354,"column":53}}},"31":{"name":"upsert","line":367,"loc":{"start":{"line":367,"column":54},"end":{"line":367,"column":86}}},"32":{"name":"(anonymous_32)","line":373,"loc":{"start":{"line":373,"column":95},"end":{"line":373,"column":116}}},"33":{"name":"(anonymous_33)","line":385,"loc":{"start":{"line":385,"column":27},"end":{"line":385,"column":48}}},"34":{"name":"findOrCreate","line":405,"loc":{"start":{"line":405,"column":29},"end":{"line":405,"column":74}}},"35":{"name":"(anonymous_35)","line":414,"loc":{"start":{"line":414,"column":19},"end":{"line":414,"column":31}}},"36":{"name":"(anonymous_36)","line":418,"loc":{"start":{"line":418,"column":24},"end":{"line":418,"column":47}}},"37":{"name":"exists","line":431,"loc":{"start":{"line":431,"column":23},"end":{"line":431,"column":47}}},"38":{"name":"find","line":445,"loc":{"start":{"line":445,"column":21},"end":{"line":445,"column":43}}},"39":{"name":"(anonymous_39)","line":448,"loc":{"start":{"line":448,"column":50},"end":{"line":448,"column":71}}},"40":{"name":"all","line":480,"loc":{"start":{"line":480,"column":20},"end":{"line":480,"column":45}}},"41":{"name":"(anonymous_41)","line":498,"loc":{"start":{"line":498,"column":60},"end":{"line":498,"column":81}}},"42":{"name":"(anonymous_42)","line":502,"loc":{"start":{"line":502,"column":44},"end":{"line":502,"column":56}}},"43":{"name":"(anonymous_43)","line":506,"loc":{"start":{"line":506,"column":76},"end":{"line":506,"column":90}}},"44":{"name":"(anonymous_44)","line":510,"loc":{"start":{"line":510,"column":37},"end":{"line":510,"column":52}}},"45":{"name":"(anonymous_45)","line":511,"loc":{"start":{"line":511,"column":54},"end":{"line":511,"column":68}}},"46":{"name":"(anonymous_46)","line":521,"loc":{"start":{"line":521,"column":29},"end":{"line":521,"column":45}}},"47":{"name":"map","line":551,"loc":{"start":{"line":551,"column":24},"end":{"line":551,"column":65}}},"48":{"name":"nextBatch","line":569,"loc":{"start":{"line":569,"column":4},"end":{"line":569,"column":25}}},"49":{"name":"(anonymous_49)","line":581,"loc":{"start":{"line":581,"column":31},"end":{"line":581,"column":52}}},"50":{"name":"(anonymous_50)","line":588,"loc":{"start":{"line":588,"column":35},"end":{"line":588,"column":52}}},"51":{"name":"next","line":596,"loc":{"start":{"line":596,"column":12},"end":{"line":596,"column":28}}},"52":{"name":"nextItem","line":601,"loc":{"start":{"line":601,"column":12},"end":{"line":601,"column":35}}},"53":{"name":"(anonymous_53)","line":610,"loc":{"start":{"line":610,"column":29},"end":{"line":610,"column":40}}},"54":{"name":"done","line":617,"loc":{"start":{"line":617,"column":4},"end":{"line":617,"column":23}}},"55":{"name":"findOne","line":630,"loc":{"start":{"line":630,"column":24},"end":{"line":630,"column":53}}},"56":{"name":"(anonymous_56)","line":637,"loc":{"start":{"line":637,"column":21},"end":{"line":637,"column":48}}},"57":{"name":"destroyAll","line":649,"loc":{"start":{"line":649,"column":27},"end":{"line":649,"column":51}}},"58":{"name":"(anonymous_58)","line":650,"loc":{"start":{"line":650,"column":51},"end":{"line":650,"column":66}}},"59":{"name":"(anonymous_59)","line":663,"loc":{"start":{"line":663,"column":22},"end":{"line":663,"column":43}}},"60":{"name":"(anonymous_60)","line":676,"loc":{"start":{"line":676,"column":25},"end":{"line":676,"column":37}}},"61":{"name":"(anonymous_61)","line":686,"loc":{"start":{"line":686,"column":31},"end":{"line":686,"column":60}}},"62":{"name":"(anonymous_62)","line":693,"loc":{"start":{"line":693,"column":27},"end":{"line":693,"column":39}}},"63":{"name":"(anonymous_63)","line":722,"loc":{"start":{"line":722,"column":17},"end":{"line":722,"column":39}}},"64":{"name":"save","line":735,"loc":{"start":{"line":735,"column":4},"end":{"line":735,"column":20}}},"65":{"name":"(anonymous_65)","line":736,"loc":{"start":{"line":736,"column":29},"end":{"line":736,"column":49}}},"66":{"name":"(anonymous_66)","line":737,"loc":{"start":{"line":737,"column":35},"end":{"line":737,"column":57}}},"67":{"name":"(anonymous_67)","line":738,"loc":{"start":{"line":738,"column":79},"end":{"line":738,"column":94}}},"68":{"name":"(anonymous_68)","line":743,"loc":{"start":{"line":743,"column":42},"end":{"line":743,"column":54}}},"69":{"name":"(anonymous_69)","line":744,"loc":{"start":{"line":744,"column":44},"end":{"line":744,"column":56}}},"70":{"name":"(anonymous_70)","line":754,"loc":{"start":{"line":754,"column":38},"end":{"line":754,"column":50}}},"71":{"name":"(anonymous_71)","line":762,"loc":{"start":{"line":762,"column":35},"end":{"line":762,"column":47}}},"72":{"name":"(anonymous_72)","line":776,"loc":{"start":{"line":776,"column":35},"end":{"line":776,"column":74}}},"73":{"name":"(anonymous_73)","line":782,"loc":{"start":{"line":782,"column":37},"end":{"line":782,"column":53}}},"74":{"name":"(anonymous_74)","line":793,"loc":{"start":{"line":793,"column":34},"end":{"line":793,"column":50}}},"75":{"name":"(anonymous_75)","line":801,"loc":{"start":{"line":801,"column":43},"end":{"line":801,"column":59}}},"76":{"name":"(anonymous_76)","line":817,"loc":{"start":{"line":817,"column":33},"end":{"line":817,"column":45}}},"77":{"name":"(anonymous_77)","line":827,"loc":{"start":{"line":827,"column":34},"end":{"line":827,"column":48}}},"78":{"name":"(anonymous_78)","line":829,"loc":{"start":{"line":829,"column":28},"end":{"line":829,"column":49}}},"79":{"name":"(anonymous_79)","line":830,"loc":{"start":{"line":830,"column":69},"end":{"line":830,"column":84}}},"80":{"name":"(anonymous_80)","line":835,"loc":{"start":{"line":835,"column":22},"end":{"line":835,"column":34}}},"81":{"name":"updateAttribute","line":851,"loc":{"start":{"line":851,"column":42},"end":{"line":851,"column":90}}},"82":{"name":"updateAttributes","line":866,"loc":{"start":{"line":866,"column":43},"end":{"line":866,"column":85}}},"83":{"name":"(anonymous_83)","line":881,"loc":{"start":{"line":881,"column":30},"end":{"line":881,"column":45}}},"84":{"name":"(anonymous_84)","line":885,"loc":{"start":{"line":885,"column":17},"end":{"line":885,"column":39}}},"85":{"name":"(anonymous_85)","line":892,"loc":{"start":{"line":892,"column":33},"end":{"line":892,"column":53}}},"86":{"name":"(anonymous_86)","line":893,"loc":{"start":{"line":893,"column":39},"end":{"line":893,"column":55}}},"87":{"name":"(anonymous_87)","line":895,"loc":{"start":{"line":895,"column":46},"end":{"line":895,"column":61}}},"88":{"name":"(anonymous_88)","line":899,"loc":{"start":{"line":899,"column":119},"end":{"line":899,"column":134}}},"89":{"name":"(anonymous_89)","line":902,"loc":{"start":{"line":902,"column":54},"end":{"line":902,"column":69}}},"90":{"name":"(anonymous_90)","line":906,"loc":{"start":{"line":906,"column":40},"end":{"line":906,"column":52}}},"91":{"name":"(anonymous_91)","line":907,"loc":{"start":{"line":907,"column":48},"end":{"line":907,"column":60}}},"92":{"name":"(anonymous_92)","line":920,"loc":{"start":{"line":920,"column":37},"end":{"line":920,"column":52}}},"93":{"name":"(anonymous_93)","line":921,"loc":{"start":{"line":921,"column":29},"end":{"line":921,"column":44}}},"94":{"name":"propertyChanged","line":932,"loc":{"start":{"line":932,"column":42},"end":{"line":932,"column":73}}},"95":{"name":"reload","line":942,"loc":{"start":{"line":942,"column":33},"end":{"line":942,"column":59}}},"96":{"name":"(anonymous_96)","line":953,"loc":{"start":{"line":953,"column":32},"end":{"line":953,"column":44}}},"97":{"name":"(anonymous_97)","line":955,"loc":{"start":{"line":955,"column":29},"end":{"line":955,"column":42}}},"98":{"name":"(anonymous_98)","line":965,"loc":{"start":{"line":965,"column":34},"end":{"line":965,"column":46}}},"99":{"name":"(anonymous_99)","line":969,"loc":{"start":{"line":969,"column":29},"end":{"line":969,"column":50}}},"100":{"name":"(anonymous_100)","line":973,"loc":{"start":{"line":973,"column":32},"end":{"line":973,"column":53}}},"101":{"name":"wrapWithPromise","line":977,"loc":{"start":{"line":977,"column":0},"end":{"line":977,"column":44}}},"102":{"name":"promisedWrap","line":978,"loc":{"start":{"line":978,"column":11},"end":{"line":978,"column":35}}},"103":{"name":"(anonymous_103)","line":985,"loc":{"start":{"line":985,"column":14},"end":{"line":985,"column":25}}},"104":{"name":"(anonymous_104)","line":986,"loc":{"start":{"line":986,"column":36},"end":{"line":986,"column":62}}},"105":{"name":"(anonymous_105)","line":987,"loc":{"start":{"line":987,"column":26},"end":{"line":987,"column":48}}},"106":{"name":"(anonymous_106)","line":999,"loc":{"start":{"line":999,"column":31},"end":{"line":999,"column":48}}},"107":{"name":"(anonymous_107)","line":1001,"loc":{"start":{"line":1001,"column":15},"end":{"line":1001,"column":29}}},"108":{"name":"isdef","line":1019,"loc":{"start":{"line":1019,"column":0},"end":{"line":1019,"column":18}}},"109":{"name":"defineReadonlyProp","line":1031,"loc":{"start":{"line":1031,"column":0},"end":{"line":1031,"column":45}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":59}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":46}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":50}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":32}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":22}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":26}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":24}},"11":{"start":{"line":19,"column":0},"end":{"line":19,"column":65}},"12":{"start":{"line":32,"column":0},"end":{"line":34,"column":1}},"13":{"start":{"line":33,"column":4},"end":{"line":33,"column":37}},"14":{"start":{"line":36,"column":0},"end":{"line":39,"column":2}},"15":{"start":{"line":41,"column":0},"end":{"line":43,"column":2}},"16":{"start":{"line":45,"column":0},"end":{"line":135,"column":2}},"17":{"start":{"line":46,"column":4},"end":{"line":46,"column":20}},"18":{"start":{"line":47,"column":4},"end":{"line":47,"column":32}},"19":{"start":{"line":48,"column":4},"end":{"line":48,"column":53}},"20":{"start":{"line":49,"column":4},"end":{"line":49,"column":35}},"21":{"start":{"line":50,"column":4},"end":{"line":50,"column":22}},"22":{"start":{"line":52,"column":4},"end":{"line":57,"column":7}},"23":{"start":{"line":59,"column":4},"end":{"line":64,"column":7}},"24":{"start":{"line":66,"column":4},"end":{"line":71,"column":7}},"25":{"start":{"line":73,"column":4},"end":{"line":75,"column":5}},"26":{"start":{"line":74,"column":8},"end":{"line":74,"column":56}},"27":{"start":{"line":77,"column":4},"end":{"line":84,"column":5}},"28":{"start":{"line":78,"column":8},"end":{"line":83,"column":9}},"29":{"start":{"line":79,"column":12},"end":{"line":79,"column":57}},"30":{"start":{"line":80,"column":15},"end":{"line":83,"column":9}},"31":{"start":{"line":81,"column":12},"end":{"line":81,"column":106}},"32":{"start":{"line":82,"column":12},"end":{"line":82,"column":48}},"33":{"start":{"line":86,"column":4},"end":{"line":90,"column":5}},"34":{"start":{"line":87,"column":8},"end":{"line":89,"column":11}},"35":{"start":{"line":88,"column":12},"end":{"line":88,"column":36}},"36":{"start":{"line":92,"column":4},"end":{"line":100,"column":7}},"37":{"start":{"line":94,"column":8},"end":{"line":98,"column":9}},"38":{"start":{"line":95,"column":12},"end":{"line":95,"column":72}},"39":{"start":{"line":97,"column":12},"end":{"line":97,"column":53}},"40":{"start":{"line":102,"column":4},"end":{"line":119,"column":7}},"41":{"start":{"line":104,"column":8},"end":{"line":104,"column":41}},"42":{"start":{"line":106,"column":8},"end":{"line":117,"column":9}},"43":{"start":{"line":107,"column":12},"end":{"line":113,"column":13}},"44":{"start":{"line":108,"column":16},"end":{"line":112,"column":17}},"45":{"start":{"line":109,"column":20},"end":{"line":109,"column":75}},"46":{"start":{"line":111,"column":20},"end":{"line":111,"column":66}},"47":{"start":{"line":114,"column":12},"end":{"line":116,"column":13}},"48":{"start":{"line":115,"column":16},"end":{"line":115,"column":76}},"49":{"start":{"line":121,"column":4},"end":{"line":132,"column":5}},"50":{"start":{"line":122,"column":8},"end":{"line":122,"column":46}},"51":{"start":{"line":123,"column":8},"end":{"line":131,"column":9}},"52":{"start":{"line":124,"column":12},"end":{"line":128,"column":13}},"53":{"start":{"line":125,"column":16},"end":{"line":125,"column":29}},"54":{"start":{"line":127,"column":16},"end":{"line":127,"column":27}},"55":{"start":{"line":130,"column":12},"end":{"line":130,"column":29}},"56":{"start":{"line":134,"column":4},"end":{"line":134,"column":31}},"57":{"start":{"line":141,"column":0},"end":{"line":143,"column":2}},"58":{"start":{"line":142,"column":4},"end":{"line":142,"column":61}},"59":{"start":{"line":145,"column":0},"end":{"line":152,"column":2}},"60":{"start":{"line":146,"column":4},"end":{"line":146,"column":76}},"61":{"start":{"line":147,"column":4},"end":{"line":150,"column":5}},"62":{"start":{"line":148,"column":8},"end":{"line":148,"column":20}},"63":{"start":{"line":151,"column":4},"end":{"line":151,"column":26}},"64":{"start":{"line":160,"column":0},"end":{"line":168,"column":2}},"65":{"start":{"line":161,"column":4},"end":{"line":161,"column":21}},"66":{"start":{"line":162,"column":4},"end":{"line":164,"column":5}},"67":{"start":{"line":163,"column":6},"end":{"line":163,"column":49}},"68":{"start":{"line":165,"column":4},"end":{"line":167,"column":7}},"69":{"start":{"line":166,"column":6},"end":{"line":166,"column":34}},"70":{"start":{"line":179,"column":0},"end":{"line":198,"column":2}},"71":{"start":{"line":180,"column":4},"end":{"line":180,"column":22}},"72":{"start":{"line":180,"column":15},"end":{"line":180,"column":22}},"73":{"start":{"line":181,"column":4},"end":{"line":181,"column":17}},"74":{"start":{"line":182,"column":4},"end":{"line":182,"column":72}},"75":{"start":{"line":183,"column":4},"end":{"line":196,"column":18}},"76":{"start":{"line":184,"column":8},"end":{"line":184,"column":16}},"77":{"start":{"line":185,"column":8},"end":{"line":185,"column":51}},"78":{"start":{"line":186,"column":8},"end":{"line":188,"column":9}},"79":{"start":{"line":187,"column":12},"end":{"line":187,"column":19}},"80":{"start":{"line":189,"column":8},"end":{"line":189,"column":29}},"81":{"start":{"line":190,"column":8},"end":{"line":195,"column":9}},"82":{"start":{"line":192,"column":10},"end":{"line":192,"column":47}},"83":{"start":{"line":194,"column":10},"end":{"line":194,"column":30}},"84":{"start":{"line":197,"column":4},"end":{"line":197,"column":15}},"85":{"start":{"line":208,"column":0},"end":{"line":220,"column":2}},"86":{"start":{"line":209,"column":4},"end":{"line":209,"column":22}},"87":{"start":{"line":209,"column":15},"end":{"line":209,"column":22}},"88":{"start":{"line":210,"column":4},"end":{"line":210,"column":72}},"89":{"start":{"line":211,"column":4},"end":{"line":211,"column":38}},"90":{"start":{"line":212,"column":4},"end":{"line":218,"column":7}},"91":{"start":{"line":213,"column":6},"end":{"line":213,"column":52}},"92":{"start":{"line":214,"column":6},"end":{"line":217,"column":7}},"93":{"start":{"line":215,"column":8},"end":{"line":215,"column":45}},"94":{"start":{"line":216,"column":8},"end":{"line":216,"column":32}},"95":{"start":{"line":219,"column":4},"end":{"line":219,"column":16}},"96":{"start":{"line":222,"column":0},"end":{"line":224,"column":2}},"97":{"start":{"line":223,"column":4},"end":{"line":223,"column":51}},"98":{"start":{"line":236,"column":0},"end":{"line":346,"column":2}},"99":{"start":{"line":238,"column":4},"end":{"line":238,"column":21}},"100":{"start":{"line":239,"column":4},"end":{"line":239,"column":36}},"101":{"start":{"line":241,"column":4},"end":{"line":244,"column":5}},"102":{"start":{"line":242,"column":8},"end":{"line":242,"column":24}},"103":{"start":{"line":243,"column":8},"end":{"line":243,"column":18}},"104":{"start":{"line":246,"column":4},"end":{"line":248,"column":5}},"105":{"start":{"line":247,"column":8},"end":{"line":247,"column":34}},"106":{"start":{"line":250,"column":4},"end":{"line":252,"column":5}},"107":{"start":{"line":251,"column":8},"end":{"line":251,"column":18}},"108":{"start":{"line":255,"column":4},"end":{"line":255,"column":53}},"109":{"start":{"line":257,"column":4},"end":{"line":260,"column":5}},"110":{"start":{"line":258,"column":8},"end":{"line":258,"column":25}},"111":{"start":{"line":259,"column":8},"end":{"line":259,"column":37}},"112":{"start":{"line":262,"column":4},"end":{"line":274,"column":5}},"113":{"start":{"line":263,"column":8},"end":{"line":263,"column":43}},"114":{"start":{"line":264,"column":8},"end":{"line":264,"column":40}},"115":{"start":{"line":265,"column":8},"end":{"line":265,"column":29}},"116":{"start":{"line":266,"column":8},"end":{"line":266,"column":31}},"117":{"start":{"line":267,"column":8},"end":{"line":267,"column":43}},"118":{"start":{"line":267,"column":24},"end":{"line":267,"column":43}},"119":{"start":{"line":269,"column":8},"end":{"line":271,"column":9}},"120":{"start":{"line":270,"column":12},"end":{"line":270,"column":36}},"121":{"start":{"line":273,"column":8},"end":{"line":273,"column":25}},"122":{"start":{"line":276,"column":4},"end":{"line":285,"column":5}},"123":{"start":{"line":277,"column":8},"end":{"line":284,"column":11}},"124":{"start":{"line":278,"column":12},"end":{"line":281,"column":13}},"125":{"start":{"line":279,"column":16},"end":{"line":279,"column":32}},"126":{"start":{"line":280,"column":16},"end":{"line":280,"column":32}},"127":{"start":{"line":282,"column":12},"end":{"line":282,"column":32}},"128":{"start":{"line":283,"column":12},"end":{"line":283,"column":27}},"129":{"start":{"line":287,"column":4},"end":{"line":291,"column":5}},"130":{"start":{"line":288,"column":8},"end":{"line":290,"column":9}},"131":{"start":{"line":289,"column":12},"end":{"line":289,"column":58}},"132":{"start":{"line":293,"column":4},"end":{"line":293,"column":12}},"133":{"start":{"line":295,"column":4},"end":{"line":299,"column":5}},"134":{"start":{"line":296,"column":8},"end":{"line":296,"column":19}},"135":{"start":{"line":298,"column":8},"end":{"line":298,"column":30}},"136":{"start":{"line":300,"column":4},"end":{"line":300,"column":30}},"137":{"start":{"line":302,"column":4},"end":{"line":315,"column":5}},"138":{"start":{"line":303,"column":8},"end":{"line":303,"column":17}},"139":{"start":{"line":307,"column":8},"end":{"line":314,"column":17}},"140":{"start":{"line":308,"column":12},"end":{"line":313,"column":13}},"141":{"start":{"line":309,"column":16},"end":{"line":309,"column":25}},"142":{"start":{"line":311,"column":16},"end":{"line":311,"column":54}},"143":{"start":{"line":312,"column":16},"end":{"line":312,"column":35}},"144":{"start":{"line":317,"column":4},"end":{"line":343,"column":5}},"145":{"start":{"line":318,"column":8},"end":{"line":342,"column":26}},"146":{"start":{"line":319,"column":12},"end":{"line":341,"column":30}},"147":{"start":{"line":321,"column":16},"end":{"line":340,"column":24}},"148":{"start":{"line":322,"column":20},"end":{"line":326,"column":21}},"149":{"start":{"line":323,"column":24},"end":{"line":323,"column":43}},"150":{"start":{"line":324,"column":24},"end":{"line":324,"column":46}},"151":{"start":{"line":325,"column":24},"end":{"line":325,"column":58}},"152":{"start":{"line":327,"column":20},"end":{"line":330,"column":21}},"153":{"start":{"line":328,"column":24},"end":{"line":328,"column":49}},"154":{"start":{"line":329,"column":24},"end":{"line":329,"column":39}},"155":{"start":{"line":332,"column":20},"end":{"line":334,"column":21}},"156":{"start":{"line":333,"column":24},"end":{"line":333,"column":50}},"157":{"start":{"line":335,"column":20},"end":{"line":339,"column":23}},"158":{"start":{"line":336,"column":24},"end":{"line":338,"column":27}},"159":{"start":{"line":337,"column":28},"end":{"line":337,"column":47}},"160":{"start":{"line":345,"column":4},"end":{"line":345,"column":15}},"161":{"start":{"line":348,"column":0},"end":{"line":362,"column":1}},"162":{"start":{"line":349,"column":4},"end":{"line":361,"column":5}},"163":{"start":{"line":350,"column":8},"end":{"line":350,"column":38}},"164":{"start":{"line":352,"column":8},"end":{"line":360,"column":9}},"165":{"start":{"line":353,"column":12},"end":{"line":357,"column":15}},"166":{"start":{"line":354,"column":16},"end":{"line":356,"column":19}},"167":{"start":{"line":355,"column":20},"end":{"line":355,"column":30}},"168":{"start":{"line":359,"column":12},"end":{"line":359,"column":36}},"169":{"start":{"line":367,"column":0},"end":{"line":395,"column":2}},"170":{"start":{"line":369,"column":4},"end":{"line":369,"column":21}},"171":{"start":{"line":370,"column":4},"end":{"line":370,"column":53}},"172":{"start":{"line":370,"column":18},"end":{"line":370,"column":53}},"173":{"start":{"line":371,"column":4},"end":{"line":394,"column":5}},"174":{"start":{"line":372,"column":8},"end":{"line":372,"column":35}},"175":{"start":{"line":373,"column":8},"end":{"line":383,"column":11}},"176":{"start":{"line":374,"column":12},"end":{"line":374,"column":20}},"177":{"start":{"line":375,"column":12},"end":{"line":381,"column":13}},"178":{"start":{"line":376,"column":16},"end":{"line":376,"column":54}},"179":{"start":{"line":377,"column":16},"end":{"line":377,"column":43}},"180":{"start":{"line":378,"column":16},"end":{"line":378,"column":27}},"181":{"start":{"line":380,"column":16},"end":{"line":380,"column":27}},"182":{"start":{"line":382,"column":12},"end":{"line":382,"column":31}},"183":{"start":{"line":385,"column":8},"end":{"line":393,"column":11}},"184":{"start":{"line":386,"column":12},"end":{"line":386,"column":42}},"185":{"start":{"line":386,"column":21},"end":{"line":386,"column":42}},"186":{"start":{"line":387,"column":12},"end":{"line":392,"column":13}},"187":{"start":{"line":388,"column":16},"end":{"line":388,"column":54}},"188":{"start":{"line":390,"column":16},"end":{"line":390,"column":42}},"189":{"start":{"line":391,"column":16},"end":{"line":391,"column":41}},"190":{"start":{"line":405,"column":0},"end":{"line":423,"column":2}},"191":{"start":{"line":406,"column":4},"end":{"line":408,"column":5}},"192":{"start":{"line":407,"column":8},"end":{"line":407,"column":28}},"193":{"start":{"line":409,"column":4},"end":{"line":412,"column":5}},"194":{"start":{"line":410,"column":8},"end":{"line":410,"column":24}},"195":{"start":{"line":411,"column":8},"end":{"line":411,"column":36}},"196":{"start":{"line":413,"column":4},"end":{"line":415,"column":5}},"197":{"start":{"line":414,"column":8},"end":{"line":414,"column":34}},"198":{"start":{"line":417,"column":4},"end":{"line":417,"column":17}},"199":{"start":{"line":418,"column":4},"end":{"line":422,"column":7}},"200":{"start":{"line":419,"column":8},"end":{"line":419,"column":38}},"201":{"start":{"line":419,"column":17},"end":{"line":419,"column":38}},"202":{"start":{"line":420,"column":8},"end":{"line":420,"column":50}},"203":{"start":{"line":420,"column":20},"end":{"line":420,"column":50}},"204":{"start":{"line":421,"column":8},"end":{"line":421,"column":33}},"205":{"start":{"line":431,"column":0},"end":{"line":437,"column":2}},"206":{"start":{"line":432,"column":4},"end":{"line":436,"column":5}},"207":{"start":{"line":433,"column":8},"end":{"line":433,"column":59}},"208":{"start":{"line":435,"column":8},"end":{"line":435,"column":69}},"209":{"start":{"line":445,"column":0},"end":{"line":460,"column":2}},"210":{"start":{"line":446,"column":4},"end":{"line":446,"column":21}},"211":{"start":{"line":448,"column":4},"end":{"line":459,"column":7}},"212":{"start":{"line":449,"column":8},"end":{"line":449,"column":23}},"213":{"start":{"line":450,"column":8},"end":{"line":457,"column":9}},"214":{"start":{"line":451,"column":12},"end":{"line":451,"column":39}},"215":{"start":{"line":452,"column":12},"end":{"line":454,"column":13}},"216":{"start":{"line":453,"column":16},"end":{"line":453,"column":29}},"217":{"start":{"line":455,"column":12},"end":{"line":455,"column":30}},"218":{"start":{"line":456,"column":12},"end":{"line":456,"column":45}},"219":{"start":{"line":458,"column":8},"end":{"line":458,"column":21}},"220":{"start":{"line":480,"column":0},"end":{"line":540,"column":2}},"221":{"start":{"line":482,"column":4},"end":{"line":485,"column":5}},"222":{"start":{"line":483,"column":8},"end":{"line":483,"column":20}},"223":{"start":{"line":484,"column":8},"end":{"line":484,"column":22}},"224":{"start":{"line":486,"column":4},"end":{"line":492,"column":5}},"225":{"start":{"line":487,"column":8},"end":{"line":491,"column":9}},"226":{"start":{"line":488,"column":12},"end":{"line":488,"column":40}},"227":{"start":{"line":489,"column":15},"end":{"line":491,"column":9}},"228":{"start":{"line":490,"column":12},"end":{"line":490,"column":40}},"229":{"start":{"line":493,"column":4},"end":{"line":493,"column":22}},"230":{"start":{"line":494,"column":4},"end":{"line":494,"column":32}},"231":{"start":{"line":495,"column":4},"end":{"line":497,"column":5}},"232":{"start":{"line":496,"column":6},"end":{"line":496,"column":63}},"233":{"start":{"line":498,"column":4},"end":{"line":539,"column":7}},"234":{"start":{"line":499,"column":8},"end":{"line":538,"column":9}},"235":{"start":{"line":500,"column":12},"end":{"line":519,"column":13}},"236":{"start":{"line":501,"column":16},"end":{"line":518,"column":17}},"237":{"start":{"line":502,"column":20},"end":{"line":504,"column":24}},"238":{"start":{"line":503,"column":24},"end":{"line":503,"column":52}},"239":{"start":{"line":505,"column":23},"end":{"line":518,"column":17}},"240":{"start":{"line":506,"column":20},"end":{"line":508,"column":23}},"241":{"start":{"line":507,"column":24},"end":{"line":507,"column":69}},"242":{"start":{"line":509,"column":20},"end":{"line":517,"column":21}},"243":{"start":{"line":510,"column":24},"end":{"line":516,"column":27}},"244":{"start":{"line":511,"column":28},"end":{"line":515,"column":31}},"245":{"start":{"line":512,"column":32},"end":{"line":514,"column":33}},"246":{"start":{"line":513,"column":36},"end":{"line":513,"column":53}},"247":{"start":{"line":520,"column":12},"end":{"line":531,"column":13}},"248":{"start":{"line":521,"column":16},"end":{"line":530,"column":19}},"249":{"start":{"line":522,"column":20},"end":{"line":522,"column":43}},"250":{"start":{"line":523,"column":20},"end":{"line":523,"column":42}},"251":{"start":{"line":524,"column":20},"end":{"line":524,"column":50}},"252":{"start":{"line":525,"column":20},"end":{"line":529,"column":21}},"253":{"start":{"line":526,"column":24},"end":{"line":526,"column":72}},"254":{"start":{"line":528,"column":24},"end":{"line":528,"column":38}},"255":{"start":{"line":532,"column":12},"end":{"line":534,"column":13}},"256":{"start":{"line":533,"column":16},"end":{"line":533,"column":62}},"257":{"start":{"line":535,"column":12},"end":{"line":535,"column":26}},"258":{"start":{"line":537,"column":12},"end":{"line":537,"column":24}},"259":{"start":{"line":551,"column":0},"end":{"line":622,"column":2}},"260":{"start":{"line":552,"column":4},"end":{"line":552,"column":21}},"261":{"start":{"line":553,"column":4},"end":{"line":559,"column":5}},"262":{"start":{"line":554,"column":8},"end":{"line":556,"column":9}},"263":{"start":{"line":555,"column":12},"end":{"line":555,"column":32}},"264":{"start":{"line":557,"column":8},"end":{"line":557,"column":26}},"265":{"start":{"line":558,"column":8},"end":{"line":558,"column":20}},"266":{"start":{"line":561,"column":4},"end":{"line":561,"column":39}},"267":{"start":{"line":562,"column":4},"end":{"line":562,"column":29}},"268":{"start":{"line":563,"column":4},"end":{"line":563,"column":29}},"269":{"start":{"line":564,"column":4},"end":{"line":564,"column":60}},"270":{"start":{"line":565,"column":4},"end":{"line":565,"column":47}},"271":{"start":{"line":567,"column":4},"end":{"line":567,"column":16}},"272":{"start":{"line":569,"column":4},"end":{"line":615,"column":5}},"273":{"start":{"line":571,"column":8},"end":{"line":571,"column":25}},"274":{"start":{"line":572,"column":8},"end":{"line":572,"column":62}},"275":{"start":{"line":573,"column":8},"end":{"line":579,"column":9}},"276":{"start":{"line":574,"column":12},"end":{"line":578,"column":13}},"277":{"start":{"line":575,"column":16},"end":{"line":575,"column":30}},"278":{"start":{"line":577,"column":16},"end":{"line":577,"column":37}},"279":{"start":{"line":580,"column":8},"end":{"line":580,"column":27}},"280":{"start":{"line":581,"column":8},"end":{"line":614,"column":23}},"281":{"start":{"line":582,"column":12},"end":{"line":584,"column":13}},"282":{"start":{"line":583,"column":16},"end":{"line":583,"column":30}},"283":{"start":{"line":585,"column":12},"end":{"line":585,"column":28}},"284":{"start":{"line":586,"column":12},"end":{"line":595,"column":13}},"285":{"start":{"line":587,"column":16},"end":{"line":587,"column":41}},"286":{"start":{"line":588,"column":16},"end":{"line":591,"column":19}},"287":{"start":{"line":589,"column":20},"end":{"line":589,"column":59}},"288":{"start":{"line":590,"column":20},"end":{"line":590,"column":31}},"289":{"start":{"line":592,"column":16},"end":{"line":592,"column":34}},"290":{"start":{"line":594,"column":16},"end":{"line":594,"column":27}},"291":{"start":{"line":596,"column":12},"end":{"line":600,"column":13}},"292":{"start":{"line":597,"column":16},"end":{"line":599,"column":17}},"293":{"start":{"line":598,"column":20},"end":{"line":598,"column":32}},"294":{"start":{"line":601,"column":12},"end":{"line":613,"column":13}},"295":{"start":{"line":602,"column":16},"end":{"line":604,"column":17}},"296":{"start":{"line":603,"column":20},"end":{"line":603,"column":37}},"297":{"start":{"line":605,"column":16},"end":{"line":605,"column":41}},"298":{"start":{"line":606,"column":16},"end":{"line":608,"column":17}},"299":{"start":{"line":607,"column":20},"end":{"line":607,"column":39}},"300":{"start":{"line":609,"column":16},"end":{"line":609,"column":23}},"301":{"start":{"line":610,"column":16},"end":{"line":612,"column":19}},"302":{"start":{"line":611,"column":20},"end":{"line":611,"column":64}},"303":{"start":{"line":617,"column":4},"end":{"line":621,"column":5}},"304":{"start":{"line":618,"column":8},"end":{"line":620,"column":9}},"305":{"start":{"line":619,"column":12},"end":{"line":619,"column":26}},"306":{"start":{"line":630,"column":0},"end":{"line":643,"column":2}},"307":{"start":{"line":632,"column":4},"end":{"line":635,"column":5}},"308":{"start":{"line":633,"column":8},"end":{"line":633,"column":20}},"309":{"start":{"line":634,"column":8},"end":{"line":634,"column":20}},"310":{"start":{"line":636,"column":4},"end":{"line":636,"column":21}},"311":{"start":{"line":637,"column":4},"end":{"line":642,"column":7}},"312":{"start":{"line":638,"column":8},"end":{"line":640,"column":9}},"313":{"start":{"line":639,"column":12},"end":{"line":639,"column":33}},"314":{"start":{"line":641,"column":8},"end":{"line":641,"column":31}},"315":{"start":{"line":649,"column":0},"end":{"line":655,"column":2}},"316":{"start":{"line":650,"column":4},"end":{"line":654,"column":7}},"317":{"start":{"line":651,"column":8},"end":{"line":653,"column":9}},"318":{"start":{"line":652,"column":12},"end":{"line":652,"column":20}},"319":{"start":{"line":663,"column":0},"end":{"line":669,"column":2}},"320":{"start":{"line":664,"column":4},"end":{"line":667,"column":5}},"321":{"start":{"line":665,"column":8},"end":{"line":665,"column":19}},"322":{"start":{"line":666,"column":8},"end":{"line":666,"column":21}},"323":{"start":{"line":668,"column":4},"end":{"line":668,"column":70}},"324":{"start":{"line":676,"column":0},"end":{"line":678,"column":2}},"325":{"start":{"line":677,"column":4},"end":{"line":677,"column":44}},"326":{"start":{"line":686,"column":0},"end":{"line":752,"column":2}},"327":{"start":{"line":688,"column":4},"end":{"line":691,"column":5}},"328":{"start":{"line":689,"column":8},"end":{"line":689,"column":27}},"329":{"start":{"line":690,"column":8},"end":{"line":690,"column":21}},"330":{"start":{"line":693,"column":4},"end":{"line":693,"column":42}},"331":{"start":{"line":694,"column":4},"end":{"line":694,"column":28}},"332":{"start":{"line":696,"column":4},"end":{"line":698,"column":5}},"333":{"start":{"line":697,"column":8},"end":{"line":697,"column":32}},"334":{"start":{"line":699,"column":4},"end":{"line":701,"column":5}},"335":{"start":{"line":700,"column":8},"end":{"line":700,"column":31}},"336":{"start":{"line":703,"column":4},"end":{"line":703,"column":20}},"337":{"start":{"line":704,"column":4},"end":{"line":704,"column":35}},"338":{"start":{"line":705,"column":4},"end":{"line":705,"column":33}},"339":{"start":{"line":706,"column":4},"end":{"line":706,"column":36}},"340":{"start":{"line":708,"column":4},"end":{"line":715,"column":5}},"341":{"start":{"line":710,"column":8},"end":{"line":713,"column":10}},"342":{"start":{"line":714,"column":8},"end":{"line":714,"column":44}},"343":{"start":{"line":718,"column":4},"end":{"line":720,"column":5}},"344":{"start":{"line":719,"column":8},"end":{"line":719,"column":22}},"345":{"start":{"line":722,"column":4},"end":{"line":732,"column":13}},"346":{"start":{"line":723,"column":8},"end":{"line":725,"column":9}},"347":{"start":{"line":724,"column":12},"end":{"line":724,"column":26}},"348":{"start":{"line":726,"column":8},"end":{"line":726,"column":47}},"349":{"start":{"line":728,"column":8},"end":{"line":730,"column":9}},"350":{"start":{"line":729,"column":12},"end":{"line":729,"column":22}},"351":{"start":{"line":731,"column":8},"end":{"line":731,"column":33}},"352":{"start":{"line":735,"column":4},"end":{"line":751,"column":5}},"353":{"start":{"line":736,"column":8},"end":{"line":750,"column":27}},"354":{"start":{"line":737,"column":12},"end":{"line":749,"column":31}},"355":{"start":{"line":738,"column":16},"end":{"line":748,"column":19}},"356":{"start":{"line":739,"column":20},"end":{"line":741,"column":21}},"357":{"start":{"line":740,"column":24},"end":{"line":740,"column":51}},"358":{"start":{"line":742,"column":20},"end":{"line":742,"column":54}},"359":{"start":{"line":743,"column":20},"end":{"line":747,"column":23}},"360":{"start":{"line":744,"column":24},"end":{"line":746,"column":27}},"361":{"start":{"line":745,"column":28},"end":{"line":745,"column":59}},"362":{"start":{"line":754,"column":0},"end":{"line":756,"column":2}},"363":{"start":{"line":755,"column":4},"end":{"line":755,"column":20}},"364":{"start":{"line":762,"column":0},"end":{"line":764,"column":2}},"365":{"start":{"line":763,"column":4},"end":{"line":763,"column":31}},"366":{"start":{"line":776,"column":0},"end":{"line":810,"column":2}},"367":{"start":{"line":777,"column":4},"end":{"line":777,"column":18}},"368":{"start":{"line":778,"column":4},"end":{"line":778,"column":77}},"369":{"start":{"line":779,"column":4},"end":{"line":779,"column":35}},"370":{"start":{"line":780,"column":4},"end":{"line":780,"column":20}},"371":{"start":{"line":782,"column":4},"end":{"line":790,"column":7}},"372":{"start":{"line":783,"column":8},"end":{"line":789,"column":9}},"373":{"start":{"line":784,"column":12},"end":{"line":784,"column":47}},"374":{"start":{"line":785,"column":15},"end":{"line":789,"column":9}},"375":{"start":{"line":786,"column":12},"end":{"line":786,"column":36}},"376":{"start":{"line":788,"column":12},"end":{"line":788,"column":30}},"377":{"start":{"line":792,"column":4},"end":{"line":807,"column":5}},"378":{"start":{"line":793,"column":8},"end":{"line":797,"column":11}},"379":{"start":{"line":794,"column":12},"end":{"line":796,"column":13}},"380":{"start":{"line":795,"column":16},"end":{"line":795,"column":40}},"381":{"start":{"line":799,"column":8},"end":{"line":806,"column":9}},"382":{"start":{"line":800,"column":12},"end":{"line":800,"column":51}},"383":{"start":{"line":801,"column":12},"end":{"line":805,"column":15}},"384":{"start":{"line":802,"column":16},"end":{"line":804,"column":17}},"385":{"start":{"line":803,"column":20},"end":{"line":803,"column":49}},"386":{"start":{"line":809,"column":4},"end":{"line":809,"column":16}},"387":{"start":{"line":817,"column":0},"end":{"line":819,"column":2}},"388":{"start":{"line":818,"column":4},"end":{"line":818,"column":38}},"389":{"start":{"line":827,"column":0},"end":{"line":840,"column":2}},"390":{"start":{"line":829,"column":4},"end":{"line":839,"column":28}},"391":{"start":{"line":830,"column":8},"end":{"line":838,"column":22}},"392":{"start":{"line":831,"column":12},"end":{"line":833,"column":13}},"393":{"start":{"line":832,"column":16},"end":{"line":832,"column":31}},"394":{"start":{"line":835,"column":12},"end":{"line":837,"column":15}},"395":{"start":{"line":836,"column":16},"end":{"line":836,"column":28}},"396":{"start":{"line":836,"column":23},"end":{"line":836,"column":28}},"397":{"start":{"line":851,"column":0},"end":{"line":855,"column":2}},"398":{"start":{"line":852,"column":4},"end":{"line":852,"column":18}},"399":{"start":{"line":853,"column":4},"end":{"line":853,"column":23}},"400":{"start":{"line":854,"column":4},"end":{"line":854,"column":42}},"401":{"start":{"line":866,"column":0},"end":{"line":918,"column":2}},"402":{"start":{"line":868,"column":4},"end":{"line":868,"column":20}},"403":{"start":{"line":869,"column":4},"end":{"line":869,"column":47}},"404":{"start":{"line":871,"column":4},"end":{"line":874,"column":5}},"405":{"start":{"line":872,"column":8},"end":{"line":872,"column":24}},"406":{"start":{"line":873,"column":8},"end":{"line":873,"column":20}},"407":{"start":{"line":876,"column":4},"end":{"line":878,"column":5}},"408":{"start":{"line":877,"column":8},"end":{"line":877,"column":18}},"409":{"start":{"line":881,"column":4},"end":{"line":883,"column":7}},"410":{"start":{"line":882,"column":8},"end":{"line":882,"column":30}},"411":{"start":{"line":885,"column":4},"end":{"line":917,"column":13}},"412":{"start":{"line":886,"column":8},"end":{"line":916,"column":9}},"413":{"start":{"line":887,"column":12},"end":{"line":887,"column":51}},"414":{"start":{"line":888,"column":12},"end":{"line":890,"column":13}},"415":{"start":{"line":889,"column":16},"end":{"line":889,"column":41}},"416":{"start":{"line":892,"column":12},"end":{"line":915,"column":31}},"417":{"start":{"line":893,"column":16},"end":{"line":914,"column":35}},"418":{"start":{"line":895,"column":20},"end":{"line":897,"column":23}},"419":{"start":{"line":896,"column":24},"end":{"line":896,"column":46}},"420":{"start":{"line":899,"column":20},"end":{"line":913,"column":23}},"421":{"start":{"line":900,"column":24},"end":{"line":905,"column":25}},"422":{"start":{"line":902,"column":28},"end":{"line":904,"column":31}},"423":{"start":{"line":903,"column":32},"end":{"line":903,"column":71}},"424":{"start":{"line":906,"column":24},"end":{"line":912,"column":27}},"425":{"start":{"line":907,"column":28},"end":{"line":911,"column":31}},"426":{"start":{"line":908,"column":32},"end":{"line":910,"column":33}},"427":{"start":{"line":909,"column":36},"end":{"line":909,"column":67}},"428":{"start":{"line":920,"column":0},"end":{"line":924,"column":2}},"429":{"start":{"line":921,"column":4},"end":{"line":923,"column":18}},"430":{"start":{"line":922,"column":8},"end":{"line":922,"column":29}},"431":{"start":{"line":932,"column":0},"end":{"line":934,"column":2}},"432":{"start":{"line":933,"column":4},"end":{"line":933,"column":54}},"433":{"start":{"line":942,"column":0},"end":{"line":945,"column":2}},"434":{"start":{"line":944,"column":4},"end":{"line":944,"column":45}},"435":{"start":{"line":953,"column":0},"end":{"line":963,"column":2}},"436":{"start":{"line":954,"column":4},"end":{"line":954,"column":19}},"437":{"start":{"line":955,"column":4},"end":{"line":962,"column":7}},"438":{"start":{"line":956,"column":8},"end":{"line":958,"column":9}},"439":{"start":{"line":957,"column":12},"end":{"line":957,"column":26}},"440":{"start":{"line":959,"column":8},"end":{"line":961,"column":9}},"441":{"start":{"line":960,"column":12},"end":{"line":960,"column":37}},"442":{"start":{"line":965,"column":0},"end":{"line":967,"column":2}},"443":{"start":{"line":966,"column":4},"end":{"line":966,"column":53}},"444":{"start":{"line":969,"column":0},"end":{"line":971,"column":3}},"445":{"start":{"line":970,"column":4},"end":{"line":970,"column":81}},"446":{"start":{"line":973,"column":0},"end":{"line":975,"column":3}},"447":{"start":{"line":974,"column":4},"end":{"line":974,"column":95}},"448":{"start":{"line":977,"column":0},"end":{"line":1012,"column":1}},"449":{"start":{"line":978,"column":4},"end":{"line":1011,"column":6}},"450":{"start":{"line":979,"column":8},"end":{"line":979,"column":44}},"451":{"start":{"line":980,"column":8},"end":{"line":980,"column":87}},"452":{"start":{"line":981,"column":8},"end":{"line":981,"column":24}},"453":{"start":{"line":982,"column":8},"end":{"line":982,"column":60}},"454":{"start":{"line":983,"column":8},"end":{"line":983,"column":24}},"455":{"start":{"line":984,"column":8},"end":{"line":997,"column":11}},"456":{"start":{"line":986,"column":12},"end":{"line":996,"column":15}},"457":{"start":{"line":987,"column":16},"end":{"line":994,"column":19}},"458":{"start":{"line":988,"column":20},"end":{"line":988,"column":41}},"459":{"start":{"line":989,"column":20},"end":{"line":993,"column":21}},"460":{"start":{"line":990,"column":24},"end":{"line":990,"column":36}},"461":{"start":{"line":992,"column":24},"end":{"line":992,"column":40}},"462":{"start":{"line":995,"column":16},"end":{"line":995,"column":37}},"463":{"start":{"line":998,"column":8},"end":{"line":1010,"column":9}},"464":{"start":{"line":999,"column":12},"end":{"line":1007,"column":15}},"465":{"start":{"line":1000,"column":16},"end":{"line":1000,"column":39}},"466":{"start":{"line":1002,"column":16},"end":{"line":1006,"column":17}},"467":{"start":{"line":1003,"column":20},"end":{"line":1003,"column":47}},"468":{"start":{"line":1005,"column":20},"end":{"line":1005,"column":34}},"469":{"start":{"line":1009,"column":12},"end":{"line":1009,"column":33}},"470":{"start":{"line":1019,"column":0},"end":{"line":1022,"column":1}},"471":{"start":{"line":1020,"column":4},"end":{"line":1020,"column":14}},"472":{"start":{"line":1021,"column":4},"end":{"line":1021,"column":23}},"473":{"start":{"line":1031,"column":0},"end":{"line":1038,"column":1}},"474":{"start":{"line":1032,"column":4},"end":{"line":1037,"column":7}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":19},"end":{"line":9,"column":38}},{"start":{"line":9,"column":42},"end":{"line":9,"column":58}}]},"2":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":11},"end":{"line":50,"column":15}},{"start":{"line":50,"column":19},"end":{"line":50,"column":21}}]},"3":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"4":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"5":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":15},"end":{"line":80,"column":15}},{"start":{"line":80,"column":15},"end":{"line":80,"column":15}}]},"6":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"7":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":8}},{"start":{"line":94,"column":8},"end":{"line":94,"column":8}}]},"8":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":106,"column":8}},{"start":{"line":106,"column":8},"end":{"line":106,"column":8}}]},"9":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":12}},{"start":{"line":107,"column":12},"end":{"line":107,"column":12}}]},"10":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":16},"end":{"line":107,"column":53}},{"start":{"line":107,"column":57},"end":{"line":107,"column":74}}]},"11":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":12},"end":{"line":114,"column":12}},{"start":{"line":114,"column":12},"end":{"line":114,"column":12}}]},"12":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":16},"end":{"line":114,"column":37}},{"start":{"line":114,"column":41},"end":{"line":114,"column":65}},{"start":{"line":114,"column":69},"end":{"line":114,"column":102}}]},"13":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":8}},{"start":{"line":123,"column":8},"end":{"line":123,"column":8}}]},"14":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":12},"end":{"line":124,"column":12}},{"start":{"line":124,"column":12},"end":{"line":124,"column":12}}]},"15":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":4},"end":{"line":147,"column":4}},{"start":{"line":147,"column":4},"end":{"line":147,"column":4}}]},"16":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":8},"end":{"line":147,"column":13}},{"start":{"line":147,"column":17},"end":{"line":147,"column":27}}]},"17":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":4}},{"start":{"line":162,"column":4},"end":{"line":162,"column":4}}]},"18":{"line":162,"type":"binary-expr","locations":[{"start":{"line":162,"column":8},"end":{"line":162,"column":14}},{"start":{"line":162,"column":18},"end":{"line":162,"column":31}}]},"19":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":4},"end":{"line":180,"column":4}},{"start":{"line":180,"column":4},"end":{"line":180,"column":4}}]},"20":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":8}},{"start":{"line":186,"column":8},"end":{"line":186,"column":8}}]},"21":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":12},"end":{"line":186,"column":21}},{"start":{"line":186,"column":25},"end":{"line":186,"column":57}}]},"22":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":8},"end":{"line":190,"column":8}},{"start":{"line":190,"column":8},"end":{"line":190,"column":8}}]},"23":{"line":190,"type":"binary-expr","locations":[{"start":{"line":190,"column":12},"end":{"line":190,"column":32}},{"start":{"line":190,"column":36},"end":{"line":190,"column":61}}]},"24":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":4},"end":{"line":209,"column":4}},{"start":{"line":209,"column":4},"end":{"line":209,"column":4}}]},"25":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":6},"end":{"line":214,"column":6}},{"start":{"line":214,"column":6},"end":{"line":214,"column":6}}]},"26":{"line":214,"type":"binary-expr","locations":[{"start":{"line":214,"column":10},"end":{"line":214,"column":20}},{"start":{"line":214,"column":24},"end":{"line":214,"column":60}}]},"27":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":4},"end":{"line":241,"column":4}},{"start":{"line":241,"column":4},"end":{"line":241,"column":4}}]},"28":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":4},"end":{"line":246,"column":4}},{"start":{"line":246,"column":4},"end":{"line":246,"column":4}}]},"29":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":4},"end":{"line":250,"column":4}},{"start":{"line":250,"column":4},"end":{"line":250,"column":4}}]},"30":{"line":255,"type":"binary-expr","locations":[{"start":{"line":255,"column":18},"end":{"line":255,"column":30}},{"start":{"line":255,"column":34},"end":{"line":255,"column":52}}]},"31":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":4},"end":{"line":257,"column":4}},{"start":{"line":257,"column":4},"end":{"line":257,"column":4}}]},"32":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":4},"end":{"line":262,"column":4}},{"start":{"line":262,"column":4},"end":{"line":262,"column":4}}]},"33":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":8}},{"start":{"line":267,"column":8},"end":{"line":267,"column":8}}]},"34":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":12},"end":{"line":278,"column":12}},{"start":{"line":278,"column":12},"end":{"line":278,"column":12}}]},"35":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8}},{"start":{"line":288,"column":8},"end":{"line":288,"column":8}}]},"36":{"line":289,"type":"cond-expr","locations":[{"start":{"line":289,"column":32},"end":{"line":289,"column":38}},{"start":{"line":289,"column":41},"end":{"line":289,"column":45}}]},"37":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":4},"end":{"line":295,"column":4}},{"start":{"line":295,"column":4},"end":{"line":295,"column":4}}]},"38":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":8},"end":{"line":295,"column":29}},{"start":{"line":295,"column":33},"end":{"line":295,"column":41}}]},"39":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":4},"end":{"line":302,"column":4}},{"start":{"line":302,"column":4},"end":{"line":302,"column":4}}]},"40":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":12},"end":{"line":308,"column":12}},{"start":{"line":308,"column":12},"end":{"line":308,"column":12}}]},"41":{"line":311,"type":"binary-expr","locations":[{"start":{"line":311,"column":22},"end":{"line":311,"column":25}},{"start":{"line":311,"column":29},"end":{"line":311,"column":53}}]},"42":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":20},"end":{"line":322,"column":20}},{"start":{"line":322,"column":20},"end":{"line":322,"column":20}}]},"43":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":20},"end":{"line":327,"column":20}},{"start":{"line":327,"column":20},"end":{"line":327,"column":20}}]},"44":{"line":332,"type":"if","locations":[{"start":{"line":332,"column":20},"end":{"line":332,"column":20}},{"start":{"line":332,"column":20},"end":{"line":332,"column":20}}]},"45":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":4},"end":{"line":349,"column":4}},{"start":{"line":349,"column":4},"end":{"line":349,"column":4}}]},"46":{"line":352,"type":"if","locations":[{"start":{"line":352,"column":8},"end":{"line":352,"column":8}},{"start":{"line":352,"column":8},"end":{"line":352,"column":8}}]},"47":{"line":370,"type":"if","locations":[{"start":{"line":370,"column":4},"end":{"line":370,"column":4}},{"start":{"line":370,"column":4},"end":{"line":370,"column":4}}]},"48":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":4},"end":{"line":371,"column":4}},{"start":{"line":371,"column":4},"end":{"line":371,"column":4}}]},"49":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":12},"end":{"line":375,"column":12}},{"start":{"line":375,"column":12},"end":{"line":375,"column":12}}]},"50":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":12},"end":{"line":386,"column":12}},{"start":{"line":386,"column":12},"end":{"line":386,"column":12}}]},"51":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":12},"end":{"line":387,"column":12}},{"start":{"line":387,"column":12},"end":{"line":387,"column":12}}]},"52":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":4},"end":{"line":406,"column":4}},{"start":{"line":406,"column":4},"end":{"line":406,"column":4}}]},"53":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":4},"end":{"line":409,"column":4}},{"start":{"line":409,"column":4},"end":{"line":409,"column":4}}]},"54":{"line":409,"type":"binary-expr","locations":[{"start":{"line":409,"column":8},"end":{"line":409,"column":34}},{"start":{"line":409,"column":38},"end":{"line":409,"column":65}}]},"55":{"line":411,"type":"binary-expr","locations":[{"start":{"line":411,"column":15},"end":{"line":411,"column":20}},{"start":{"line":411,"column":24},"end":{"line":411,"column":35}}]},"56":{"line":413,"type":"if","locations":[{"start":{"line":413,"column":4},"end":{"line":413,"column":4}},{"start":{"line":413,"column":4},"end":{"line":413,"column":4}}]},"57":{"line":419,"type":"if","locations":[{"start":{"line":419,"column":8},"end":{"line":419,"column":8}},{"start":{"line":419,"column":8},"end":{"line":419,"column":8}}]},"58":{"line":420,"type":"if","locations":[{"start":{"line":420,"column":8},"end":{"line":420,"column":8}},{"start":{"line":420,"column":8},"end":{"line":420,"column":8}}]},"59":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":4},"end":{"line":432,"column":4}},{"start":{"line":432,"column":4},"end":{"line":432,"column":4}}]},"60":{"line":450,"type":"if","locations":[{"start":{"line":450,"column":8},"end":{"line":450,"column":8}},{"start":{"line":450,"column":8},"end":{"line":450,"column":8}}]},"61":{"line":452,"type":"if","locations":[{"start":{"line":452,"column":12},"end":{"line":452,"column":12}},{"start":{"line":452,"column":12},"end":{"line":452,"column":12}}]},"62":{"line":482,"type":"if","locations":[{"start":{"line":482,"column":4},"end":{"line":482,"column":4}},{"start":{"line":482,"column":4},"end":{"line":482,"column":4}}]},"63":{"line":486,"type":"if","locations":[{"start":{"line":486,"column":4},"end":{"line":486,"column":4}},{"start":{"line":486,"column":4},"end":{"line":486,"column":4}}]},"64":{"line":487,"type":"if","locations":[{"start":{"line":487,"column":8},"end":{"line":487,"column":8}},{"start":{"line":487,"column":8},"end":{"line":487,"column":8}}]},"65":{"line":489,"type":"if","locations":[{"start":{"line":489,"column":15},"end":{"line":489,"column":15}},{"start":{"line":489,"column":15},"end":{"line":489,"column":15}}]},"66":{"line":495,"type":"if","locations":[{"start":{"line":495,"column":4},"end":{"line":495,"column":4}},{"start":{"line":495,"column":4},"end":{"line":495,"column":4}}]},"67":{"line":495,"type":"binary-expr","locations":[{"start":{"line":495,"column":8},"end":{"line":495,"column":14}},{"start":{"line":495,"column":18},"end":{"line":495,"column":30}}]},"68":{"line":499,"type":"if","locations":[{"start":{"line":499,"column":8},"end":{"line":499,"column":8}},{"start":{"line":499,"column":8},"end":{"line":499,"column":8}}]},"69":{"line":499,"type":"binary-expr","locations":[{"start":{"line":499,"column":12},"end":{"line":499,"column":16}},{"start":{"line":499,"column":20},"end":{"line":499,"column":32}}]},"70":{"line":500,"type":"if","locations":[{"start":{"line":500,"column":12},"end":{"line":500,"column":12}},{"start":{"line":500,"column":12},"end":{"line":500,"column":12}}]},"71":{"line":500,"type":"binary-expr","locations":[{"start":{"line":500,"column":16},"end":{"line":500,"column":22}},{"start":{"line":500,"column":26},"end":{"line":500,"column":43}},{"start":{"line":500,"column":47},"end":{"line":500,"column":51}},{"start":{"line":500,"column":55},"end":{"line":500,"column":66}}]},"72":{"line":501,"type":"if","locations":[{"start":{"line":501,"column":16},"end":{"line":501,"column":16}},{"start":{"line":501,"column":16},"end":{"line":501,"column":16}}]},"73":{"line":505,"type":"if","locations":[{"start":{"line":505,"column":23},"end":{"line":505,"column":23}},{"start":{"line":505,"column":23},"end":{"line":505,"column":23}}]},"74":{"line":509,"type":"if","locations":[{"start":{"line":509,"column":20},"end":{"line":509,"column":20}},{"start":{"line":509,"column":20},"end":{"line":509,"column":20}}]},"75":{"line":512,"type":"if","locations":[{"start":{"line":512,"column":32},"end":{"line":512,"column":32}},{"start":{"line":512,"column":32},"end":{"line":512,"column":32}}]},"76":{"line":520,"type":"if","locations":[{"start":{"line":520,"column":12},"end":{"line":520,"column":12}},{"start":{"line":520,"column":12},"end":{"line":520,"column":12}}]},"77":{"line":520,"type":"binary-expr","locations":[{"start":{"line":520,"column":16},"end":{"line":520,"column":23}},{"start":{"line":520,"column":27},"end":{"line":520,"column":43}}]},"78":{"line":525,"type":"if","locations":[{"start":{"line":525,"column":20},"end":{"line":525,"column":20}},{"start":{"line":525,"column":20},"end":{"line":525,"column":20}}]},"79":{"line":525,"type":"binary-expr","locations":[{"start":{"line":525,"column":24},"end":{"line":525,"column":30}},{"start":{"line":525,"column":34},"end":{"line":525,"column":48}},{"start":{"line":525,"column":52},"end":{"line":525,"column":66}}]},"80":{"line":532,"type":"if","locations":[{"start":{"line":532,"column":12},"end":{"line":532,"column":12}},{"start":{"line":532,"column":12},"end":{"line":532,"column":12}}]},"81":{"line":532,"type":"binary-expr","locations":[{"start":{"line":532,"column":16},"end":{"line":532,"column":20}},{"start":{"line":532,"column":24},"end":{"line":532,"column":45}}]},"82":{"line":553,"type":"if","locations":[{"start":{"line":553,"column":4},"end":{"line":553,"column":4}},{"start":{"line":553,"column":4},"end":{"line":553,"column":4}}]},"83":{"line":554,"type":"if","locations":[{"start":{"line":554,"column":8},"end":{"line":554,"column":8}},{"start":{"line":554,"column":8},"end":{"line":554,"column":8}}]},"84":{"line":564,"type":"binary-expr","locations":[{"start":{"line":564,"column":35},"end":{"line":564,"column":51}},{"start":{"line":564,"column":55},"end":{"line":564,"column":59}}]},"85":{"line":565,"type":"binary-expr","locations":[{"start":{"line":565,"column":22},"end":{"line":565,"column":40}},{"start":{"line":565,"column":44},"end":{"line":565,"column":46}}]},"86":{"line":573,"type":"if","locations":[{"start":{"line":573,"column":8},"end":{"line":573,"column":8}},{"start":{"line":573,"column":8},"end":{"line":573,"column":8}}]},"87":{"line":574,"type":"if","locations":[{"start":{"line":574,"column":12},"end":{"line":574,"column":12}},{"start":{"line":574,"column":12},"end":{"line":574,"column":12}}]},"88":{"line":582,"type":"if","locations":[{"start":{"line":582,"column":12},"end":{"line":582,"column":12}},{"start":{"line":582,"column":12},"end":{"line":582,"column":12}}]},"89":{"line":586,"type":"if","locations":[{"start":{"line":586,"column":12},"end":{"line":586,"column":12}},{"start":{"line":586,"column":12},"end":{"line":586,"column":12}}]},"90":{"line":597,"type":"if","locations":[{"start":{"line":597,"column":16},"end":{"line":597,"column":16}},{"start":{"line":597,"column":16},"end":{"line":597,"column":16}}]},"91":{"line":602,"type":"if","locations":[{"start":{"line":602,"column":16},"end":{"line":602,"column":16}},{"start":{"line":602,"column":16},"end":{"line":602,"column":16}}]},"92":{"line":606,"type":"if","locations":[{"start":{"line":606,"column":16},"end":{"line":606,"column":16}},{"start":{"line":606,"column":16},"end":{"line":606,"column":16}}]},"93":{"line":618,"type":"if","locations":[{"start":{"line":618,"column":8},"end":{"line":618,"column":8}},{"start":{"line":618,"column":8},"end":{"line":618,"column":8}}]},"94":{"line":632,"type":"if","locations":[{"start":{"line":632,"column":4},"end":{"line":632,"column":4}},{"start":{"line":632,"column":4},"end":{"line":632,"column":4}}]},"95":{"line":638,"type":"if","locations":[{"start":{"line":638,"column":8},"end":{"line":638,"column":8}},{"start":{"line":638,"column":8},"end":{"line":638,"column":8}}]},"96":{"line":638,"type":"binary-expr","locations":[{"start":{"line":638,"column":12},"end":{"line":638,"column":15}},{"start":{"line":638,"column":19},"end":{"line":638,"column":30}},{"start":{"line":638,"column":34},"end":{"line":638,"column":55}}]},"97":{"line":651,"type":"if","locations":[{"start":{"line":651,"column":8},"end":{"line":651,"column":8}},{"start":{"line":651,"column":8},"end":{"line":651,"column":8}}]},"98":{"line":664,"type":"if","locations":[{"start":{"line":664,"column":4},"end":{"line":664,"column":4}},{"start":{"line":664,"column":4},"end":{"line":664,"column":4}}]},"99":{"line":688,"type":"if","locations":[{"start":{"line":688,"column":4},"end":{"line":688,"column":4}},{"start":{"line":688,"column":4},"end":{"line":688,"column":4}}]},"100":{"line":693,"type":"binary-expr","locations":[{"start":{"line":693,"column":15},"end":{"line":693,"column":23}},{"start":{"line":693,"column":27},"end":{"line":693,"column":41}}]},"101":{"line":694,"type":"binary-expr","locations":[{"start":{"line":694,"column":14},"end":{"line":694,"column":21}},{"start":{"line":694,"column":25},"end":{"line":694,"column":27}}]},"102":{"line":696,"type":"if","locations":[{"start":{"line":696,"column":4},"end":{"line":696,"column":4}},{"start":{"line":696,"column":4},"end":{"line":696,"column":4}}]},"103":{"line":699,"type":"if","locations":[{"start":{"line":699,"column":4},"end":{"line":699,"column":4}},{"start":{"line":699,"column":4},"end":{"line":699,"column":4}}]},"104":{"line":708,"type":"if","locations":[{"start":{"line":708,"column":4},"end":{"line":708,"column":4}},{"start":{"line":708,"column":4},"end":{"line":708,"column":4}}]},"105":{"line":718,"type":"if","locations":[{"start":{"line":718,"column":4},"end":{"line":718,"column":4}},{"start":{"line":718,"column":4},"end":{"line":718,"column":4}}]},"106":{"line":723,"type":"if","locations":[{"start":{"line":723,"column":8},"end":{"line":723,"column":8}},{"start":{"line":723,"column":8},"end":{"line":723,"column":8}}]},"107":{"line":726,"type":"binary-expr","locations":[{"start":{"line":726,"column":14},"end":{"line":726,"column":17}},{"start":{"line":726,"column":21},"end":{"line":726,"column":46}}]},"108":{"line":728,"type":"if","locations":[{"start":{"line":728,"column":8},"end":{"line":728,"column":8}},{"start":{"line":728,"column":8},"end":{"line":728,"column":8}}]},"109":{"line":739,"type":"if","locations":[{"start":{"line":739,"column":20},"end":{"line":739,"column":20}},{"start":{"line":739,"column":20},"end":{"line":739,"column":20}}]},"110":{"line":783,"type":"if","locations":[{"start":{"line":783,"column":8},"end":{"line":783,"column":8}},{"start":{"line":783,"column":8},"end":{"line":783,"column":8}}]},"111":{"line":785,"type":"if","locations":[{"start":{"line":785,"column":15},"end":{"line":785,"column":15}},{"start":{"line":785,"column":15},"end":{"line":785,"column":15}}]},"112":{"line":792,"type":"if","locations":[{"start":{"line":792,"column":4},"end":{"line":792,"column":4}},{"start":{"line":792,"column":4},"end":{"line":792,"column":4}}]},"113":{"line":794,"type":"if","locations":[{"start":{"line":794,"column":12},"end":{"line":794,"column":12}},{"start":{"line":794,"column":12},"end":{"line":794,"column":12}}]},"114":{"line":799,"type":"if","locations":[{"start":{"line":799,"column":8},"end":{"line":799,"column":8}},{"start":{"line":799,"column":8},"end":{"line":799,"column":8}}]},"115":{"line":799,"type":"binary-expr","locations":[{"start":{"line":799,"column":12},"end":{"line":799,"column":36}},{"start":{"line":799,"column":40},"end":{"line":799,"column":62}}]},"116":{"line":802,"type":"if","locations":[{"start":{"line":802,"column":16},"end":{"line":802,"column":16}},{"start":{"line":802,"column":16},"end":{"line":802,"column":16}}]},"117":{"line":831,"type":"if","locations":[{"start":{"line":831,"column":12},"end":{"line":831,"column":12}},{"start":{"line":831,"column":12},"end":{"line":831,"column":12}}]},"118":{"line":836,"type":"if","locations":[{"start":{"line":836,"column":16},"end":{"line":836,"column":16}},{"start":{"line":836,"column":16},"end":{"line":836,"column":16}}]},"119":{"line":871,"type":"if","locations":[{"start":{"line":871,"column":4},"end":{"line":871,"column":4}},{"start":{"line":871,"column":4},"end":{"line":871,"column":4}}]},"120":{"line":876,"type":"if","locations":[{"start":{"line":876,"column":4},"end":{"line":876,"column":4}},{"start":{"line":876,"column":4},"end":{"line":876,"column":4}}]},"121":{"line":886,"type":"if","locations":[{"start":{"line":886,"column":8},"end":{"line":886,"column":8}},{"start":{"line":886,"column":8},"end":{"line":886,"column":8}}]},"122":{"line":887,"type":"binary-expr","locations":[{"start":{"line":887,"column":18},"end":{"line":887,"column":21}},{"start":{"line":887,"column":25},"end":{"line":887,"column":50}}]},"123":{"line":888,"type":"if","locations":[{"start":{"line":888,"column":12},"end":{"line":888,"column":12}},{"start":{"line":888,"column":12},"end":{"line":888,"column":12}}]},"124":{"line":900,"type":"if","locations":[{"start":{"line":900,"column":24},"end":{"line":900,"column":24}},{"start":{"line":900,"column":24},"end":{"line":900,"column":24}}]},"125":{"line":908,"type":"if","locations":[{"start":{"line":908,"column":32},"end":{"line":908,"column":32}},{"start":{"line":908,"column":32},"end":{"line":908,"column":32}}]},"126":{"line":956,"type":"if","locations":[{"start":{"line":956,"column":8},"end":{"line":956,"column":8}},{"start":{"line":956,"column":8},"end":{"line":956,"column":8}}]},"127":{"line":956,"type":"binary-expr","locations":[{"start":{"line":956,"column":12},"end":{"line":956,"column":22}},{"start":{"line":956,"column":26},"end":{"line":956,"column":102}}]},"128":{"line":959,"type":"if","locations":[{"start":{"line":959,"column":8},"end":{"line":959,"column":8}},{"start":{"line":959,"column":8},"end":{"line":959,"column":8}}]},"129":{"line":980,"type":"cond-expr","locations":[{"start":{"line":980,"column":69},"end":{"line":980,"column":79}},{"start":{"line":980,"column":82},"end":{"line":980,"column":86}}]},"130":{"line":982,"type":"cond-expr","locations":[{"start":{"line":982,"column":36},"end":{"line":982,"column":40}},{"start":{"line":982,"column":43},"end":{"line":982,"column":59}}]},"131":{"line":989,"type":"if","locations":[{"start":{"line":989,"column":20},"end":{"line":989,"column":20}},{"start":{"line":989,"column":20},"end":{"line":989,"column":20}}]},"132":{"line":998,"type":"if","locations":[{"start":{"line":998,"column":8},"end":{"line":998,"column":8}},{"start":{"line":998,"column":8},"end":{"line":998,"column":8}}]},"133":{"line":1002,"type":"if","locations":[{"start":{"line":1002,"column":16},"end":{"line":1002,"column":16}},{"start":{"line":1002,"column":16},"end":{"line":1002,"column":16}}]}},"code":["/**"," * Module exports class Model"," */","module.exports = AbstractClass;","","/**"," * Module dependencies"," */","var setImmediate = global.setImmediate || process.nextTick;","var util = require('util');","var validations = require('./validations.js');","var ValidationError = validations.ValidationError;","var List = require('./list.js');","var when = require('when');","require('./hooks.js');","require('./relations.js');","require('./include.js');","","var BASE_TYPES = ['String', 'Boolean', 'Number', 'Date', 'Text'];","","/**"," * Model class - base class for all persist objects"," * provides **common API** to access any database adapter."," * This class describes only abstract behavior layer, refer to `lib/adapters/*.js`"," * to learn more about specific adapter implementations"," *"," * `AbstractClass` mixes `Validatable` and `Hookable` classes methods"," *"," * @constructor"," * @param {Object} data - initial object data"," */","function AbstractClass(data) {","    this._initProperties(data, true);","}","","var promisedClassMethods = [","    'create', 'all', 'destroyAll', 'upsert', 'updateOrCreate', 'find', 'update',","    'findOne', 'exists', 'count'","];","","var promisedInstanceMethods = [","    'save', 'updateAttribute', 'updateAttributes', 'destroy', 'reload'","];","","AbstractClass.prototype._initProperties = function (data, applySetters) {","    var self = this;","    var ctor = this.constructor;","    var ds = ctor.schema.definitions[ctor.modelName];","    var properties = ds.properties;","    data = data || {};","","    Object.defineProperty(this, '__cachedRelations', {","        writable: true,","        enumerable: false,","        configurable: true,","        value: {}","    });","","    Object.defineProperty(this, '__data', {","        writable: true,","        enumerable: false,","        configurable: true,","        value: {}","    });","","    Object.defineProperty(this, '__dataWas', {","        writable: true,","        enumerable: false,","        configurable: true,","        value: {}","    });","","    if (data.__cachedRelations) {","        this.__cachedRelations = data.__cachedRelations;","    }","","    for (var i in data) {","        if (i in properties) {","            this.__data[i] = this.__dataWas[i] = data[i];","        } else if (i in ctor.relations) {","            this.__data[ctor.relations[i].keyFrom] = this.__dataWas[i] = data[i][ctor.relations[i].keyTo];","            this.__cachedRelations[i] = data[i];","        }","    }","","    if (applySetters === true) {","        Object.keys(data).forEach(function (attr) {","            self[attr] = data[attr];","        });","    }","","    ctor.forEachProperty(function (attr) {","","        if ('undefined' === typeof self.__data[attr]) {","            self.__data[attr] = self.__dataWas[attr] = getDefault(attr);","        } else {","            self.__dataWas[attr] = self.__data[attr];","        }","","    });","","    ctor.forEachProperty(function (attr) {","","        var type = properties[attr].type;","","        if (BASE_TYPES.indexOf(type.name) === -1) {","            if (typeof self.__data[attr] !== 'object' && self.__data[attr]) {","                try {","                    self.__data[attr] = JSON.parse(self.__data[attr] + '');","                } catch (e) {","                    self.__data[attr] = String(self.__data[attr]);","                }","            }","            if (type.name === 'Array' || typeof type === 'object' && type.constructor.name === 'Array') {","                self.__data[attr] = new List(self.__data[attr], type, self);","            }","        }","","    });","","    function getDefault(attr) {","        var def = properties[attr]['default'];","        if (isdef(def)) {","            if (typeof def === 'function') {","                return def();","            } else {","                return def;","            }","        } else {","            return undefined;","        }","    }","","    this.trigger('initialize');","};","","/**"," * @param {String} prop - property name"," * @param {Object} params - various property configuration"," */","AbstractClass.defineProperty = function (prop, params) {","    this.schema.defineProperty(this.modelName, prop, params);","};","","AbstractClass.whatTypeName = function (propName) {","    var prop = this.schema.definitions[this.modelName].properties[propName];","    if (!prop || !prop.type) {","        return null;","        // throw new Error('Undefined type for ' + this.modelName + ':' + propName);","    }","    return prop.type.name;","};","","/**"," * Updates the respective record"," *"," * @param {Object} params - { where:{uid:'10'}, update:{ Name:'New name' } }"," * @param callback(err, obj)"," */","AbstractClass.update = function (params, cb) {","    var Model = this;","    if (params && params.update) {","      params.update = this._forDB(params.update);","    }","    this.schema.adapter.update(this.modelName, params, function(err, obj) {","      cb(err, Model._fromDB(obj));","    });","};","","/**"," * Prepares data for storage adapter."," *"," * Ensures data is allowed by the schema, and stringifies JSON field types."," * If the schema defines a custom field name, it is transformed here."," *"," * @param {Object} data"," * @return {Object} Returns data for storage."," */","AbstractClass._forDB = function (data) {","    if (!data) return;","    var res = {};","    var definition = this.schema.definitions[this.modelName].properties;","    Object.keys(data).forEach(function (propName) {","        var val;","        var typeName = this.whatTypeName(propName);","        if (!typeName && !data[propName] instanceof Array) {","            return;","        }","        val = data[propName];","        if (definition[propName] && definition[propName].name) {","          // Use different name for DB field/column","          res[definition[propName].name] = val;","        } else {","          res[propName] = val;","        }","    }.bind(this));","    return res;","};","","/**"," * Unpacks data from storage adapter."," *"," * If the schema defines a custom field name, it is transformed here."," *"," * @param {Object} data"," * @return {Object}"," */","AbstractClass._fromDB = function (data) {","    if (!data) return;","    var definition = this.schema.definitions[this.modelName].properties;","    var propNames = Object.keys(data);","    Object.keys(definition).forEach(function (defPropName) {","      var customName = definition[defPropName].name;","      if (customName && propNames.indexOf(customName) !== -1) {","        data[defPropName] = data[customName];","        delete data[customName];","      }","    });","    return data;","};","","AbstractClass.prototype.whatTypeName = function (propName) {","    return this.constructor.whatTypeName(propName);","};","","/**"," * Create new instance of Model class, saved in database"," *"," * @param data [optional]"," * @param callback(err, obj)"," * callback called with arguments:"," *"," *   - err (null or Error)"," *   - instance (null or Model)"," */","AbstractClass.create = function (data, callback) {","","    var Model = this;","    var modelName = Model.modelName;","","    if (typeof data === 'function') {","        callback = data;","        data = {};","    }","","    if (typeof callback !== 'function') {","        callback = function () {};","    }","","    if (!data) {","        data = {};","    }","","    // Passed via data from save","    var options = data.options || { validate: true };","","    if (data.data instanceof Model) {","        data = data.data;","        data.__dataWas = data.__data;","    }","","    if (data instanceof Array) {","        var instances = Array(data.length);","        var errors = Array(data.length);","        var gotError = false;","        var wait = data.length;","        if (wait === 0) callback(null, []);","","        for (var i = 0; i < data.length; i += 1) {","            createModel(data[i], i);","        }","","        return instances;","    }","","    function createModel(d, i) {","        Model.create(d, function(err, inst) {","            if (err) {","                errors[i] = err;","                gotError = true;","            }","            instances[i] = inst;","            modelCreated();","        });","    }","","    function modelCreated() {","        if (--wait === 0) {","            callback(gotError ? errors : null, instances);","        }","    }","","    var obj;","    // if we come from save","    if (data instanceof Model && !data.id) {","        obj = data;","    } else {","        obj = new Model(data);","    }","    data = obj.toObject(true);","","    if (!options.validate) {","        create();","    }","    else {","        // validation required","        obj.isValid(function(err, valid) {","            if (valid) {","                create();","            } else {","                err = err || new ValidationError(obj);","                callback(err, obj);","            }","        }, data);","    }","","    function create() {","        obj.trigger('create', function(createDone) {","            obj.trigger('save', function(saveDone) {","","                this._adapter().create(modelName, this.constructor._forDB(obj.toObject(true)), function (err, id, rev) {","                    if (id) {","                        obj.__data.id = id;","                        obj.__dataWas.id = id;","                        defineReadonlyProp(obj, 'id', id);","                    }","                    if (rev) {","                        rev = Model._fromDB(rev);","                        obj._rev = rev;","                    }","                    // if error occurs, we should not return a valid obj","                    if (err) {","                        return callback(err, obj);","                    }","                    saveDone.call(obj, function () {","                        createDone.call(obj, function () {","                            callback(err, obj);","                        });","                    });","                }, obj);","            }, obj, callback);","        }, obj, callback);","    }","","    return obj;","};","","function connection(schema) {","    if (schema.connected) {","        return when.Promise.resolve();","    } else {","        if (schema.connecting) {","            return new when.Promise(function(resolve) {","                schema.once('connected', function () {","                    resolve();","                });","            });","        } else {","            return schema.connect();","        }","    }","}","","/**"," * Update or insert"," */","AbstractClass.upsert = AbstractClass.updateOrCreate = function upsert(data, callback) {","","    var Model = this;","    if (!data.id) return this.create(data, callback);","    if (this.schema.adapter.updateOrCreate) {","        var inst = new Model(data);","        this.schema.adapter.updateOrCreate(Model.modelName, Model._forDB(inst.toObject(true)), function (err, data) {","            var obj;","            if (data) {","                data = inst.constructor._fromDB(data);","                inst._initProperties(data);","                obj = inst;","            } else {","                obj = null;","            }","            callback(err, obj);","        });","    } else {","        this.find(data.id, function (err, inst) {","            if (err) return callback(err);","            if (inst) {","                inst.updateAttributes(data, callback);","            } else {","                var obj = new Model(data);","                obj.save(data, callback);","            }","        });","    }","};","","/**"," * Find one record, same as `all`, limited by 1 and return object, not collection,"," * if not found, create using data provided as second argument"," *"," * @param {Object} query - search conditions: {where: {test: 'me'}}."," * @param {Object} data - object to create."," * @param {Function} cb - callback called with (err, instance)"," */","AbstractClass.findOrCreate = function findOrCreate(query, data, callback) {","    if (typeof query === 'undefined') {","        query = {where: {}};","    }","    if (typeof data === 'function' || typeof data === 'undefined') {","        callback = data;","        data = query && query.where;","    }","    if (typeof callback === 'undefined') {","        callback = function () {};","    }","","    var t = this;","    this.findOne(query, function (err, record) {","        if (err) return callback(err);","        if (record) return callback(null, record);","        t.create(data, callback);","    });","};","","/**"," * Check whether object exitst in database"," *"," * @param {id} id - identifier of object (primary key value)"," * @param {Function} cb - callbacl called with (err, exists: Bool)"," */","AbstractClass.exists = function exists(id, cb) {","    if (id) {","        this.schema.adapter.exists(this.modelName, id, cb);","    } else {","        cb(new Error('Model::exists requires positive id argument'));","    }","};","","/**"," * Find object by id"," *"," * @param {id} id - primary key value"," * @param {Function} cb - callback called with (err, instance)"," */","AbstractClass.find = function find(id, cb) {","    var Model = this;","","    this.schema.adapter.find(Model.modelName, id, function (err, data) {","        var obj = null;","        if (data) {","            data = Model._fromDB(data);","            if (!data.id) {","                data.id = id;","            }","            obj = new Model();","            obj._initProperties(data, false);","        }","        cb(err, obj);","    });","};","","/**"," * Find all instances of Model, matched by query"," * make sure you have marked as `index: true` fields for filter or sort"," *"," * @param {Object} params (optional)"," *"," * - where: Object `{ key: val, key2: {gt: 'val2'}}`"," * - attributes: Array ['id, 'name'] or String 'id'"," * - include: String, Object or Array. See AbstractClass.include documentation."," * - order: String"," * - limit: Number"," * - skip: Number"," *"," * @param {Function} callback (required) called with arguments:"," *"," * - err (null or Error)"," * - Array of instances"," */","AbstractClass.all = function all(params, cb) {","","    if (arguments.length === 1) {","        cb = params;","        params = null;","    }","    if (params) {","        if ('skip' in params) {","            params.offset = params.skip;","        } else if ('offset' in params) {","            params.skip = params.offset;","        }","    }","    var Constr = this;","    var paramsFiltered = params;","    if (params && params.where) {","      paramsFiltered.where = this._forDB(paramsFiltered.where);","    }","    this.schema.adapter.all(this.modelName, paramsFiltered, function (err, data) {","        if (data && data.forEach) {","            if (params && params.attributes && data && data.length) {","                if ('string' === typeof params.attributes) {","                    return cb(err, data.map(function(n) {","                        return n[params.attributes];","                    }));","                } else if ('function' === typeof data.map) {","                    var isClean = Object.getOwnPropertyNames(data[0]).every(function(key) {","                        return params.attributes.indexOf(key) !== -1;","                    });","                    if (!isClean) {","                        data.forEach(function(node) {","                            Object.keys(node).forEach(function(key) {","                                if (params.attributes.indexOf(key) === -1) {","                                    delete node[key];","                                }","                            });","                        });","                    }","                }","            }","            if (!params || !params.onlyKeys) {","                data.forEach(function (d, i) {","                    var obj = new Constr();","                    d = Constr._fromDB(d);","                    obj._initProperties(d, false);","                    if (params && params.include && params.collect) {","                        data[i] = obj.__cachedRelations[params.collect];","                    } else {","                        data[i] = obj;","                    }","                });","            }","            if (data && data.countBeforeLimit) {","                data.countBeforeLimit = data.countBeforeLimit;","            }","            cb(err, data);","        } else {","            cb(err, []);","        }","    });","};","","/**"," * Iterate through dataset and perform async method iterator. This method"," * designed to work with large datasets loading data by batches."," *"," * @param {Object} filter - query conditions. Same as for `all` may contain"," * optional member `batchSize` to specify size of batch loaded from db. Optional."," * @param {Function} iterator - method(obj, next) called on each obj."," * @param {Function} callback - method(err) called on complete or error."," */","AbstractClass.iterate = function map(filter, iterator, callback) {","    var Model = this;","    if ('function' === typeof filter) {","        if ('function' === typeof iterator) {","            callback = iterator;","        }","        iterator = filter;","        filter = {};","    }","","    var concurrent = filter.concurrent;","    delete filter.concurrent;","    var limit = filter.limit;","    var batchSize = filter.limit = filter.batchSize || 1000;","    var batchNumber = filter.batchNumber || -1;","","    nextBatch();","","    function nextBatch() {","        // console.log(batchNumber);","        batchNumber += 1;","        filter.skip = filter.offset = batchNumber * batchSize;","        if (limit < batchSize) {","            if (limit <= 0) {","                return done();","            } else {","                filter.limit = limit;","            }","        }","        limit -= batchSize;","        Model.all(filter).then(function(collection) {","            if (collection.length === 0) {","                return done();","            }","            var i = 0, wait;","            if (concurrent) {","                wait = collection.length;","                collection.forEach(function(obj, i) {","                    iterator(obj, next, filter.offset + i);","                    obj = null;","                });","                collection = null;","            } else {","                nextItem();","            }","            function next() {","                if (--wait === 0) {","                    nextBatch();","                }","            }","            function nextItem(err) {","                if (err) {","                    return done(err);","                }","                var item = collection[i];","                if (i > collection.length - 1) {","                    return nextBatch();","                }","                i += 1;","                setImmediate(function() {","                    iterator(item, nextItem, filter.offset + i);","                });","            }","        }).catch(done);","    }","","    function done(err) {","        if ('function' === typeof callback) {","            callback(err);","        }","    }","};","","/**"," * Find one record, same as `all`, limited by 1 and return object, not collection"," *"," * @param {Object} params - search conditions: {where: {test: 'me'}}"," * @param {Function} cb - callback called with (err, instance)"," */","AbstractClass.findOne = function findOne(params, cb) {","","    if (typeof params === 'function') {","        cb = params;","        params = {};","    }","    params.limit = 1;","    this.all(params, function (err, collection) {","        if (err || !collection || collection.length < 1) {","            return cb(err, null);","        }","        cb(err, collection[0]);","    });","};","","/**"," * Destroy all records"," * @param {Function} cb - callback called with (err)"," */","AbstractClass.destroyAll = function destroyAll(cb) {","    this.schema.adapter.destroyAll(this.modelName, function (err) {","        if ('function' === typeof cb) {","            cb(err);","        }","    });","};","","/**"," * Return count of matched records"," *"," * @param {Object} where - search conditions (optional)"," * @param {Function} cb - callback, called with (err, count)"," */","AbstractClass.count = function (where, cb) {","    if (typeof where === 'function') {","        cb = where;","        where = null;","    }","    this.schema.adapter.count(this.modelName, cb, this._forDB(where));","};","","/**"," * Return string representation of class"," *"," * @override default toString method"," */","AbstractClass.toString = function () {","    return '[Model ' + this.modelName + ']';","};","","/**"," * Save instance. When instance haven't id, create method called instead."," * Triggers: validate, save, update | create"," * @param options {validate: true, throws: false} [optional]"," * @param callback(err, obj)"," */","AbstractClass.prototype.save = function (options, callback) {","","    if (typeof options == 'function') {","        callback = options;","        options = {};","    }","","    callback = callback || function () {};","    options = options || {};","","    if (!('validate' in options)) {","        options.validate = true;","    }","    if (!('throws' in options)) {","        options.throws = false;","    }","","    var inst = this;","    var data = inst.toObject(true);","    var Model = this.constructor;","    var modelName = Model.modelName;","","    if (!this.id) {","        // Pass options and this to create","        data = {","            data: this,","            options: options","        };","        return Model.create(data, callback);","    }","","    // validate first","    if (!options.validate) {","        return save();","    }","","    inst.isValid(function (err, valid) {","        if (valid) {","            return save();","        }","        err = err || new ValidationError(inst);","        // throws option is dangerous for async usage","        if (options.throws) {","            throw err;","        }","        callback.call(inst, err);","    }, data);","","    // then save","    function save() {","        inst.trigger('save', function (saveDone) {","            inst.trigger('update', function (updateDone) {","                inst._adapter().save(modelName, inst.constructor._forDB(data), function (err) {","                    if (err) {","                        return callback(err, inst);","                    }","                    inst._initProperties(data, false);","                    updateDone.call(inst, function () {","                        saveDone.call(inst, function () {","                            callback.call(inst, err, inst);","                        });","                    });","                });","            }, data, callback);","        }, data, callback);","    }","};","","AbstractClass.prototype.isNewRecord = function () {","    return !this.id;","};","","/**"," * Return adapter of current record"," * @private"," */","AbstractClass.prototype._adapter = function () {","    return this.schema.adapter;","};","","/**"," * Convert instance to Object"," *"," * @param {Boolean} onlySchema - restrict properties to schema only, default false"," * when onlySchema == true, only properties defined in schema returned,"," * otherwise all enumerable properties returned."," * @param {Boolean} cachedRelations - include cached relations to object, only"," * taken into account when onlySchema is false."," * @returns {Object} - canonical object representation (no getters and setters)."," */","AbstractClass.prototype.toObject = function (onlySchema, cachedRelations) {","    var data = {};","    var ds = this.constructor.schema.definitions[this.constructor.modelName];","    var properties = ds.properties;","    var self = this;","","    this.constructor.forEachProperty(function (attr) {","        if (self[attr] instanceof List) {","            data[attr] = self[attr].toObject();","        } else if (self.__data.hasOwnProperty(attr)) {","            data[attr] = self[attr];","        } else {","            data[attr] = null;","        }","    });","","    if (!onlySchema) {","        Object.keys(self).forEach(function (attr) {","            if (!data.hasOwnProperty(attr)) {","                data[attr] = self[attr];","            }","        });","","        if (cachedRelations === true && this.__cachedRelations) {","            var relations = this.__cachedRelations;","            Object.keys(relations).forEach(function (attr) {","                if (!data.hasOwnProperty(attr)) {","                    data[attr] = relations[attr];","                }","            });","        }","    }","","    return data;","};","","// AbstractClass.prototype.hasOwnProperty = function (prop) {","//     return this.__data && this.__data.hasOwnProperty(prop) ||","//         Object.getOwnPropertyNames(this).indexOf(prop) !== -1;","// };","","AbstractClass.prototype.toJSON = function () {","    return this.toObject(false, true);","};","","","/**"," * Delete object from persistence"," *"," * @triggers `destroy` hook (async) before and after destroying object"," */","AbstractClass.prototype.destroy = function (cb) {","","    this.trigger('destroy', function (destroyed) {","        this._adapter().destroy(this.constructor.modelName, this.id, function (err) {","            if (err) {","                return cb(err);","            }","","            destroyed(function () {","                if(cb) cb();","            });","        }.bind(this));","    }, this.toObject(), cb);","};","","/**"," * Update single attribute"," *"," * equals to `updateAttributes({name: value}, cb)"," *"," * @param {String} name - name of property"," * @param {Mixed} value - value of property"," * @param {Function} callback - callback called with (err, instance)"," */","AbstractClass.prototype.updateAttribute = function updateAttribute(name, value, callback) {","    var data = {};","    data[name] = value;","    this.updateAttributes(data, callback);","};","","/**"," * Update set of attributes"," *"," * this method performs validation before updating"," *"," * @trigger `validation`, `save` and `update` hooks"," * @param {Object} data - data to update"," * @param {Function} callback - callback called with (err, instance)"," */","AbstractClass.prototype.updateAttributes = function updateAttributes(data, callback) {","","    var inst = this;","    var modelName = this.constructor.modelName;","","    if (typeof data === 'function') {","        callback = data;","        data = null;","    }","","    if (!data) {","        data = {};","    }","","    // update instance's properties","    Object.keys(data).forEach(function (key) {","        inst[key] = data[key];","    });","","    inst.isValid(function (err, valid) {","        if (!valid) {","            err = err || new ValidationError(inst);","            if (callback) {","                callback.call(inst, err);","            }","        } else {","            inst.trigger('save', function (saveDone) {","                inst.trigger('update', function (done) {","","                    Object.keys(data).forEach(function (key) {","                        inst[key] = data[key];","                    });","","                    inst._adapter().updateAttributes(modelName, inst.id, inst.constructor._forDB(inst.toObject(true)), function (err) {","                        if (!err) {","                            // update _was attrs","                            Object.keys(data).forEach(function (key) {","                                inst.__dataWas[key] = inst.__data[key];","                            });","                        }","                        done.call(inst, function () {","                            saveDone.call(inst, function () {","                                if (callback) {","                                    callback.call(inst, err, inst);","                                }","                            });","                        });","                    });","                }, data, callback);","            }, data, callback);","        }","    }, data);","};","","AbstractClass.prototype.fromObject = function (obj) {","    Object.keys(obj).forEach(function (key) {","        this[key] = obj[key];","    }.bind(this));","};","","/**"," * Checks is property changed based on current property and initial value"," *"," * @param {String} attr - property name"," * @return Boolean"," */","AbstractClass.prototype.propertyChanged = function propertyChanged(attr) {","    return this.__data[attr] !== this.__dataWas[attr];","};","","/**"," * Reload object from persistence"," *"," * @requires `id` member of `object` to be able to call `find`"," * @param {Function} callback - called with (err, instance) arguments"," */","AbstractClass.prototype.reload = function reload(callback) {","","    this.constructor.find(this.id, callback);","};","","/**"," * Reset dirty attributes"," *"," * this method does not perform any database operation it just reset object to it's"," * initial state"," */","AbstractClass.prototype.reset = function () {","    var obj = this;","    Object.keys(obj).forEach(function (k) {","        if (k !== 'id' && !obj.constructor.schema.definitions[obj.constructor.modelName].properties[k]) {","            delete obj[k];","        }","        if (obj.propertyChanged(k)) {","            obj[k] = obj[k + '_was'];","        }","    });","};","","AbstractClass.prototype.inspect = function () {","    return util.inspect(this.__data, false, 4, true);","};","","promisedClassMethods.forEach(function(methodName) {","    AbstractClass[methodName] = wrapWithPromise(AbstractClass[methodName], true);","});","","promisedInstanceMethods.forEach(function(methodName) {","    AbstractClass.prototype[methodName] = wrapWithPromise(AbstractClass.prototype[methodName]);","});","","function wrapWithPromise(fn, isClassMethod) {","    return function promisedWrap() {","        var args = [].slice.call(arguments);","        var callback = 'function' === typeof args[args.length - 1] ? args.pop() : null;","        var self = this;","        var Model = isClassMethod ? self : self.constructor;","        var queryResult;","        var promisedQuery = connection(Model.schema)","        .then(function() {","            return new when.Promise(function(resolve, reject) {","                args.push(function(err, result) {","                    queryResult = result;","                    if (err) {","                        reject(err);","                    } else {","                        resolve(result);","                    }","                });","                fn.apply(self, args);","            });","        });","        if (callback) {","            promisedQuery.then(function(result) {","                callback(null, result);","            }, function(err) {","                if ('undefined' !== queryResult) {","                    callback(err, queryResult);","                } else {","                    callback(err);","                }","            });","        } else {","            return promisedQuery;","        }","    };","}","","/**"," * Check whether `s` is not undefined"," * @param {Mixed} s"," * @return {Boolean} s is undefined"," */","function isdef(s) {","    var undef;","    return s !== undef;","}","","/**"," * Define readonly property on object"," *"," * @param {Object} obj"," * @param {String} key"," * @param {Mixed} value"," */","function defineReadonlyProp(obj, key, value) {","    Object.defineProperty(obj, key, {","        writable: false,","        enumerable: true,","        configurable: true,","        value: value","    });","}",""],"l":{"4":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"19":1,"32":1,"33":0,"36":1,"41":1,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"52":0,"59":0,"66":0,"73":0,"74":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"86":0,"87":0,"88":0,"92":0,"94":0,"95":0,"97":0,"102":0,"104":0,"106":0,"107":0,"108":0,"109":0,"111":0,"114":0,"115":0,"121":1,"122":0,"123":0,"124":0,"125":0,"127":0,"130":0,"134":0,"141":1,"142":0,"145":1,"146":0,"147":0,"148":0,"151":0,"160":1,"161":0,"162":0,"163":0,"165":0,"166":0,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"189":0,"190":0,"192":0,"194":0,"197":0,"208":1,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"219":0,"222":1,"223":0,"236":1,"238":0,"239":0,"241":0,"242":0,"243":0,"246":0,"247":0,"250":0,"251":0,"255":0,"257":0,"258":0,"259":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"269":0,"270":0,"273":0,"276":1,"277":0,"278":0,"279":0,"280":0,"282":0,"283":0,"287":1,"288":0,"289":0,"293":0,"295":0,"296":0,"298":0,"300":0,"302":0,"303":0,"307":0,"308":0,"309":0,"311":0,"312":0,"317":1,"318":0,"319":0,"321":0,"322":0,"323":0,"324":0,"325":0,"327":0,"328":0,"329":0,"332":0,"333":0,"335":0,"336":0,"337":0,"345":0,"348":1,"349":0,"350":0,"352":0,"353":0,"354":0,"355":0,"359":0,"367":1,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"380":0,"382":0,"385":0,"386":0,"387":0,"388":0,"390":0,"391":0,"405":1,"406":0,"407":0,"409":0,"410":0,"411":0,"413":0,"414":0,"417":0,"418":0,"419":0,"420":0,"421":0,"431":1,"432":0,"433":0,"435":0,"445":1,"446":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"455":0,"456":0,"458":0,"480":1,"482":0,"483":0,"484":0,"486":0,"487":0,"488":0,"489":0,"490":0,"493":0,"494":0,"495":0,"496":0,"498":0,"499":0,"500":0,"501":0,"502":0,"503":0,"505":0,"506":0,"507":0,"509":0,"510":0,"511":0,"512":0,"513":0,"520":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"528":0,"532":0,"533":0,"535":0,"537":0,"551":1,"552":0,"553":0,"554":0,"555":0,"557":0,"558":0,"561":0,"562":0,"563":0,"564":0,"565":0,"567":0,"569":1,"571":0,"572":0,"573":0,"574":0,"575":0,"577":0,"580":0,"581":0,"582":0,"583":0,"585":0,"586":0,"587":0,"588":0,"589":0,"590":0,"592":0,"594":0,"596":1,"597":0,"598":0,"601":1,"602":0,"603":0,"605":0,"606":0,"607":0,"609":0,"610":0,"611":0,"617":1,"618":0,"619":0,"630":1,"632":0,"633":0,"634":0,"636":0,"637":0,"638":0,"639":0,"641":0,"649":1,"650":0,"651":0,"652":0,"663":1,"664":0,"665":0,"666":0,"668":0,"676":1,"677":0,"686":1,"688":0,"689":0,"690":0,"693":0,"694":0,"696":0,"697":0,"699":0,"700":0,"703":0,"704":0,"705":0,"706":0,"708":0,"710":0,"714":0,"718":0,"719":0,"722":0,"723":0,"724":0,"726":0,"728":0,"729":0,"731":0,"735":1,"736":0,"737":0,"738":0,"739":0,"740":0,"742":0,"743":0,"744":0,"745":0,"754":1,"755":0,"762":1,"763":0,"776":1,"777":0,"778":0,"779":0,"780":0,"782":0,"783":0,"784":0,"785":0,"786":0,"788":0,"792":0,"793":0,"794":0,"795":0,"799":0,"800":0,"801":0,"802":0,"803":0,"809":0,"817":1,"818":0,"827":1,"829":0,"830":0,"831":0,"832":0,"835":0,"836":0,"851":1,"852":0,"853":0,"854":0,"866":1,"868":0,"869":0,"871":0,"872":0,"873":0,"876":0,"877":0,"881":0,"882":0,"885":0,"886":0,"887":0,"888":0,"889":0,"892":0,"893":0,"895":0,"896":0,"899":0,"900":0,"902":0,"903":0,"906":0,"907":0,"908":0,"909":0,"920":1,"921":0,"922":0,"932":1,"933":0,"942":1,"944":0,"953":1,"954":0,"955":0,"956":0,"957":0,"959":0,"960":0,"965":1,"966":0,"969":1,"970":10,"973":1,"974":5,"977":1,"978":15,"979":0,"980":0,"981":0,"982":0,"983":0,"984":0,"986":0,"987":0,"988":0,"989":0,"990":0,"992":0,"995":0,"998":0,"999":0,"1000":0,"1002":0,"1003":0,"1005":0,"1009":0,"1019":1,"1020":0,"1021":0,"1031":1,"1032":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/validations.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/validations.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":1,"66":9,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":1,"113":0,"114":1,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":1,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":1,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":1,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":1,"204":0,"205":0,"206":1,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":1,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":1,"222":0,"223":0,"224":0,"225":1,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":1,"235":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0,0],"81":[0,0,0,0],"82":[0,0],"83":[0,0],"84":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":9,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},"fnMap":{"1":{"name":"validatePresence","line":201,"loc":{"start":{"line":201,"column":0},"end":{"line":201,"column":43}}},"2":{"name":"validateLength","line":210,"loc":{"start":{"line":210,"column":0},"end":{"line":210,"column":41}}},"3":{"name":"validateNumericality","line":228,"loc":{"start":{"line":228,"column":0},"end":{"line":228,"column":47}}},"4":{"name":"validateInclusion","line":242,"loc":{"start":{"line":242,"column":0},"end":{"line":242,"column":44}}},"5":{"name":"validateExclusion","line":253,"loc":{"start":{"line":253,"column":0},"end":{"line":253,"column":44}}},"6":{"name":"validateFormat","line":264,"loc":{"start":{"line":264,"column":0},"end":{"line":264,"column":41}}},"7":{"name":"validateCustom","line":279,"loc":{"start":{"line":279,"column":0},"end":{"line":279,"column":47}}},"8":{"name":"validateUniqueness","line":286,"loc":{"start":{"line":286,"column":0},"end":{"line":286,"column":51}}},"9":{"name":"(anonymous_9)","line":293,"loc":{"start":{"line":293,"column":31},"end":{"line":293,"column":55}}},"10":{"name":"getConfigurator","line":317,"loc":{"start":{"line":317,"column":0},"end":{"line":317,"column":37}}},"11":{"name":"(anonymous_11)","line":318,"loc":{"start":{"line":318,"column":11},"end":{"line":318,"column":23}}},"12":{"name":"(anonymous_12)","line":350,"loc":{"start":{"line":350,"column":32},"end":{"line":350,"column":58}}},"13":{"name":"(anonymous_13)","line":359,"loc":{"start":{"line":359,"column":19},"end":{"line":359,"column":41}}},"14":{"name":"(anonymous_14)","line":368,"loc":{"start":{"line":368,"column":37},"end":{"line":368,"column":63}}},"15":{"name":"(anonymous_15)","line":369,"loc":{"start":{"line":369,"column":43},"end":{"line":369,"column":54}}},"16":{"name":"(anonymous_16)","line":372,"loc":{"start":{"line":372,"column":21},"end":{"line":372,"column":36}}},"17":{"name":"(anonymous_17)","line":385,"loc":{"start":{"line":385,"column":29},"end":{"line":385,"column":56}}},"18":{"name":"(anonymous_18)","line":389,"loc":{"start":{"line":389,"column":46},"end":{"line":389,"column":59}}},"19":{"name":"(anonymous_19)","line":393,"loc":{"start":{"line":393,"column":33},"end":{"line":393,"column":45}}},"20":{"name":"(anonymous_20)","line":405,"loc":{"start":{"line":405,"column":39},"end":{"line":405,"column":50}}},"21":{"name":"done","line":413,"loc":{"start":{"line":413,"column":8},"end":{"line":413,"column":28}}},"22":{"name":"(anonymous_22)","line":416,"loc":{"start":{"line":416,"column":43},"end":{"line":416,"column":55}}},"23":{"name":"(anonymous_23)","line":425,"loc":{"start":{"line":425,"column":13},"end":{"line":425,"column":28}}},"24":{"name":"cleanErrors","line":439,"loc":{"start":{"line":439,"column":0},"end":{"line":439,"column":27}}},"25":{"name":"validationFailed","line":447,"loc":{"start":{"line":447,"column":0},"end":{"line":447,"column":39}}},"26":{"name":"onerror","line":464,"loc":{"start":{"line":464,"column":28},"end":{"line":464,"column":51}}},"27":{"name":"(anonymous_27)","line":490,"loc":{"start":{"line":490,"column":32},"end":{"line":490,"column":44}}},"28":{"name":"skipValidation","line":498,"loc":{"start":{"line":498,"column":0},"end":{"line":498,"column":42}}},"29":{"name":"nullCheck","line":537,"loc":{"start":{"line":537,"column":0},"end":{"line":537,"column":36}}},"30":{"name":"blank","line":562,"loc":{"start":{"line":562,"column":0},"end":{"line":562,"column":18}}},"31":{"name":"configure","line":570,"loc":{"start":{"line":570,"column":0},"end":{"line":570,"column":48}}},"32":{"name":"(anonymous_32)","line":590,"loc":{"start":{"line":590,"column":17},"end":{"line":590,"column":33}}},"33":{"name":"Errors","line":595,"loc":{"start":{"line":595,"column":0},"end":{"line":595,"column":21}}},"34":{"name":"(anonymous_34)","line":609,"loc":{"start":{"line":609,"column":23},"end":{"line":609,"column":55}}},"35":{"name":"localize","line":619,"loc":{"start":{"line":619,"column":30},"end":{"line":619,"column":56}}},"36":{"name":"(anonymous_36)","line":623,"loc":{"start":{"line":623,"column":31},"end":{"line":623,"column":46}}},"37":{"name":"(anonymous_37)","line":624,"loc":{"start":{"line":624,"column":39},"end":{"line":624,"column":57}}},"38":{"name":"ErrorCodes","line":631,"loc":{"start":{"line":631,"column":0},"end":{"line":631,"column":30}}},"39":{"name":"(anonymous_39)","line":633,"loc":{"start":{"line":633,"column":34},"end":{"line":633,"column":50}}},"40":{"name":"ValidationError","line":638,"loc":{"start":{"line":638,"column":0},"end":{"line":638,"column":30}}},"41":{"name":"NOOP","line":651,"loc":{"start":{"line":651,"column":0},"end":{"line":651,"column":29}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"2":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}},"3":{"start":{"line":42,"column":0},"end":{"line":42,"column":62}},"4":{"start":{"line":70,"column":0},"end":{"line":70,"column":58}},"5":{"start":{"line":90,"column":0},"end":{"line":90,"column":70}},"6":{"start":{"line":109,"column":0},"end":{"line":109,"column":64}},"7":{"start":{"line":121,"column":0},"end":{"line":121,"column":64}},"8":{"start":{"line":131,"column":0},"end":{"line":131,"column":58}},"9":{"start":{"line":152,"column":0},"end":{"line":152,"column":49}},"10":{"start":{"line":183,"column":0},"end":{"line":183,"column":69}},"11":{"start":{"line":194,"column":0},"end":{"line":194,"column":81}},"12":{"start":{"line":201,"column":0},"end":{"line":205,"column":1}},"13":{"start":{"line":202,"column":4},"end":{"line":204,"column":5}},"14":{"start":{"line":203,"column":8},"end":{"line":203,"column":14}},"15":{"start":{"line":210,"column":0},"end":{"line":223,"column":1}},"16":{"start":{"line":211,"column":4},"end":{"line":211,"column":54}},"17":{"start":{"line":211,"column":47},"end":{"line":211,"column":54}},"18":{"start":{"line":213,"column":4},"end":{"line":213,"column":32}},"19":{"start":{"line":214,"column":4},"end":{"line":216,"column":5}},"20":{"start":{"line":215,"column":8},"end":{"line":215,"column":19}},"21":{"start":{"line":217,"column":4},"end":{"line":219,"column":5}},"22":{"start":{"line":218,"column":8},"end":{"line":218,"column":19}},"23":{"start":{"line":220,"column":4},"end":{"line":222,"column":5}},"24":{"start":{"line":221,"column":8},"end":{"line":221,"column":18}},"25":{"start":{"line":228,"column":0},"end":{"line":237,"column":1}},"26":{"start":{"line":229,"column":4},"end":{"line":229,"column":54}},"27":{"start":{"line":229,"column":47},"end":{"line":229,"column":54}},"28":{"start":{"line":231,"column":4},"end":{"line":233,"column":5}},"29":{"start":{"line":232,"column":8},"end":{"line":232,"column":29}},"30":{"start":{"line":234,"column":4},"end":{"line":236,"column":5}},"31":{"start":{"line":235,"column":8},"end":{"line":235,"column":26}},"32":{"start":{"line":242,"column":0},"end":{"line":248,"column":1}},"33":{"start":{"line":243,"column":4},"end":{"line":243,"column":54}},"34":{"start":{"line":243,"column":47},"end":{"line":243,"column":54}},"35":{"start":{"line":245,"column":4},"end":{"line":247,"column":5}},"36":{"start":{"line":246,"column":8},"end":{"line":246,"column":14}},"37":{"start":{"line":253,"column":0},"end":{"line":259,"column":1}},"38":{"start":{"line":254,"column":4},"end":{"line":254,"column":54}},"39":{"start":{"line":254,"column":47},"end":{"line":254,"column":54}},"40":{"start":{"line":256,"column":4},"end":{"line":258,"column":5}},"41":{"start":{"line":257,"column":8},"end":{"line":257,"column":14}},"42":{"start":{"line":264,"column":0},"end":{"line":274,"column":1}},"43":{"start":{"line":265,"column":4},"end":{"line":265,"column":54}},"44":{"start":{"line":265,"column":47},"end":{"line":265,"column":54}},"45":{"start":{"line":267,"column":4},"end":{"line":273,"column":5}},"46":{"start":{"line":268,"column":8},"end":{"line":270,"column":9}},"47":{"start":{"line":269,"column":12},"end":{"line":269,"column":18}},"48":{"start":{"line":272,"column":8},"end":{"line":272,"column":14}},"49":{"start":{"line":279,"column":0},"end":{"line":281,"column":1}},"50":{"start":{"line":280,"column":4},"end":{"line":280,"column":47}},"51":{"start":{"line":286,"column":0},"end":{"line":304,"column":1}},"52":{"start":{"line":287,"column":4},"end":{"line":289,"column":5}},"53":{"start":{"line":288,"column":8},"end":{"line":288,"column":22}},"54":{"start":{"line":291,"column":4},"end":{"line":291,"column":27}},"55":{"start":{"line":292,"column":4},"end":{"line":292,"column":34}},"56":{"start":{"line":293,"column":4},"end":{"line":303,"column":18}},"57":{"start":{"line":294,"column":8},"end":{"line":296,"column":9}},"58":{"start":{"line":295,"column":12},"end":{"line":295,"column":25}},"59":{"start":{"line":297,"column":8},"end":{"line":301,"column":9}},"60":{"start":{"line":298,"column":12},"end":{"line":298,"column":18}},"61":{"start":{"line":299,"column":15},"end":{"line":301,"column":9}},"62":{"start":{"line":300,"column":12},"end":{"line":300,"column":18}},"63":{"start":{"line":302,"column":8},"end":{"line":302,"column":15}},"64":{"start":{"line":306,"column":0},"end":{"line":315,"column":2}},"65":{"start":{"line":317,"column":0},"end":{"line":321,"column":1}},"66":{"start":{"line":318,"column":4},"end":{"line":320,"column":6}},"67":{"start":{"line":319,"column":8},"end":{"line":319,"column":47}},"68":{"start":{"line":350,"column":0},"end":{"line":437,"column":2}},"69":{"start":{"line":351,"column":4},"end":{"line":351,"column":59}},"70":{"start":{"line":353,"column":4},"end":{"line":353,"column":32}},"71":{"start":{"line":357,"column":4},"end":{"line":362,"column":5}},"72":{"start":{"line":358,"column":8},"end":{"line":358,"column":33}},"73":{"start":{"line":359,"column":8},"end":{"line":361,"column":10}},"74":{"start":{"line":360,"column":12},"end":{"line":360,"column":29}},"75":{"start":{"line":365,"column":4},"end":{"line":377,"column":5}},"76":{"start":{"line":366,"column":8},"end":{"line":366,"column":26}},"77":{"start":{"line":367,"column":8},"end":{"line":375,"column":9}},"78":{"start":{"line":368,"column":12},"end":{"line":374,"column":15}},"79":{"start":{"line":369,"column":16},"end":{"line":371,"column":19}},"80":{"start":{"line":370,"column":20},"end":{"line":370,"column":42}},"81":{"start":{"line":373,"column":16},"end":{"line":373,"column":37}},"82":{"start":{"line":376,"column":8},"end":{"line":376,"column":21}},"83":{"start":{"line":379,"column":4},"end":{"line":383,"column":7}},"84":{"start":{"line":385,"column":4},"end":{"line":427,"column":7}},"85":{"start":{"line":386,"column":8},"end":{"line":387,"column":30}},"86":{"start":{"line":389,"column":8},"end":{"line":402,"column":11}},"87":{"start":{"line":390,"column":12},"end":{"line":400,"column":13}},"88":{"start":{"line":391,"column":16},"end":{"line":391,"column":29}},"89":{"start":{"line":392,"column":16},"end":{"line":392,"column":26}},"90":{"start":{"line":393,"column":16},"end":{"line":395,"column":19}},"91":{"start":{"line":394,"column":20},"end":{"line":394,"column":52}},"92":{"start":{"line":397,"column":16},"end":{"line":399,"column":17}},"93":{"start":{"line":398,"column":20},"end":{"line":398,"column":34}},"94":{"start":{"line":404,"column":8},"end":{"line":411,"column":9}},"95":{"start":{"line":405,"column":12},"end":{"line":410,"column":15}},"96":{"start":{"line":406,"column":16},"end":{"line":406,"column":45}},"97":{"start":{"line":406,"column":27},"end":{"line":406,"column":45}},"98":{"start":{"line":407,"column":16},"end":{"line":409,"column":17}},"99":{"start":{"line":408,"column":20},"end":{"line":408,"column":78}},"100":{"start":{"line":413,"column":8},"end":{"line":423,"column":9}},"101":{"start":{"line":414,"column":12},"end":{"line":414,"column":42}},"102":{"start":{"line":415,"column":12},"end":{"line":422,"column":13}},"103":{"start":{"line":416,"column":16},"end":{"line":421,"column":19}},"104":{"start":{"line":417,"column":20},"end":{"line":417,"column":63}},"105":{"start":{"line":417,"column":45},"end":{"line":417,"column":63}},"106":{"start":{"line":418,"column":20},"end":{"line":420,"column":21}},"107":{"start":{"line":419,"column":24},"end":{"line":419,"column":96}},"108":{"start":{"line":426,"column":8},"end":{"line":426,"column":29}},"109":{"start":{"line":429,"column":4},"end":{"line":435,"column":5}},"110":{"start":{"line":432,"column":8},"end":{"line":432,"column":15}},"111":{"start":{"line":434,"column":8},"end":{"line":434,"column":21}},"112":{"start":{"line":439,"column":0},"end":{"line":445,"column":1}},"113":{"start":{"line":440,"column":4},"end":{"line":444,"column":7}},"114":{"start":{"line":447,"column":0},"end":{"line":496,"column":1}},"115":{"start":{"line":448,"column":4},"end":{"line":448,"column":20}},"116":{"start":{"line":449,"column":4},"end":{"line":449,"column":20}},"117":{"start":{"line":450,"column":4},"end":{"line":450,"column":26}},"118":{"start":{"line":452,"column":4},"end":{"line":452,"column":47}},"119":{"start":{"line":452,"column":34},"end":{"line":452,"column":47}},"120":{"start":{"line":456,"column":4},"end":{"line":456,"column":55}},"121":{"start":{"line":456,"column":42},"end":{"line":456,"column":55}},"122":{"start":{"line":457,"column":4},"end":{"line":457,"column":59}},"123":{"start":{"line":457,"column":46},"end":{"line":457,"column":59}},"124":{"start":{"line":459,"column":4},"end":{"line":459,"column":21}},"125":{"start":{"line":460,"column":4},"end":{"line":460,"column":48}},"126":{"start":{"line":461,"column":4},"end":{"line":461,"column":32}},"127":{"start":{"line":462,"column":4},"end":{"line":462,"column":34}},"128":{"start":{"line":463,"column":4},"end":{"line":463,"column":34}},"129":{"start":{"line":464,"column":4},"end":{"line":488,"column":7}},"130":{"start":{"line":465,"column":8},"end":{"line":465,"column":44}},"131":{"start":{"line":466,"column":8},"end":{"line":468,"column":9}},"132":{"start":{"line":467,"column":12},"end":{"line":467,"column":35}},"133":{"start":{"line":469,"column":8},"end":{"line":471,"column":9}},"134":{"start":{"line":470,"column":12},"end":{"line":470,"column":55}},"135":{"start":{"line":472,"column":8},"end":{"line":474,"column":9}},"136":{"start":{"line":473,"column":12},"end":{"line":473,"column":35}},"137":{"start":{"line":475,"column":8},"end":{"line":485,"column":9}},"138":{"start":{"line":476,"column":12},"end":{"line":476,"column":31}},"139":{"start":{"line":477,"column":12},"end":{"line":484,"column":13}},"140":{"start":{"line":479,"column":16},"end":{"line":479,"column":40}},"141":{"start":{"line":480,"column":19},"end":{"line":484,"column":13}},"142":{"start":{"line":481,"column":16},"end":{"line":481,"column":55}},"143":{"start":{"line":483,"column":16},"end":{"line":483,"column":39}},"144":{"start":{"line":486,"column":8},"end":{"line":486,"column":45}},"145":{"start":{"line":487,"column":8},"end":{"line":487,"column":20}},"146":{"start":{"line":489,"column":4},"end":{"line":493,"column":5}},"147":{"start":{"line":490,"column":8},"end":{"line":492,"column":11}},"148":{"start":{"line":491,"column":12},"end":{"line":491,"column":21}},"149":{"start":{"line":494,"column":4},"end":{"line":494,"column":46}},"150":{"start":{"line":495,"column":4},"end":{"line":495,"column":16}},"151":{"start":{"line":498,"column":0},"end":{"line":515,"column":1}},"152":{"start":{"line":499,"column":4},"end":{"line":499,"column":26}},"153":{"start":{"line":500,"column":4},"end":{"line":513,"column":5}},"154":{"start":{"line":501,"column":8},"end":{"line":501,"column":43}},"155":{"start":{"line":502,"column":8},"end":{"line":502,"column":56}},"156":{"start":{"line":502,"column":31},"end":{"line":502,"column":56}},"157":{"start":{"line":503,"column":11},"end":{"line":513,"column":5}},"158":{"start":{"line":504,"column":8},"end":{"line":512,"column":9}},"159":{"start":{"line":505,"column":12},"end":{"line":505,"column":53}},"160":{"start":{"line":506,"column":12},"end":{"line":506,"column":60}},"161":{"start":{"line":506,"column":35},"end":{"line":506,"column":60}},"162":{"start":{"line":507,"column":15},"end":{"line":512,"column":9}},"163":{"start":{"line":508,"column":12},"end":{"line":508,"column":42}},"164":{"start":{"line":509,"column":12},"end":{"line":509,"column":60}},"165":{"start":{"line":509,"column":35},"end":{"line":509,"column":60}},"166":{"start":{"line":511,"column":12},"end":{"line":511,"column":39}},"167":{"start":{"line":514,"column":4},"end":{"line":514,"column":23}},"168":{"start":{"line":517,"column":0},"end":{"line":535,"column":2}},"169":{"start":{"line":537,"column":0},"end":{"line":553,"column":1}},"170":{"start":{"line":538,"column":4},"end":{"line":538,"column":56}},"171":{"start":{"line":539,"column":4},"end":{"line":551,"column":5}},"172":{"start":{"line":540,"column":8},"end":{"line":542,"column":9}},"173":{"start":{"line":541,"column":12},"end":{"line":541,"column":24}},"174":{"start":{"line":543,"column":8},"end":{"line":543,"column":20}},"175":{"start":{"line":545,"column":8},"end":{"line":550,"column":9}},"176":{"start":{"line":546,"column":12},"end":{"line":548,"column":13}},"177":{"start":{"line":547,"column":16},"end":{"line":547,"column":29}},"178":{"start":{"line":549,"column":12},"end":{"line":549,"column":24}},"179":{"start":{"line":552,"column":4},"end":{"line":552,"column":17}},"180":{"start":{"line":562,"column":0},"end":{"line":568,"column":1}},"181":{"start":{"line":563,"column":4},"end":{"line":563,"column":46}},"182":{"start":{"line":563,"column":34},"end":{"line":563,"column":46}},"183":{"start":{"line":564,"column":4},"end":{"line":564,"column":58}},"184":{"start":{"line":564,"column":46},"end":{"line":564,"column":58}},"185":{"start":{"line":565,"column":4},"end":{"line":565,"column":32}},"186":{"start":{"line":565,"column":20},"end":{"line":565,"column":32}},"187":{"start":{"line":566,"column":4},"end":{"line":566,"column":54}},"188":{"start":{"line":566,"column":42},"end":{"line":566,"column":54}},"189":{"start":{"line":567,"column":4},"end":{"line":567,"column":17}},"190":{"start":{"line":570,"column":0},"end":{"line":593,"column":1}},"191":{"start":{"line":571,"column":4},"end":{"line":578,"column":5}},"192":{"start":{"line":572,"column":8},"end":{"line":577,"column":11}},"193":{"start":{"line":579,"column":4},"end":{"line":579,"column":31}},"194":{"start":{"line":580,"column":4},"end":{"line":580,"column":13}},"195":{"start":{"line":581,"column":4},"end":{"line":585,"column":5}},"196":{"start":{"line":582,"column":8},"end":{"line":582,"column":26}},"197":{"start":{"line":584,"column":8},"end":{"line":584,"column":18}},"198":{"start":{"line":586,"column":4},"end":{"line":588,"column":5}},"199":{"start":{"line":587,"column":8},"end":{"line":587,"column":42}},"200":{"start":{"line":589,"column":4},"end":{"line":589,"column":33}},"201":{"start":{"line":590,"column":4},"end":{"line":592,"column":7}},"202":{"start":{"line":591,"column":8},"end":{"line":591,"column":50}},"203":{"start":{"line":595,"column":0},"end":{"line":607,"column":1}},"204":{"start":{"line":596,"column":4},"end":{"line":600,"column":7}},"205":{"start":{"line":602,"column":4},"end":{"line":606,"column":7}},"206":{"start":{"line":609,"column":0},"end":{"line":617,"column":2}},"207":{"start":{"line":610,"column":4},"end":{"line":610,"column":29}},"208":{"start":{"line":611,"column":4},"end":{"line":614,"column":5}},"209":{"start":{"line":612,"column":8},"end":{"line":612,"column":25}},"210":{"start":{"line":613,"column":8},"end":{"line":613,"column":33}},"211":{"start":{"line":615,"column":4},"end":{"line":615,"column":30}},"212":{"start":{"line":616,"column":4},"end":{"line":616,"column":35}},"213":{"start":{"line":619,"column":0},"end":{"line":629,"column":2}},"214":{"start":{"line":620,"column":4},"end":{"line":620,"column":66}},"215":{"start":{"line":621,"column":4},"end":{"line":621,"column":39}},"216":{"start":{"line":622,"column":4},"end":{"line":622,"column":56}},"217":{"start":{"line":623,"column":4},"end":{"line":627,"column":7}},"218":{"start":{"line":624,"column":8},"end":{"line":626,"column":11}},"219":{"start":{"line":625,"column":12},"end":{"line":625,"column":68}},"220":{"start":{"line":628,"column":4},"end":{"line":628,"column":18}},"221":{"start":{"line":631,"column":0},"end":{"line":636,"column":1}},"222":{"start":{"line":632,"column":4},"end":{"line":632,"column":17}},"223":{"start":{"line":633,"column":4},"end":{"line":635,"column":7}},"224":{"start":{"line":634,"column":8},"end":{"line":634,"column":43}},"225":{"start":{"line":638,"column":0},"end":{"line":648,"column":1}},"226":{"start":{"line":639,"column":4},"end":{"line":639,"column":76}},"227":{"start":{"line":639,"column":44},"end":{"line":639,"column":76}},"228":{"start":{"line":641,"column":4},"end":{"line":641,"column":34}},"229":{"start":{"line":642,"column":4},"end":{"line":642,"column":38}},"230":{"start":{"line":643,"column":4},"end":{"line":643,"column":26}},"231":{"start":{"line":644,"column":4},"end":{"line":644,"column":50}},"232":{"start":{"line":645,"column":4},"end":{"line":645,"column":71}},"233":{"start":{"line":647,"column":4},"end":{"line":647,"column":21}},"234":{"start":{"line":651,"column":0},"end":{"line":651,"column":31}},"235":{"start":{"line":653,"column":0},"end":{"line":653,"column":54}}},"branchMap":{"1":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":4},"end":{"line":202,"column":4}},{"start":{"line":202,"column":4},"end":{"line":202,"column":4}}]},"2":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":4},"end":{"line":211,"column":4}},{"start":{"line":211,"column":4},"end":{"line":211,"column":4}}]},"3":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":4},"end":{"line":214,"column":4}},{"start":{"line":214,"column":4},"end":{"line":214,"column":4}}]},"4":{"line":214,"type":"binary-expr","locations":[{"start":{"line":214,"column":8},"end":{"line":214,"column":16}},{"start":{"line":214,"column":20},"end":{"line":214,"column":34}}]},"5":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":4},"end":{"line":217,"column":4}},{"start":{"line":217,"column":4},"end":{"line":217,"column":4}}]},"6":{"line":217,"type":"binary-expr","locations":[{"start":{"line":217,"column":8},"end":{"line":217,"column":16}},{"start":{"line":217,"column":20},"end":{"line":217,"column":34}}]},"7":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":4},"end":{"line":220,"column":4}},{"start":{"line":220,"column":4},"end":{"line":220,"column":4}}]},"8":{"line":220,"type":"binary-expr","locations":[{"start":{"line":220,"column":8},"end":{"line":220,"column":15}},{"start":{"line":220,"column":19},"end":{"line":220,"column":34}}]},"9":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":4},"end":{"line":229,"column":4}},{"start":{"line":229,"column":4},"end":{"line":229,"column":4}}]},"10":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":4},"end":{"line":231,"column":4}},{"start":{"line":231,"column":4},"end":{"line":231,"column":4}}]},"11":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":4},"end":{"line":234,"column":4}},{"start":{"line":234,"column":4},"end":{"line":234,"column":4}}]},"12":{"line":234,"type":"binary-expr","locations":[{"start":{"line":234,"column":8},"end":{"line":234,"column":16}},{"start":{"line":234,"column":20},"end":{"line":234,"column":57}}]},"13":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":4},"end":{"line":243,"column":4}},{"start":{"line":243,"column":4},"end":{"line":243,"column":4}}]},"14":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":4},"end":{"line":245,"column":4}},{"start":{"line":245,"column":4},"end":{"line":245,"column":4}}]},"15":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":4},"end":{"line":254,"column":4}},{"start":{"line":254,"column":4},"end":{"line":254,"column":4}}]},"16":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":4},"end":{"line":256,"column":4}},{"start":{"line":256,"column":4},"end":{"line":256,"column":4}}]},"17":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":4},"end":{"line":265,"column":4}},{"start":{"line":265,"column":4},"end":{"line":265,"column":4}}]},"18":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":4}},{"start":{"line":267,"column":4},"end":{"line":267,"column":4}}]},"19":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":8},"end":{"line":268,"column":8}},{"start":{"line":268,"column":8},"end":{"line":268,"column":8}}]},"20":{"line":287,"type":"if","locations":[{"start":{"line":287,"column":4},"end":{"line":287,"column":4}},{"start":{"line":287,"column":4},"end":{"line":287,"column":4}}]},"21":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":8},"end":{"line":294,"column":8}},{"start":{"line":294,"column":8},"end":{"line":294,"column":8}}]},"22":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":8},"end":{"line":297,"column":8}},{"start":{"line":297,"column":8},"end":{"line":297,"column":8}}]},"23":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":15},"end":{"line":299,"column":15}},{"start":{"line":299,"column":15},"end":{"line":299,"column":15}}]},"24":{"line":299,"type":"binary-expr","locations":[{"start":{"line":299,"column":19},"end":{"line":299,"column":37}},{"start":{"line":299,"column":42},"end":{"line":299,"column":50}},{"start":{"line":299,"column":54},"end":{"line":299,"column":66}},{"start":{"line":299,"column":70},"end":{"line":299,"column":114}}]},"25":{"line":353,"type":"binary-expr","locations":[{"start":{"line":353,"column":15},"end":{"line":353,"column":23}},{"start":{"line":353,"column":27},"end":{"line":353,"column":31}}]},"26":{"line":357,"type":"if","locations":[{"start":{"line":357,"column":4},"end":{"line":357,"column":4}},{"start":{"line":357,"column":4},"end":{"line":357,"column":4}}]},"27":{"line":365,"type":"if","locations":[{"start":{"line":365,"column":4},"end":{"line":365,"column":4}},{"start":{"line":365,"column":4},"end":{"line":365,"column":4}}]},"28":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":8},"end":{"line":367,"column":8}},{"start":{"line":367,"column":8},"end":{"line":367,"column":8}}]},"29":{"line":390,"type":"if","locations":[{"start":{"line":390,"column":12},"end":{"line":390,"column":12}},{"start":{"line":390,"column":12},"end":{"line":390,"column":12}}]},"30":{"line":390,"type":"binary-expr","locations":[{"start":{"line":390,"column":16},"end":{"line":390,"column":20}},{"start":{"line":390,"column":24},"end":{"line":390,"column":34}}]},"31":{"line":397,"type":"if","locations":[{"start":{"line":397,"column":16},"end":{"line":397,"column":16}},{"start":{"line":397,"column":16},"end":{"line":397,"column":16}}]},"32":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":8},"end":{"line":404,"column":8}},{"start":{"line":404,"column":8},"end":{"line":404,"column":8}}]},"33":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":16},"end":{"line":406,"column":16}},{"start":{"line":406,"column":16},"end":{"line":406,"column":16}}]},"34":{"line":407,"type":"if","locations":[{"start":{"line":407,"column":16},"end":{"line":407,"column":16}},{"start":{"line":407,"column":16},"end":{"line":407,"column":16}}]},"35":{"line":408,"type":"cond-expr","locations":[{"start":{"line":408,"column":37},"end":{"line":408,"column":41}},{"start":{"line":408,"column":44},"end":{"line":408,"column":69}}]},"36":{"line":414,"type":"binary-expr","locations":[{"start":{"line":414,"column":24},"end":{"line":414,"column":33}},{"start":{"line":414,"column":37},"end":{"line":414,"column":41}}]},"37":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":12},"end":{"line":415,"column":12}},{"start":{"line":415,"column":12},"end":{"line":415,"column":12}}]},"38":{"line":417,"type":"if","locations":[{"start":{"line":417,"column":20},"end":{"line":417,"column":20}},{"start":{"line":417,"column":20},"end":{"line":417,"column":20}}]},"39":{"line":417,"type":"binary-expr","locations":[{"start":{"line":417,"column":24},"end":{"line":417,"column":29}},{"start":{"line":417,"column":33},"end":{"line":417,"column":43}}]},"40":{"line":418,"type":"if","locations":[{"start":{"line":418,"column":20},"end":{"line":418,"column":20}},{"start":{"line":418,"column":20},"end":{"line":418,"column":20}}]},"41":{"line":419,"type":"cond-expr","locations":[{"start":{"line":419,"column":41},"end":{"line":419,"column":45}},{"start":{"line":419,"column":48},"end":{"line":419,"column":73}}]},"42":{"line":419,"type":"binary-expr","locations":[{"start":{"line":419,"column":75},"end":{"line":419,"column":80}},{"start":{"line":419,"column":84},"end":{"line":419,"column":94}}]},"43":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":4},"end":{"line":429,"column":4}},{"start":{"line":429,"column":4},"end":{"line":429,"column":4}}]},"44":{"line":450,"type":"binary-expr","locations":[{"start":{"line":450,"column":15},"end":{"line":450,"column":19}},{"start":{"line":450,"column":23},"end":{"line":450,"column":25}}]},"45":{"line":452,"type":"if","locations":[{"start":{"line":452,"column":4},"end":{"line":452,"column":4}},{"start":{"line":452,"column":4},"end":{"line":452,"column":4}}]},"46":{"line":456,"type":"if","locations":[{"start":{"line":456,"column":4},"end":{"line":456,"column":4}},{"start":{"line":456,"column":4},"end":{"line":456,"column":4}}]},"47":{"line":457,"type":"if","locations":[{"start":{"line":457,"column":4},"end":{"line":457,"column":4}},{"start":{"line":457,"column":4},"end":{"line":457,"column":4}}]},"48":{"line":466,"type":"if","locations":[{"start":{"line":466,"column":8},"end":{"line":466,"column":8}},{"start":{"line":466,"column":8},"end":{"line":466,"column":8}}]},"49":{"line":469,"type":"if","locations":[{"start":{"line":469,"column":8},"end":{"line":469,"column":8}},{"start":{"line":469,"column":8},"end":{"line":469,"column":8}}]},"50":{"line":469,"type":"binary-expr","locations":[{"start":{"line":469,"column":12},"end":{"line":469,"column":20}},{"start":{"line":469,"column":24},"end":{"line":469,"column":56}}]},"51":{"line":472,"type":"if","locations":[{"start":{"line":472,"column":8},"end":{"line":472,"column":8}},{"start":{"line":472,"column":8},"end":{"line":472,"column":8}}]},"52":{"line":475,"type":"if","locations":[{"start":{"line":475,"column":8},"end":{"line":475,"column":8}},{"start":{"line":475,"column":8},"end":{"line":475,"column":8}}]},"53":{"line":477,"type":"if","locations":[{"start":{"line":477,"column":12},"end":{"line":477,"column":12}},{"start":{"line":477,"column":12},"end":{"line":477,"column":12}}]},"54":{"line":480,"type":"if","locations":[{"start":{"line":480,"column":19},"end":{"line":480,"column":19}},{"start":{"line":480,"column":19},"end":{"line":480,"column":19}}]},"55":{"line":489,"type":"if","locations":[{"start":{"line":489,"column":4},"end":{"line":489,"column":4}},{"start":{"line":489,"column":4},"end":{"line":489,"column":4}}]},"56":{"line":500,"type":"if","locations":[{"start":{"line":500,"column":4},"end":{"line":500,"column":4}},{"start":{"line":500,"column":4},"end":{"line":500,"column":4}}]},"57":{"line":502,"type":"if","locations":[{"start":{"line":502,"column":8},"end":{"line":502,"column":8}},{"start":{"line":502,"column":8},"end":{"line":502,"column":8}}]},"58":{"line":503,"type":"if","locations":[{"start":{"line":503,"column":11},"end":{"line":503,"column":11}},{"start":{"line":503,"column":11},"end":{"line":503,"column":11}}]},"59":{"line":504,"type":"if","locations":[{"start":{"line":504,"column":8},"end":{"line":504,"column":8}},{"start":{"line":504,"column":8},"end":{"line":504,"column":8}}]},"60":{"line":506,"type":"if","locations":[{"start":{"line":506,"column":12},"end":{"line":506,"column":12}},{"start":{"line":506,"column":12},"end":{"line":506,"column":12}}]},"61":{"line":507,"type":"if","locations":[{"start":{"line":507,"column":15},"end":{"line":507,"column":15}},{"start":{"line":507,"column":15},"end":{"line":507,"column":15}}]},"62":{"line":509,"type":"if","locations":[{"start":{"line":509,"column":12},"end":{"line":509,"column":12}},{"start":{"line":509,"column":12},"end":{"line":509,"column":12}}]},"63":{"line":538,"type":"binary-expr","locations":[{"start":{"line":538,"column":17},"end":{"line":538,"column":36}},{"start":{"line":538,"column":40},"end":{"line":538,"column":55}}]},"64":{"line":539,"type":"if","locations":[{"start":{"line":539,"column":4},"end":{"line":539,"column":4}},{"start":{"line":539,"column":4},"end":{"line":539,"column":4}}]},"65":{"line":540,"type":"if","locations":[{"start":{"line":540,"column":8},"end":{"line":540,"column":8}},{"start":{"line":540,"column":8},"end":{"line":540,"column":8}}]},"66":{"line":545,"type":"if","locations":[{"start":{"line":545,"column":8},"end":{"line":545,"column":8}},{"start":{"line":545,"column":8},"end":{"line":545,"column":8}}]},"67":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":12},"end":{"line":546,"column":12}},{"start":{"line":546,"column":12},"end":{"line":546,"column":12}}]},"68":{"line":563,"type":"if","locations":[{"start":{"line":563,"column":4},"end":{"line":563,"column":4}},{"start":{"line":563,"column":4},"end":{"line":563,"column":4}}]},"69":{"line":564,"type":"if","locations":[{"start":{"line":564,"column":4},"end":{"line":564,"column":4}},{"start":{"line":564,"column":4},"end":{"line":564,"column":4}}]},"70":{"line":564,"type":"binary-expr","locations":[{"start":{"line":564,"column":8},"end":{"line":564,"column":26}},{"start":{"line":564,"column":30},"end":{"line":564,"column":44}}]},"71":{"line":565,"type":"if","locations":[{"start":{"line":565,"column":4},"end":{"line":565,"column":4}},{"start":{"line":565,"column":4},"end":{"line":565,"column":4}}]},"72":{"line":566,"type":"if","locations":[{"start":{"line":566,"column":4},"end":{"line":566,"column":4}},{"start":{"line":566,"column":4},"end":{"line":566,"column":4}}]},"73":{"line":566,"type":"binary-expr","locations":[{"start":{"line":566,"column":8},"end":{"line":566,"column":28}},{"start":{"line":566,"column":32},"end":{"line":566,"column":40}}]},"74":{"line":571,"type":"if","locations":[{"start":{"line":571,"column":4},"end":{"line":571,"column":4}},{"start":{"line":571,"column":4},"end":{"line":571,"column":4}}]},"75":{"line":581,"type":"if","locations":[{"start":{"line":581,"column":4},"end":{"line":581,"column":4}},{"start":{"line":581,"column":4},"end":{"line":581,"column":4}}]},"76":{"line":586,"type":"if","locations":[{"start":{"line":586,"column":4},"end":{"line":586,"column":4}},{"start":{"line":586,"column":4},"end":{"line":586,"column":4}}]},"77":{"line":586,"type":"binary-expr","locations":[{"start":{"line":586,"column":8},"end":{"line":586,"column":31}},{"start":{"line":586,"column":35},"end":{"line":586,"column":78}}]},"78":{"line":610,"type":"binary-expr","locations":[{"start":{"line":610,"column":11},"end":{"line":610,"column":15}},{"start":{"line":610,"column":19},"end":{"line":610,"column":28}}]},"79":{"line":611,"type":"if","locations":[{"start":{"line":611,"column":4},"end":{"line":611,"column":4}},{"start":{"line":611,"column":4},"end":{"line":611,"column":4}}]},"80":{"line":622,"type":"binary-expr","locations":[{"start":{"line":622,"column":8},"end":{"line":622,"column":12}},{"start":{"line":622,"column":16},"end":{"line":622,"column":28}},{"start":{"line":622,"column":32},"end":{"line":622,"column":55}}]},"81":{"line":625,"type":"binary-expr","locations":[{"start":{"line":625,"column":19},"end":{"line":625,"column":20}},{"start":{"line":625,"column":24},"end":{"line":625,"column":31}},{"start":{"line":625,"column":35},"end":{"line":625,"column":48}},{"start":{"line":625,"column":52},"end":{"line":625,"column":67}}]},"82":{"line":639,"type":"if","locations":[{"start":{"line":639,"column":4},"end":{"line":639,"column":4}},{"start":{"line":639,"column":4},"end":{"line":639,"column":4}}]},"83":{"line":644,"type":"binary-expr","locations":[{"start":{"line":644,"column":17},"end":{"line":644,"column":27}},{"start":{"line":644,"column":31},"end":{"line":644,"column":49}}]},"84":{"line":645,"type":"binary-expr","locations":[{"start":{"line":645,"column":19},"end":{"line":645,"column":22}},{"start":{"line":645,"column":26},"end":{"line":645,"column":41}},{"start":{"line":645,"column":45},"end":{"line":645,"column":70}}]}},"code":["/**"," * Module exports"," */","exports.ValidationError = ValidationError;","","/**"," * Validation mixins for model.js"," *"," * Basically validation configurators is just class methods, which adds validations"," * configs to AbstractClass._validations. Each of this validations run when"," * `obj.isValid()` method called."," *"," * Each configurator can accept n params (n-1 field names and one config). Config"," * is {Object} depends on specific validation, but all of them has one common part:"," * `message` member. It can be just string, when only one situation possible,"," * e.g. `Post.validatesPresenceOf('title', { message: 'can not be blank' });`"," *"," * In more complicated cases it can be {Hash} of messages (for each case):"," * `User.validatesLengthOf('password', { min: 6, max: 20, message: {min: 'too short', max: 'too long'}});`"," */","var Validatable = require('./model.js');","","/**"," * Validate presence. This validation fails when validated field is blank."," *"," * Default error message \"can't be blank\""," *"," * @example presence of title"," * ```"," * Post.validatesPresenceOf('title');"," * ```"," * @example with custom message"," * ```"," * Post.validatesPresenceOf('title', {message: 'Can not be blank'});"," * ```"," *"," * @sync"," *"," * @nocode"," * @see helper/validatePresence"," */","Validatable.validatesPresenceOf = getConfigurator('presence');","","/**"," * Validate length. Three kinds of validations: min, max, is."," *"," * Default error messages:"," *"," * - min: too short"," * - max: too long"," * - is:  length is wrong"," *"," * @example length validations"," * ```"," * User.validatesLengthOf('password', {min: 7});"," * User.validatesLengthOf('email', {max: 100});"," * User.validatesLengthOf('state', {is: 2});"," * User.validatesLengthOf('nick', {min: 3, max: 15});"," * ```"," * @example length validations with custom error messages"," * ```"," * User.validatesLengthOf('password', {min: 7, message: {min: 'too weak'}});"," * User.validatesLengthOf('state', {is: 2, message: {is: 'is not valid state name'}});"," * ```"," *"," * @sync"," * @nocode"," * @see helper/validateLength"," */","Validatable.validatesLengthOf = getConfigurator('length');","","/**"," * Validate numericality."," *"," * @example"," * ```"," * User.validatesNumericalityOf('age', { message: { number: '...' }});"," * User.validatesNumericalityOf('age', {int: true, message: { int: '...' }});"," * ```"," *"," * Default error messages:"," *"," * - number: is not a number"," * - int: is not an integer"," *"," * @sync"," * @nocode"," * @see helper/validateNumericality"," */","Validatable.validatesNumericalityOf = getConfigurator('numericality');","","/**"," * Validate inclusion in set"," *"," * @example"," * ```"," * User.validatesInclusionOf('gender', {in: ['male', 'female']});"," * User.validatesInclusionOf('role', {"," *     in: ['admin', 'moderator', 'user'], message: 'is not allowed'"," * });"," * ```"," *"," * Default error message: is not included in the list"," *"," * @sync"," * @nocode"," * @see helper/validateInclusion"," */","Validatable.validatesInclusionOf = getConfigurator('inclusion');","","/**"," * Validate exclusion"," *"," * @example `Company.validatesExclusionOf('domain', {in: ['www', 'admin']});`"," *"," * Default error message: is reserved"," *"," * @nocode"," * @see helper/validateExclusion"," */","Validatable.validatesExclusionOf = getConfigurator('exclusion');","","/**"," * Validate format"," *"," * Default error message: is invalid"," *"," * @nocode"," * @see helper/validateFormat"," */","Validatable.validatesFormatOf = getConfigurator('format');","","/**"," * Validate using custom validator"," *"," * Default error message: is invalid"," *"," * Example:"," *"," *     User.validate('name', customValidator, {message: 'Bad name'});"," *     function customValidator(err) {"," *         if (this.name === 'bad') err();"," *     });"," *     var user = new User({name: 'Peter'});"," *     user.isValid(); // true"," *     user.name = 'bad';"," *     user.isValid(); // false"," *"," * @nocode"," * @see helper/validateCustom"," */","Validatable.validate = getConfigurator('custom');","","/**"," * Validate using custom async validator"," *"," * Default error message: is invalid"," *"," * Example:"," *"," *     User.validateAsync('name', customValidator, {message: 'Bad name'});"," *     function customValidator(err, done) {"," *         process.nextTick(function () {"," *             if (this.name === 'bad') err();"," *             done();"," *         });"," *     });"," *     var user = new User({name: 'Peter'});"," *     user.isValid(); // false (because async validation setup)"," *     user.isValid(function (isValid) {"," *         isValid; // true"," *     })"," *     user.name = 'bad';"," *     user.isValid(); // false"," *     user.isValid(function (isValid) {"," *         isValid; // false"," *     })"," *"," * @async"," * @nocode"," * @see helper/validateCustom"," */","Validatable.validateAsync = getConfigurator('custom', {async: true});","","/**"," * Validate uniqueness"," *"," * Default error message: is not unique"," *"," * @async"," * @nocode"," * @see helper/validateUniqueness"," */","Validatable.validatesUniquenessOf = getConfigurator('uniqueness', {async: true});","","// implementation of validators","","/**"," * Presence validator"," */","function validatePresence(attr, conf, err) {","    if (blank(this[attr])) {","        err();","    }","}","","/**"," * Length validator"," */","function validateLength(attr, conf, err) {","    if (nullCheck.call(this, attr, conf, err)) return;","","    var len = this[attr].length;","    if (conf.min && len < conf.min) {","        err('min');","    }","    if (conf.max && len > conf.max) {","        err('max');","    }","    if (conf.is && len !== conf.is) {","        err('is');","    }","}","","/**"," * Numericality validator"," */","function validateNumericality(attr, conf, err) {","    if (nullCheck.call(this, attr, conf, err)) return;","","    if (typeof this[attr] !== 'number') {","        return err('number');","    }","    if (conf.int && this[attr] !== Math.round(this[attr])) {","        return err('int');","    }","}","","/**"," * Inclusion validator"," */","function validateInclusion(attr, conf, err) {","    if (nullCheck.call(this, attr, conf, err)) return;","","    if (!~conf.in.indexOf(this[attr])) {","        err();","    }","}","","/**"," * Exclusion validator"," */","function validateExclusion(attr, conf, err) {","    if (nullCheck.call(this, attr, conf, err)) return;","","    if (~conf.in.indexOf(this[attr])) {","        err();","    }","}","","/**"," * Format validator"," */","function validateFormat(attr, conf, err) {","    if (nullCheck.call(this, attr, conf, err)) return;","","    if (typeof this[attr] === 'string') {","        if (!this[attr].match(conf['with'])) {","            err();","        }","    } else {","        err();","    }","}","","/**"," * Custom validator"," */","function validateCustom(attr, conf, err, done) {","    conf.customValidator.call(this, err, done);","}","","/**"," * Uniqueness validator"," */","function validateUniqueness(attr, conf, err, done) {","    if (nullCheck.call(this, attr, conf, err)) {","        return done();","    }","","    var cond = {where: {}};","    cond.where[attr] = this[attr];","    this.constructor.all(cond, function (error, found) {","        if (error) {","            return err();","        }","        if (found.length > 1) {","            err();","        } else if (found.length === 1 && (!this.id || !found[0].id || found[0].id.toString() != this.id.toString())) {","            err();","        }","        done();","    }.bind(this));","}","","var validators = {","    presence:     validatePresence,","    length:       validateLength,","    numericality: validateNumericality,","    inclusion:    validateInclusion,","    exclusion:    validateExclusion,","    format:       validateFormat,","    custom:       validateCustom,","    uniqueness:   validateUniqueness","};","","function getConfigurator(name, opts) {","    return function () {","        configure(this, name, arguments, opts);","    };","}","","/**"," * This method performs validation, triggers validation hooks."," * Before validation `obj.errors` collection cleaned."," * Each validation can add errors to `obj.errors` collection."," * If collection is not blank, validation failed."," *"," * @warning This method can be called as sync only when no async validation"," * configured. It's strongly recommended to run all validations as asyncronous."," *"," * @param {Function} callback called with (valid)"," * @return {Boolean} true if no async validation configured and all passed"," *"," * @example ExpressJS controller: render user if valid, show flash otherwise"," * ```"," * user.isValid(function (valid) {"," *     if (valid) res.render({user: user});"," *     else res.flash('error', 'User is not valid'), console.log(user.errors), res.redirect('/users');"," * });"," *"," * // when the callback needs two arguments,"," * // the first argument is the validation errors,"," * // or error from `beforeValidate/afterValidate` hook"," * user.isValid(function (error, isValid) {"," *     error; // error from `beforeValidate`, mostly `null`"," * })"," * ```"," */","Validatable.prototype.isValid = function (callback, data) {","    var valid = true, inst = this, wait = 0, async = false;","","    callback = callback || NOOP;","","    // callback only needs one arguments, then the signature is `callback(valid)`","    // convert it to standard node.js callback style","    if (callback.length < 2) {","        var _callback = callback;","        callback = function (err, valid) {","            _callback(valid);","        };","    }","","    // exit with success when no errors","    if (!this.constructor._validations) {","        cleanErrors(this);","        if (callback) {","            this.trigger('validate', function(validationsDone) {","                validationsDone.call(inst, function() {","                    callback(null, valid);","                });","            }, data, function (err) {","                callback(err, false);","            });","        }","        return valid;","    }","","    Object.defineProperty(this, 'errors', {","        enumerable: false,","        configurable: true,","        value: new Errors(this)","    });","","    this.trigger('validate', function (validationsDone) {","        var inst = this,","            asyncFail = false;","","        this.constructor._validations.forEach(function (v) {","            if (v[2] && v[2].async) {","                async = true;","                wait += 1;","                process.nextTick(function () {","                    validationFailed(inst, v, done);","                });","            } else {","                if (validationFailed(inst, v)) {","                    valid = false;","                }","            }","","        });","","        if (!async) {","            validationsDone.call(inst, function() {","                if (valid) cleanErrors(inst);","                if (callback) {","                    callback(valid ? null : new ValidationError(this), valid);","                }","            });","        }","","        function done(fail) {","            asyncFail = asyncFail || fail;","            if (--wait === 0) {","                validationsDone.call(inst, function () {","                    if (valid && !asyncFail) cleanErrors(inst);","                    if (callback) {","                        callback(valid ? null : new ValidationError(this), valid && !asyncFail);","                    }","                });","            }","        }","","    }, data, function (err) {","        callback(err, false);","    });","","    if (async) {","        // in case of async validation we should return undefined here,","        // because not all validations are finished yet","        return;","    } else {","        return valid;","    }","","};","","function cleanErrors(inst) {","    Object.defineProperty(inst, 'errors', {","        enumerable: false,","        configurable: true,","        value: null","    });","}","","function validationFailed(inst, v, cb) {","    var attr = v[0];","    var conf = v[1];","    var opts = v[2] || {};","","    if (typeof attr !== 'string') return false;","","    // here we should check skip validation conditions (if, unless)","    // that can be specified in conf","    if (skipValidation(inst, conf, 'if')) return false;","    if (skipValidation(inst, conf, 'unless')) return false;","","    var fail = false;","    var validator = validators[conf.validation];","    var validatorArguments = [];","    validatorArguments.push(attr);","    validatorArguments.push(conf);","    validatorArguments.push(function onerror(kind) {","        var message, code = conf.validation;","        if (conf.message) {","            message = conf.message;","        }","        if (!message && defaultMessages[conf.validation]) {","            message = defaultMessages[conf.validation];","        }","        if (!message) {","            message = 'is invalid';","        }","        if (kind) {","            code += '.' + kind;","            if (message[kind]) {","                // get deeper","                message = message[kind];","            } else if (defaultMessages.common[kind]) {","                message = defaultMessages.common[kind];","            } else {","                message = 'is invalid';","            }","        }","        inst.errors.add(attr, message, code);","        fail = true;","    });","    if (cb) {","        validatorArguments.push(function () {","            cb(fail);","        });","    }","    validator.apply(inst, validatorArguments);","    return fail;","}","","function skipValidation(inst, conf, kind) {","    var doValidate = true;","    if (typeof conf[kind] === 'function') {","        doValidate = conf[kind].call(inst);","        if (kind === 'unless') doValidate = !doValidate;","    } else if (typeof conf[kind] === 'string') {","        if (typeof inst[conf[kind]] === 'function') {","            doValidate = inst[conf[kind]].call(inst);","            if (kind === 'unless') doValidate = !doValidate;","        } else if (inst.__data.hasOwnProperty(conf[kind])) {","            doValidate = inst[conf[kind]];","            if (kind === 'unless') doValidate = !doValidate;","        } else {","            doValidate = kind === 'if';","        }","    }","    return !doValidate;","}","","var defaultMessages = {","    presence: 'can\\'t be blank',","    length: {","        min: 'too short',","        max: 'too long',","        is: 'length is wrong'","    },","    common: {","        blank: 'is blank',","        'null': 'is null'","    },","    numericality: {","        'int': 'is not an integer',","        'number': 'is not a number'","    },","    inclusion: 'is not included in the list',","    exclusion: 'is reserved',","    uniqueness: 'is not unique'","};","","function nullCheck(attr, conf, err) {","    var isNull = this[attr] === null || !(attr in this);","    if (isNull) {","        if (!conf.allowNull) {","            err('null');","        }","        return true;","    } else {","        if (blank(this[attr])) {","            if (!conf.allowBlank) {","                err('blank');","            }","            return true;","        }","    }","    return false;","}","","/**"," * Return true when v is undefined, blank array, null or empty string"," * otherwise returns false"," *"," * @param {Mix} v"," * @returns {Boolean} whether `v` blank or not"," */","function blank(v) {","    if (typeof v === 'undefined') return true;","    if (v instanceof Array && v.length === 0) return true;","    if (v === null) return true;","    if (typeof v == 'string' && v === '') return true;","    return false;","}","","function configure(cls, validation, args, opts) {","    if (!cls._validations) {","        Object.defineProperty(cls, '_validations', {","            writable: true,","            configurable: true,","            enumerable: false,","            value: []","        });","    }","    args = [].slice.call(args);","    var conf;","    if (typeof args[args.length - 1] === 'object') {","        conf = args.pop();","    } else {","        conf = {};","    }","    if (validation === 'custom' && typeof args[args.length - 1] === 'function') {","        conf.customValidator = args.pop();","    }","    conf.validation = validation;","    args.forEach(function (attr) {","        cls._validations.push([attr, conf, opts]);","    });","}","","function Errors(obj) {","    Object.defineProperty(this, '__codes', {","        enumerable: false,","        configurable: true,","        value: {}","    });","","    Object.defineProperty(this, '__obj', {","        enumerable: false,","        configurable: true,","        value: obj","    });","}","","Errors.prototype.add = function (field, message, code) {","    code = code || 'invalid';","    if (!this[field]) {","        this[field] = [];","        this.__codes[field] = [];","    }","    this[field].push(message);","    this.__codes[field].push(code);","};","","Errors.prototype.__localize = function localize(locale) {","    var errors = this, result = {}, i18n, v, codes = this.__codes;","    i18n = this.__obj.constructor.i18n;","    v = i18n && i18n[locale] && i18n[locale].validation;","    Object.keys(codes).forEach(function(prop) {","        result[prop] = codes[prop].map(function(code, i) {","            return v && v[prop] && v[prop][code] || errors[prop][i];","        });","    });","    return result;","};","","function ErrorCodes(messages) {","    var c = this;","    Object.keys(messages).forEach(function(field) {","        c[field] = messages[field].__codes;","    });","}","","function ValidationError(obj) {","    if (!(this instanceof ValidationError)) return new ValidationError(obj);","","    this.name = 'ValidationError';","    this.message = 'Validation error';","    this.statusCode = 400;","    this.codes = obj.errors && obj.errors.__codes;","    this.context = obj && obj.constructor && obj.constructor.modelName;","","    Error.call(this);","}","","","function NOOP(error, result) {}","","ValidationError.prototype.__proto__ = Error.prototype;",""],"l":{"4":1,"21":1,"42":1,"70":1,"90":1,"109":1,"121":1,"131":1,"152":1,"183":1,"194":1,"201":1,"202":0,"203":0,"210":1,"211":0,"213":0,"214":0,"215":0,"217":0,"218":0,"220":0,"221":0,"228":1,"229":0,"231":0,"232":0,"234":0,"235":0,"242":1,"243":0,"245":0,"246":0,"253":1,"254":0,"256":0,"257":0,"264":1,"265":0,"267":0,"268":0,"269":0,"272":0,"279":1,"280":0,"286":1,"287":0,"288":0,"291":0,"292":0,"293":0,"294":0,"295":0,"297":0,"298":0,"299":0,"300":0,"302":0,"306":1,"317":1,"318":9,"319":0,"350":1,"351":0,"353":0,"357":0,"358":0,"359":0,"360":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"373":0,"376":0,"379":0,"385":0,"386":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"397":0,"398":0,"404":0,"405":0,"406":0,"407":0,"408":0,"413":1,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"426":0,"429":0,"432":0,"434":0,"439":1,"440":0,"447":1,"448":0,"449":0,"450":0,"452":0,"456":0,"457":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"469":0,"470":0,"472":0,"473":0,"475":0,"476":0,"477":0,"479":0,"480":0,"481":0,"483":0,"486":0,"487":0,"489":0,"490":0,"491":0,"494":0,"495":0,"498":1,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":0,"506":0,"507":0,"508":0,"509":0,"511":0,"514":0,"517":1,"537":1,"538":0,"539":0,"540":0,"541":0,"543":0,"545":0,"546":0,"547":0,"549":0,"552":0,"562":1,"563":0,"564":0,"565":0,"566":0,"567":0,"570":1,"571":0,"572":0,"579":0,"580":0,"581":0,"582":0,"584":0,"586":0,"587":0,"589":0,"590":0,"591":0,"595":1,"596":0,"602":0,"609":1,"610":0,"611":0,"612":0,"613":0,"615":0,"616":0,"619":1,"620":0,"621":0,"622":0,"623":0,"624":0,"625":0,"628":0,"631":1,"632":0,"633":0,"634":0,"638":1,"639":0,"641":0,"642":0,"643":0,"644":0,"645":0,"647":0,"651":1,"653":1}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/list.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/list.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":19,"44":19,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":1,"57":0,"58":1,"59":0,"60":1,"61":0,"62":1,"63":0,"64":1,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,1],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":19,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"List","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}}},"2":{"name":"(anonymous_2)","line":55,"loc":{"start":{"line":55,"column":17},"end":{"line":55,"column":35}}},"3":{"name":"(anonymous_3)","line":71,"loc":{"start":{"line":71,"column":13},"end":{"line":71,"column":24}}},"4":{"name":"(anonymous_4)","line":80,"loc":{"start":{"line":80,"column":25},"end":{"line":80,"column":36}}},"5":{"name":"(anonymous_5)","line":133,"loc":{"start":{"line":133,"column":20},"end":{"line":133,"column":35}}},"6":{"name":"(anonymous_6)","line":134,"loc":{"start":{"line":134,"column":31},"end":{"line":134,"column":42}}},"7":{"name":"(anonymous_7)","line":162,"loc":{"start":{"line":162,"column":10},"end":{"line":162,"column":28}}},"8":{"name":"(anonymous_8)","line":164,"loc":{"start":{"line":164,"column":29},"end":{"line":164,"column":41}}},"9":{"name":"(anonymous_9)","line":169,"loc":{"start":{"line":169,"column":22},"end":{"line":169,"column":47}}},"10":{"name":"(anonymous_10)","line":174,"loc":{"start":{"line":174,"column":23},"end":{"line":174,"column":35}}},"11":{"name":"(anonymous_11)","line":180,"loc":{"start":{"line":180,"column":26},"end":{"line":180,"column":42}}},"12":{"name":"(anonymous_12)","line":184,"loc":{"start":{"line":184,"column":26},"end":{"line":184,"column":37}}},"13":{"name":"(anonymous_13)","line":188,"loc":{"start":{"line":188,"column":24},"end":{"line":188,"column":35}}},"14":{"name":"(anonymous_14)","line":192,"loc":{"start":{"line":192,"column":26},"end":{"line":192,"column":37}}},"15":{"name":"(anonymous_15)","line":196,"loc":{"start":{"line":196,"column":31},"end":{"line":196,"column":42}}},"16":{"name":"(anonymous_16)","line":200,"loc":{"start":{"line":200,"column":22},"end":{"line":200,"column":36}}},"17":{"name":"(anonymous_17)","line":206,"loc":{"start":{"line":206,"column":24},"end":{"line":206,"column":38}}},"18":{"name":"(anonymous_18)","line":209,"loc":{"start":{"line":209,"column":23},"end":{"line":209,"column":38}}},"19":{"name":"(anonymous_19)","line":223,"loc":{"start":{"line":223,"column":21},"end":{"line":223,"column":34}}},"20":{"name":"(anonymous_20)","line":228,"loc":{"start":{"line":228,"column":30},"end":{"line":228,"column":43}}},"21":{"name":"ListItem","line":239,"loc":{"start":{"line":239,"column":0},"end":{"line":239,"column":32}}},"22":{"name":"save","line":263,"loc":{"start":{"line":263,"column":26},"end":{"line":263,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}},"3":{"start":{"line":13,"column":0},"end":{"line":78,"column":1}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":20}},"5":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":30}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":56}},"8":{"start":{"line":19,"column":38},"end":{"line":19,"column":56}},"9":{"start":{"line":21,"column":4},"end":{"line":26,"column":7}},"10":{"start":{"line":28,"column":4},"end":{"line":32,"column":7}},"11":{"start":{"line":34,"column":4},"end":{"line":34,"column":24}},"12":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"13":{"start":{"line":36,"column":8},"end":{"line":36,"column":35}},"14":{"start":{"line":39,"column":4},"end":{"line":39,"column":35}},"15":{"start":{"line":40,"column":4},"end":{"line":45,"column":7}},"16":{"start":{"line":47,"column":4},"end":{"line":53,"column":5}},"17":{"start":{"line":48,"column":8},"end":{"line":52,"column":9}},"18":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"19":{"start":{"line":51,"column":12},"end":{"line":51,"column":35}},"20":{"start":{"line":55,"column":4},"end":{"line":66,"column":7}},"21":{"start":{"line":56,"column":8},"end":{"line":56,"column":39}},"22":{"start":{"line":57,"column":8},"end":{"line":62,"column":11}},"23":{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},"24":{"start":{"line":64,"column":12},"end":{"line":64,"column":41}},"25":{"start":{"line":68,"column":4},"end":{"line":74,"column":7}},"26":{"start":{"line":72,"column":12},"end":{"line":72,"column":37}},"27":{"start":{"line":76,"column":4},"end":{"line":76,"column":16}},"28":{"start":{"line":80,"column":0},"end":{"line":82,"column":2}},"29":{"start":{"line":81,"column":4},"end":{"line":81,"column":36}},"30":{"start":{"line":84,"column":0},"end":{"line":84,"column":6}},"31":{"start":{"line":85,"column":0},"end":{"line":90,"column":1}},"32":{"start":{"line":86,"column":4},"end":{"line":86,"column":34}},"33":{"start":{"line":87,"column":4},"end":{"line":87,"column":28}},"34":{"start":{"line":89,"column":4},"end":{"line":89,"column":14}},"35":{"start":{"line":92,"column":0},"end":{"line":140,"column":1}},"36":{"start":{"line":93,"column":4},"end":{"line":131,"column":6}},"37":{"start":{"line":133,"column":4},"end":{"line":139,"column":7}},"38":{"start":{"line":134,"column":8},"end":{"line":138,"column":10}},"39":{"start":{"line":135,"column":12},"end":{"line":135,"column":48}},"40":{"start":{"line":136,"column":12},"end":{"line":136,"column":37}},"41":{"start":{"line":137,"column":12},"end":{"line":137,"column":42}},"42":{"start":{"line":143,"column":0},"end":{"line":167,"column":3}},"43":{"start":{"line":163,"column":4},"end":{"line":163,"column":25}},"44":{"start":{"line":164,"column":4},"end":{"line":166,"column":6}},"45":{"start":{"line":165,"column":8},"end":{"line":165,"column":80}},"46":{"start":{"line":169,"column":0},"end":{"line":178,"column":2}},"47":{"start":{"line":170,"column":4},"end":{"line":172,"column":5}},"48":{"start":{"line":171,"column":8},"end":{"line":171,"column":21}},"49":{"start":{"line":173,"column":4},"end":{"line":173,"column":12}},"50":{"start":{"line":174,"column":4},"end":{"line":176,"column":7}},"51":{"start":{"line":175,"column":8},"end":{"line":175,"column":41}},"52":{"start":{"line":175,"column":33},"end":{"line":175,"column":41}},"53":{"start":{"line":177,"column":4},"end":{"line":177,"column":15}},"54":{"start":{"line":180,"column":0},"end":{"line":182,"column":2}},"55":{"start":{"line":181,"column":4},"end":{"line":181,"column":26}},"56":{"start":{"line":184,"column":0},"end":{"line":186,"column":2}},"57":{"start":{"line":185,"column":4},"end":{"line":185,"column":22}},"58":{"start":{"line":188,"column":0},"end":{"line":190,"column":2}},"59":{"start":{"line":189,"column":4},"end":{"line":189,"column":22}},"60":{"start":{"line":192,"column":0},"end":{"line":194,"column":2}},"61":{"start":{"line":193,"column":4},"end":{"line":193,"column":38}},"62":{"start":{"line":196,"column":0},"end":{"line":198,"column":2}},"63":{"start":{"line":197,"column":4},"end":{"line":197,"column":25}},"64":{"start":{"line":200,"column":0},"end":{"line":204,"column":2}},"65":{"start":{"line":201,"column":4},"end":{"line":201,"column":39}},"66":{"start":{"line":202,"column":4},"end":{"line":202,"column":26}},"67":{"start":{"line":203,"column":4},"end":{"line":203,"column":16}},"68":{"start":{"line":206,"column":0},"end":{"line":221,"column":2}},"69":{"start":{"line":207,"column":4},"end":{"line":207,"column":35}},"70":{"start":{"line":208,"column":4},"end":{"line":208,"column":22}},"71":{"start":{"line":209,"column":4},"end":{"line":216,"column":7}},"72":{"start":{"line":210,"column":8},"end":{"line":215,"column":9}},"73":{"start":{"line":211,"column":12},"end":{"line":211,"column":22}},"74":{"start":{"line":212,"column":12},"end":{"line":214,"column":13}},"75":{"start":{"line":213,"column":16},"end":{"line":213,"column":63}},"76":{"start":{"line":217,"column":4},"end":{"line":220,"column":5}},"77":{"start":{"line":218,"column":8},"end":{"line":218,"column":24}},"78":{"start":{"line":219,"column":8},"end":{"line":219,"column":36}},"79":{"start":{"line":223,"column":0},"end":{"line":237,"column":2}},"80":{"start":{"line":224,"column":4},"end":{"line":226,"column":5}},"81":{"start":{"line":225,"column":8},"end":{"line":225,"column":34}},"82":{"start":{"line":227,"column":4},"end":{"line":236,"column":5}},"83":{"start":{"line":228,"column":8},"end":{"line":235,"column":11}},"84":{"start":{"line":229,"column":12},"end":{"line":231,"column":13}},"85":{"start":{"line":230,"column":16},"end":{"line":230,"column":32}},"86":{"start":{"line":232,"column":12},"end":{"line":234,"column":13}},"87":{"start":{"line":233,"column":16},"end":{"line":233,"column":30}},"88":{"start":{"line":239,"column":0},"end":{"line":261,"column":1}},"89":{"start":{"line":240,"column":4},"end":{"line":244,"column":5}},"90":{"start":{"line":241,"column":8},"end":{"line":241,"column":46}},"91":{"start":{"line":241,"column":28},"end":{"line":241,"column":46}},"92":{"start":{"line":243,"column":8},"end":{"line":243,"column":23}},"93":{"start":{"line":245,"column":4},"end":{"line":250,"column":7}},"94":{"start":{"line":251,"column":4},"end":{"line":253,"column":5}},"95":{"start":{"line":252,"column":8},"end":{"line":252,"column":41}},"96":{"start":{"line":254,"column":4},"end":{"line":259,"column":5}},"97":{"start":{"line":255,"column":8},"end":{"line":255,"column":51}},"98":{"start":{"line":256,"column":8},"end":{"line":258,"column":9}},"99":{"start":{"line":257,"column":12},"end":{"line":257,"column":40}},"100":{"start":{"line":263,"column":0},"end":{"line":265,"column":2}},"101":{"start":{"line":264,"column":4},"end":{"line":264,"column":30}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"3":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":12}},{"start":{"line":19,"column":16},"end":{"line":19,"column":36}}]},"4":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"5":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":32}},{"start":{"line":35,"column":36},"end":{"line":35,"column":69}}]},"6":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":15},"end":{"line":36,"column":22}},{"start":{"line":36,"column":26},"end":{"line":36,"column":34}}]},"7":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":24},"end":{"line":39,"column":28}},{"start":{"line":39,"column":32},"end":{"line":39,"column":34}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":4}},{"start":{"line":47,"column":4},"end":{"line":47,"column":4}}]},"9":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"10":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":0},"end":{"line":92,"column":0}},{"start":{"line":92,"column":0},"end":{"line":92,"column":0}}]},"11":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":4}},{"start":{"line":170,"column":4},"end":{"line":170,"column":4}}]},"12":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":8},"end":{"line":175,"column":8}},{"start":{"line":175,"column":8},"end":{"line":175,"column":8}}]},"13":{"line":207,"type":"cond-expr","locations":[{"start":{"line":207,"column":22},"end":{"line":207,"column":28}},{"start":{"line":207,"column":31},"end":{"line":207,"column":34}}]},"14":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":8},"end":{"line":210,"column":8}},{"start":{"line":210,"column":8},"end":{"line":210,"column":8}}]},"15":{"line":210,"type":"binary-expr","locations":[{"start":{"line":210,"column":12},"end":{"line":210,"column":14}},{"start":{"line":210,"column":18},"end":{"line":210,"column":28}}]},"16":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":12},"end":{"line":212,"column":12}},{"start":{"line":212,"column":12},"end":{"line":212,"column":12}}]},"17":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":4},"end":{"line":217,"column":4}},{"start":{"line":217,"column":4},"end":{"line":217,"column":4}}]},"18":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":4},"end":{"line":224,"column":4}},{"start":{"line":224,"column":4},"end":{"line":224,"column":4}}]},"19":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":4}},{"start":{"line":227,"column":4},"end":{"line":227,"column":4}}]},"20":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":12},"end":{"line":229,"column":12}},{"start":{"line":229,"column":12},"end":{"line":229,"column":12}}]},"21":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":12},"end":{"line":232,"column":12}},{"start":{"line":232,"column":12},"end":{"line":232,"column":12}}]},"22":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":4},"end":{"line":240,"column":4}},{"start":{"line":240,"column":4},"end":{"line":240,"column":4}}]},"23":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":4},"end":{"line":251,"column":4}},{"start":{"line":251,"column":4},"end":{"line":251,"column":4}}]},"24":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":4},"end":{"line":254,"column":4}},{"start":{"line":254,"column":4},"end":{"line":254,"column":4}}]},"25":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":8},"end":{"line":256,"column":8}},{"start":{"line":256,"column":8},"end":{"line":256,"column":8}}]}},"code":["var util = require('util');","","module.exports = List;","","/**"," * List class provides functionality of nested collection"," *"," * @param {Array} data - array of items."," * @param {Crap} type - array with some type information? TODO: rework this API."," * @param {AbstractClass} parent - owner of list."," * @constructor"," */","function List(data, type, parent) {","    var list = this;","    if (!(list instanceof List)) {","        return new List(data);","    }","","    if (data && data instanceof List) data = data.items;","","    Object.defineProperty(list, 'parent', {","        writable: false,","        enumerable: false,","        configurable: false,","        value: parent","    });","","    Object.defineProperty(list, 'nextid', {","        writable: true,","        enumerable: false,","        value: 1","    });","","    var Item = ListItem;","    if (typeof type === 'object' && type.constructor.name === 'Array') {","        Item = type[0] || ListItem;","    }","","    data = list.items = data || [];","    Object.defineProperty(list, 'ItemType', {","        writable: true,","        enumerable: false,","        configurable: true,","        value: Item","    });","","    if ('string' === typeof data) {","        try {","            list.items = data = JSON.parse(data);","        } catch(e) {","            list.items = data = [];","        }","    }","","    data.forEach(function(item, i) {","        data[i] = new Item(item, list);","        Object.defineProperty(list, data[i].id, {","            writable: true,","            enumerable: false,","            configurable: true,","            value: data[i]","        });","        if (list.nextid <= data[i].id) {","            list.nextid = data[i].id + 1;","        }","    });","","    Object.defineProperty(list, 'length', {","        enumerable: false,","        configurable: true,","        get: function() {","            return list.items.length;","        }","    });","","    return list;","","}","","List.prototype.inspect = function() {","    return util.inspect(this.items);","};","","var _;","try {","    var underscore = 'underscore';","    _ = require(underscore);","} catch (e) {","    _ = false;","}","","if (_) {","    var _import = [","        // collection methods","        'each',","        'map',","        'reduce',","        'reduceRight',","        'find',","        'filter',","        'reject',","        'all',","        'any',","        'include',","        'invoke',","        'pluck',","        'max',","        'min',","        'sortBy',","        'groupBy',","        'sortedIndex',","        'shuffle',","        'toArray',","        'size',","        // array methods","        'first',","        'initial',","        'last',","        'rest',","        'compact',","        'flatten',","        'without',","        'union',","        'intersection',","        'difference',","        'uniq',","        'zip',","        'indexOf',","        'lastIndexOf',","        'range'","    ];","","    _import.forEach(function(name) {","        List.prototype[name] = function() {","            var args = [].slice.call(arguments);","            args.unshift(this.items);","            return _[name].apply(_, args);","        };","    });","}","","// copy all array methods","[   'concat',","    'join',","    'pop',","    'push',","    'reverse',","    'shift',","    'slice',","    'sort',","    'splice',","    'toSource',","    'toString',","    'unshift',","    'every',","    'filter',","    'forEach',","    'indexOf',","    'lastIndexOf',","    'map',","    'some'","].forEach(function (method) {","    var slice = [].slice;","    List.prototype[method] = function () {","        return Array.prototype[method].apply(this.items, slice.call(arguments));","    };","});","","List.prototype.find = function(pattern, field) {","    if (!field) {","        field = 'id';","    }","    var res;","    this.items.forEach(function(o) {","        if (o[field] == pattern) res = o;","    });","    return res;","};","","List.prototype.removeAt = function(index) {","    this.splice(index, 1);","};","","List.prototype.toObject = function() {","    return this.items;","};","","List.prototype.toJSON = function() {","    return this.items;","};","","List.prototype.toString = function() {","    return JSON.stringify(this.items);","};","","List.prototype.autoincrement = function() {","    return this.nextid++;","};","","List.prototype.push = function(obj) {","    var item = new ListItem(obj, this);","    this.items.push(item);","    return item;","};","","List.prototype.remove = function(obj) {","    var id = obj.id ? obj.id : obj;","    var found = false;","    this.items.forEach(function(o, i) {","        if (id && o.id == id) {","            found = i;","            if (o.id !== id) {","                console.log('WARNING! Type of id not matched');","            }","        }","    });","    if (found !== false) {","        delete this[id];","        this.items.splice(found, 1);","    }","};","","List.prototype.map = function(cb) {","    if (typeof cb === 'function') {","        return this.items.map(cb);","    }","    if (typeof cb === 'string') {","        return this.items.map(function(el) {","            if (typeof el[cb] === 'function') {","                return el[cb]();","            }","            if (el.hasOwnProperty(cb)) {","                return el[cb];","            }","        });","    }","};","","function ListItem(data, parent) {","    if (typeof data === 'object') {","        for (var i in data) this[i] = data[i];","    } else {","        this.id = data;","    }","    Object.defineProperty(this, 'parent', {","        writable: false,","        enumerable: false,","        configurable: true,","        value: parent","    });","    if (!this.id) {","        this.id = parent.autoincrement();","    }","    if (parent.ItemType) {","        this.__proto__ = parent.ItemType.prototype;","        if (parent.ItemType !== ListItem) {","            parent.ItemType.apply(this);","        }","    }","","}","","ListItem.prototype.save = function save() {","    this.parent.parent.save();","};","",""],"l":{"1":1,"3":1,"13":1,"14":0,"15":0,"16":0,"19":0,"21":0,"28":0,"34":0,"35":0,"36":0,"39":0,"40":0,"47":0,"48":0,"49":0,"51":0,"55":0,"56":0,"57":0,"63":0,"64":0,"68":0,"72":0,"76":0,"80":1,"81":0,"84":1,"85":1,"86":1,"87":1,"89":1,"92":1,"93":0,"133":0,"134":0,"135":0,"136":0,"137":0,"143":1,"163":19,"164":19,"165":0,"169":1,"170":0,"171":0,"173":0,"174":0,"175":0,"177":0,"180":1,"181":0,"184":1,"185":0,"188":1,"189":0,"192":1,"193":0,"196":1,"197":0,"200":1,"201":0,"202":0,"203":0,"206":1,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"217":0,"218":0,"219":0,"223":1,"224":0,"225":0,"227":0,"228":0,"229":0,"230":0,"232":0,"233":0,"239":1,"240":0,"241":0,"243":0,"245":0,"251":0,"252":0,"254":0,"255":0,"256":0,"257":0,"263":1,"264":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/hooks.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/hooks.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"trigger","line":26,"loc":{"start":{"line":26,"column":29},"end":{"line":26,"column":76}}},"2":{"name":"(anonymous_2)","line":40,"loc":{"start":{"line":40,"column":34},"end":{"line":40,"column":49}}},"3":{"name":"next","line":57,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":24}}},"4":{"name":"capitalize","line":66,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":28}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":32}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":31}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":26}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":29}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":29}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":28}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":29}},"14":{"start":{"line":26,"column":0},"end":{"line":64,"column":2}},"15":{"start":{"line":27,"column":4},"end":{"line":27,"column":49}},"16":{"start":{"line":28,"column":4},"end":{"line":28,"column":66}},"17":{"start":{"line":29,"column":4},"end":{"line":29,"column":64}},"18":{"start":{"line":30,"column":4},"end":{"line":33,"column":5}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":69}},"20":{"start":{"line":32,"column":8},"end":{"line":32,"column":66}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":20}},"22":{"start":{"line":37,"column":4},"end":{"line":55,"column":5}},"23":{"start":{"line":38,"column":8},"end":{"line":52,"column":9}},"24":{"start":{"line":40,"column":12},"end":{"line":49,"column":21}},"25":{"start":{"line":41,"column":16},"end":{"line":46,"column":17}},"26":{"start":{"line":42,"column":20},"end":{"line":44,"column":21}},"27":{"start":{"line":43,"column":24},"end":{"line":43,"column":45}},"28":{"start":{"line":45,"column":20},"end":{"line":45,"column":27}},"29":{"start":{"line":48,"column":16},"end":{"line":48,"column":38}},"30":{"start":{"line":51,"column":12},"end":{"line":51,"column":34}},"31":{"start":{"line":54,"column":8},"end":{"line":54,"column":15}},"32":{"start":{"line":57,"column":4},"end":{"line":63,"column":5}},"33":{"start":{"line":58,"column":8},"end":{"line":62,"column":9}},"34":{"start":{"line":59,"column":12},"end":{"line":59,"column":39}},"35":{"start":{"line":60,"column":15},"end":{"line":62,"column":9}},"36":{"start":{"line":61,"column":12},"end":{"line":61,"column":28}},"37":{"start":{"line":66,"column":0},"end":{"line":68,"column":1}},"38":{"start":{"line":67,"column":4},"end":{"line":67,"column":60}}},"branchMap":{"1":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"2":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":21},"end":{"line":31,"column":31}},{"start":{"line":31,"column":35},"end":{"line":31,"column":68}}]},"3":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":20},"end":{"line":32,"column":29}},{"start":{"line":32,"column":33},"end":{"line":32,"column":65}}]},"4":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":4}},{"start":{"line":37,"column":4},"end":{"line":37,"column":4}}]},"5":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":38,"column":8}},{"start":{"line":38,"column":8},"end":{"line":38,"column":8}}]},"6":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":16}},{"start":{"line":41,"column":16},"end":{"line":41,"column":16}}]},"7":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":20},"end":{"line":42,"column":20}},{"start":{"line":42,"column":20},"end":{"line":42,"column":20}}]},"8":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":8}},{"start":{"line":58,"column":8},"end":{"line":58,"column":8}}]},"9":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":15},"end":{"line":60,"column":15}},{"start":{"line":60,"column":15},"end":{"line":60,"column":15}}]}},"code":["/**"," * Module exports"," */","exports.Hookable = Hookable;","","/**"," * Hooks mixins for ./model.js"," */","var Hookable = require('./model.js');","","/**"," * List of hooks available"," */","Hookable.afterInitialize = null;","Hookable.beforeValidate = null;","Hookable.afterValidate = null;","Hookable.beforeSave = null;","Hookable.afterSave = null;","Hookable.beforeCreate = null;","Hookable.afterCreate = null;","Hookable.beforeUpdate = null;","Hookable.afterUpdate = null;","Hookable.beforeDestroy = null;","Hookable.afterDestroy = null;","","Hookable.prototype.trigger = function trigger(actionName, work, data, quit) {","    var capitalizedName = capitalize(actionName);","    var beforeHook = this.constructor[\"before\" + capitalizedName];","    var afterHook = this.constructor[\"after\" + capitalizedName];","    if (actionName === 'validate') {","        beforeHook = beforeHook || this.constructor.beforeValidation;","        afterHook = afterHook || this.constructor.afterValidation;","    }","    var inst = this;","","    // we only call \"before\" hook when we have actual action (work) to perform","    if (work) {","        if (beforeHook) {","            // before hook should be called on instance with one param: callback","            beforeHook.call(inst, function (err) {","                if (err) {","                    if (quit) {","                        quit.call(inst, err);","                    }","                    return;","                }","                // actual action also have one param: callback","                work.call(inst, next);","            }, data);","        } else {","            work.call(inst, next);","        }","    } else {","        next();","    }","","    function next(done) {","        if (afterHook) {","            afterHook.call(inst, done);","        } else if (done) {","            done.call(this);","        }","    }","};","","function capitalize(string) {","    return string.charAt(0).toUpperCase() + string.slice(1);","}",""],"l":{"4":1,"9":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"34":0,"37":0,"38":0,"40":0,"41":0,"42":0,"43":0,"45":0,"48":0,"51":0,"54":0,"57":1,"58":0,"59":0,"60":0,"61":0,"66":1,"67":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/relations.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/relations.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":1,"166":0,"167":0,"168":0,"169":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0,0],"57":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"relationNameFor","line":12,"loc":{"start":{"line":12,"column":24},"end":{"line":12,"column":61}}},"2":{"name":"hasMany","line":27,"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":55}}},"3":{"name":"create","line":67,"loc":{"start":{"line":67,"column":30},"end":{"line":67,"column":58}}},"4":{"name":"(anonymous_4)","line":73,"loc":{"start":{"line":73,"column":23},"end":{"line":73,"column":34}}},"5":{"name":"(anonymous_5)","line":77,"loc":{"start":{"line":77,"column":38},"end":{"line":77,"column":56}}},"6":{"name":"(anonymous_6)","line":82,"loc":{"start":{"line":82,"column":41},"end":{"line":82,"column":53}}},"7":{"name":"(anonymous_7)","line":84,"loc":{"start":{"line":84,"column":35},"end":{"line":84,"column":46}}},"8":{"name":"(anonymous_8)","line":93,"loc":{"start":{"line":93,"column":27},"end":{"line":93,"column":56}}},"9":{"name":"(anonymous_9)","line":105,"loc":{"start":{"line":105,"column":30},"end":{"line":105,"column":53}}},"10":{"name":"(anonymous_10)","line":109,"loc":{"start":{"line":109,"column":47},"end":{"line":109,"column":64}}},"11":{"name":"(anonymous_11)","line":121,"loc":{"start":{"line":121,"column":76},"end":{"line":121,"column":88}}},"12":{"name":"find","line":137,"loc":{"start":{"line":137,"column":4},"end":{"line":137,"column":26}}},"13":{"name":"(anonymous_13)","line":138,"loc":{"start":{"line":138,"column":30},"end":{"line":138,"column":51}}},"14":{"name":"destroy","line":149,"loc":{"start":{"line":149,"column":4},"end":{"line":149,"column":29}}},"15":{"name":"(anonymous_15)","line":151,"loc":{"start":{"line":151,"column":30},"end":{"line":151,"column":51}}},"16":{"name":"(anonymous_16)","line":187,"loc":{"start":{"line":187,"column":18},"end":{"line":187,"column":50}}},"17":{"name":"(anonymous_17)","line":216,"loc":{"start":{"line":216,"column":45},"end":{"line":216,"column":63}}},"18":{"name":"(anonymous_18)","line":221,"loc":{"start":{"line":221,"column":30},"end":{"line":221,"column":50}}},"19":{"name":"(anonymous_19)","line":236,"loc":{"start":{"line":236,"column":33},"end":{"line":236,"column":55}}},"20":{"name":"(anonymous_20)","line":253,"loc":{"start":{"line":253,"column":68},"end":{"line":253,"column":88}}},"21":{"name":"hasAndBelongsToMany","line":279,"loc":{"start":{"line":279,"column":28},"end":{"line":279,"column":79}}},"22":{"name":"lookupModel","line":307,"loc":{"start":{"line":307,"column":4},"end":{"line":307,"column":36}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":34}},"4":{"start":{"line":12,"column":0},"end":{"line":18,"column":2}},"5":{"start":{"line":13,"column":4},"end":{"line":17,"column":5}},"6":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"7":{"start":{"line":15,"column":12},"end":{"line":15,"column":23}},"8":{"start":{"line":27,"column":0},"end":{"line":162,"column":2}},"9":{"start":{"line":28,"column":4},"end":{"line":28,"column":57}},"10":{"start":{"line":29,"column":4},"end":{"line":29,"column":26}},"11":{"start":{"line":30,"column":4},"end":{"line":42,"column":5}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":33}},"13":{"start":{"line":32,"column":8},"end":{"line":41,"column":9}},"14":{"start":{"line":33,"column":12},"end":{"line":33,"column":40}},"15":{"start":{"line":35,"column":12},"end":{"line":35,"column":79}},"16":{"start":{"line":36,"column":12},"end":{"line":40,"column":13}},"17":{"start":{"line":37,"column":16},"end":{"line":39,"column":17}},"18":{"start":{"line":38,"column":20},"end":{"line":38,"column":60}},"19":{"start":{"line":43,"column":4},"end":{"line":44,"column":66}},"20":{"start":{"line":45,"column":4},"end":{"line":45,"column":76}},"21":{"start":{"line":47,"column":4},"end":{"line":53,"column":6}},"22":{"start":{"line":57,"column":4},"end":{"line":60,"column":6}},"23":{"start":{"line":61,"column":4},"end":{"line":120,"column":5}},"24":{"start":{"line":64,"column":8},"end":{"line":64,"column":65}},"25":{"start":{"line":66,"column":8},"end":{"line":66,"column":69}},"26":{"start":{"line":67,"column":8},"end":{"line":92,"column":10}},"27":{"start":{"line":68,"column":12},"end":{"line":71,"column":13}},"28":{"start":{"line":69,"column":16},"end":{"line":69,"column":28}},"29":{"start":{"line":70,"column":16},"end":{"line":70,"column":26}},"30":{"start":{"line":72,"column":12},"end":{"line":74,"column":13}},"31":{"start":{"line":73,"column":16},"end":{"line":73,"column":37}},"32":{"start":{"line":75,"column":12},"end":{"line":75,"column":28}},"33":{"start":{"line":76,"column":12},"end":{"line":76,"column":29}},"34":{"start":{"line":77,"column":12},"end":{"line":91,"column":15}},"35":{"start":{"line":78,"column":16},"end":{"line":78,"column":46}},"36":{"start":{"line":78,"column":25},"end":{"line":78,"column":46}},"37":{"start":{"line":79,"column":16},"end":{"line":79,"column":27}},"38":{"start":{"line":80,"column":16},"end":{"line":80,"column":61}},"39":{"start":{"line":81,"column":16},"end":{"line":81,"column":60}},"40":{"start":{"line":82,"column":16},"end":{"line":90,"column":19}},"41":{"start":{"line":83,"column":20},"end":{"line":89,"column":21}},"42":{"start":{"line":84,"column":24},"end":{"line":86,"column":27}},"43":{"start":{"line":85,"column":28},"end":{"line":85,"column":36}},"44":{"start":{"line":88,"column":24},"end":{"line":88,"column":38}},"45":{"start":{"line":93,"column":8},"end":{"line":104,"column":10}},"46":{"start":{"line":94,"column":12},"end":{"line":97,"column":13}},"47":{"start":{"line":95,"column":16},"end":{"line":95,"column":28}},"48":{"start":{"line":96,"column":16},"end":{"line":96,"column":26}},"49":{"start":{"line":98,"column":12},"end":{"line":98,"column":27}},"50":{"start":{"line":99,"column":12},"end":{"line":99,"column":32}},"51":{"start":{"line":100,"column":12},"end":{"line":100,"column":60}},"52":{"start":{"line":101,"column":12},"end":{"line":101,"column":45}},"53":{"start":{"line":102,"column":12},"end":{"line":102,"column":63}},"54":{"start":{"line":103,"column":12},"end":{"line":103,"column":68}},"55":{"start":{"line":105,"column":8},"end":{"line":118,"column":10}},"56":{"start":{"line":106,"column":12},"end":{"line":106,"column":23}},"57":{"start":{"line":107,"column":12},"end":{"line":107,"column":28}},"58":{"start":{"line":108,"column":12},"end":{"line":108,"column":41}},"59":{"start":{"line":109,"column":12},"end":{"line":117,"column":15}},"60":{"start":{"line":110,"column":16},"end":{"line":112,"column":17}},"61":{"start":{"line":111,"column":20},"end":{"line":111,"column":37}},"62":{"start":{"line":113,"column":16},"end":{"line":115,"column":17}},"63":{"start":{"line":114,"column":20},"end":{"line":114,"column":34}},"64":{"start":{"line":116,"column":16},"end":{"line":116,"column":32}},"65":{"start":{"line":119,"column":8},"end":{"line":119,"column":36}},"66":{"start":{"line":121,"column":4},"end":{"line":130,"column":21}},"67":{"start":{"line":122,"column":8},"end":{"line":122,"column":24}},"68":{"start":{"line":123,"column":8},"end":{"line":123,"column":26}},"69":{"start":{"line":124,"column":8},"end":{"line":124,"column":35}},"70":{"start":{"line":125,"column":8},"end":{"line":128,"column":9}},"71":{"start":{"line":126,"column":12},"end":{"line":126,"column":72}},"72":{"start":{"line":127,"column":12},"end":{"line":127,"column":44}},"73":{"start":{"line":129,"column":8},"end":{"line":129,"column":22}},"74":{"start":{"line":132,"column":4},"end":{"line":135,"column":5}},"75":{"start":{"line":134,"column":8},"end":{"line":134,"column":89}},"76":{"start":{"line":137,"column":4},"end":{"line":147,"column":5}},"77":{"start":{"line":138,"column":8},"end":{"line":146,"column":22}},"78":{"start":{"line":139,"column":12},"end":{"line":139,"column":36}},"79":{"start":{"line":139,"column":21},"end":{"line":139,"column":36}},"80":{"start":{"line":140,"column":12},"end":{"line":140,"column":57}},"81":{"start":{"line":140,"column":23},"end":{"line":140,"column":57}},"82":{"start":{"line":141,"column":12},"end":{"line":145,"column":13}},"83":{"start":{"line":142,"column":16},"end":{"line":142,"column":31}},"84":{"start":{"line":144,"column":16},"end":{"line":144,"column":51}},"85":{"start":{"line":149,"column":4},"end":{"line":160,"column":5}},"86":{"start":{"line":150,"column":8},"end":{"line":150,"column":24}},"87":{"start":{"line":151,"column":8},"end":{"line":159,"column":11}},"88":{"start":{"line":152,"column":12},"end":{"line":152,"column":36}},"89":{"start":{"line":152,"column":21},"end":{"line":152,"column":36}},"90":{"start":{"line":153,"column":12},"end":{"line":153,"column":57}},"91":{"start":{"line":153,"column":23},"end":{"line":153,"column":57}},"92":{"start":{"line":154,"column":12},"end":{"line":158,"column":13}},"93":{"start":{"line":155,"column":16},"end":{"line":155,"column":33}},"94":{"start":{"line":157,"column":16},"end":{"line":157,"column":51}},"95":{"start":{"line":187,"column":0},"end":{"line":272,"column":2}},"96":{"start":{"line":188,"column":4},"end":{"line":188,"column":26}},"97":{"start":{"line":189,"column":4},"end":{"line":201,"column":5}},"98":{"start":{"line":190,"column":8},"end":{"line":190,"column":33}},"99":{"start":{"line":191,"column":8},"end":{"line":200,"column":9}},"100":{"start":{"line":192,"column":12},"end":{"line":192,"column":40}},"101":{"start":{"line":194,"column":12},"end":{"line":194,"column":62}},"102":{"start":{"line":195,"column":12},"end":{"line":199,"column":13}},"103":{"start":{"line":196,"column":16},"end":{"line":198,"column":17}},"104":{"start":{"line":197,"column":20},"end":{"line":197,"column":60}},"105":{"start":{"line":202,"column":4},"end":{"line":202,"column":77}},"106":{"start":{"line":203,"column":4},"end":{"line":203,"column":52}},"107":{"start":{"line":205,"column":4},"end":{"line":211,"column":6}},"108":{"start":{"line":213,"column":4},"end":{"line":213,"column":77}},"109":{"start":{"line":214,"column":4},"end":{"line":214,"column":66}},"110":{"start":{"line":216,"column":4},"end":{"line":234,"column":6}},"111":{"start":{"line":217,"column":8},"end":{"line":220,"column":9}},"112":{"start":{"line":218,"column":12},"end":{"line":218,"column":27}},"113":{"start":{"line":219,"column":12},"end":{"line":219,"column":19}},"114":{"start":{"line":221,"column":8},"end":{"line":233,"column":22}},"115":{"start":{"line":222,"column":12},"end":{"line":224,"column":13}},"116":{"start":{"line":223,"column":16},"end":{"line":223,"column":31}},"117":{"start":{"line":225,"column":12},"end":{"line":227,"column":13}},"118":{"start":{"line":226,"column":16},"end":{"line":226,"column":38}},"119":{"start":{"line":228,"column":12},"end":{"line":232,"column":13}},"120":{"start":{"line":229,"column":16},"end":{"line":229,"column":31}},"121":{"start":{"line":231,"column":16},"end":{"line":231,"column":51}},"122":{"start":{"line":236,"column":4},"end":{"line":270,"column":6}},"123":{"start":{"line":237,"column":8},"end":{"line":242,"column":9}},"124":{"start":{"line":238,"column":12},"end":{"line":238,"column":24}},"125":{"start":{"line":239,"column":12},"end":{"line":239,"column":28}},"126":{"start":{"line":240,"column":15},"end":{"line":242,"column":9}},"127":{"start":{"line":241,"column":12},"end":{"line":241,"column":84}},"128":{"start":{"line":243,"column":8},"end":{"line":243,"column":24}},"129":{"start":{"line":244,"column":8},"end":{"line":244,"column":24}},"130":{"start":{"line":245,"column":8},"end":{"line":247,"column":9}},"131":{"start":{"line":246,"column":12},"end":{"line":246,"column":61}},"132":{"start":{"line":248,"column":8},"end":{"line":269,"column":9}},"133":{"start":{"line":249,"column":12},"end":{"line":249,"column":28}},"134":{"start":{"line":250,"column":12},"end":{"line":250,"column":51}},"135":{"start":{"line":251,"column":15},"end":{"line":269,"column":9}},"136":{"start":{"line":252,"column":12},"end":{"line":263,"column":13}},"137":{"start":{"line":253,"column":16},"end":{"line":258,"column":20}},"138":{"start":{"line":254,"column":20},"end":{"line":256,"column":21}},"139":{"start":{"line":255,"column":24},"end":{"line":255,"column":66}},"140":{"start":{"line":257,"column":20},"end":{"line":257,"column":33}},"141":{"start":{"line":259,"column":16},"end":{"line":259,"column":32}},"142":{"start":{"line":261,"column":16},"end":{"line":261,"column":37}},"143":{"start":{"line":262,"column":16},"end":{"line":262,"column":35}},"144":{"start":{"line":264,"column":15},"end":{"line":269,"column":9}},"145":{"start":{"line":265,"column":12},"end":{"line":265,"column":28}},"146":{"start":{"line":267,"column":12},"end":{"line":267,"column":25}},"147":{"start":{"line":268,"column":12},"end":{"line":268,"column":54}},"148":{"start":{"line":279,"column":0},"end":{"line":316,"column":2}},"149":{"start":{"line":280,"column":4},"end":{"line":280,"column":26}},"150":{"start":{"line":281,"column":4},"end":{"line":281,"column":36}},"151":{"start":{"line":283,"column":4},"end":{"line":294,"column":5}},"152":{"start":{"line":284,"column":8},"end":{"line":284,"column":33}},"153":{"start":{"line":285,"column":8},"end":{"line":290,"column":9}},"154":{"start":{"line":286,"column":12},"end":{"line":286,"column":40}},"155":{"start":{"line":288,"column":12},"end":{"line":289,"column":29}},"156":{"start":{"line":291,"column":8},"end":{"line":293,"column":9}},"157":{"start":{"line":292,"column":12},"end":{"line":292,"column":100}},"158":{"start":{"line":296,"column":4},"end":{"line":301,"column":5}},"159":{"start":{"line":297,"column":8},"end":{"line":297,"column":60}},"160":{"start":{"line":298,"column":8},"end":{"line":298,"column":60}},"161":{"start":{"line":299,"column":8},"end":{"line":300,"column":38}},"162":{"start":{"line":302,"column":4},"end":{"line":302,"column":35}},"163":{"start":{"line":303,"column":4},"end":{"line":303,"column":43}},"164":{"start":{"line":305,"column":4},"end":{"line":305,"column":73}},"165":{"start":{"line":307,"column":4},"end":{"line":314,"column":5}},"166":{"start":{"line":308,"column":8},"end":{"line":308,"column":54}},"167":{"start":{"line":309,"column":8},"end":{"line":313,"column":9}},"168":{"start":{"line":310,"column":12},"end":{"line":312,"column":13}},"169":{"start":{"line":311,"column":16},"end":{"line":311,"column":36}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":8}},{"start":{"line":14,"column":8},"end":{"line":14,"column":8}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":52}},{"start":{"line":14,"column":56},"end":{"line":14,"column":98}}]},"3":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":13},"end":{"line":29,"column":19}},{"start":{"line":29,"column":23},"end":{"line":29,"column":25}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":32,"column":8}},{"start":{"line":32,"column":8},"end":{"line":32,"column":8}}]},"6":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":16},"end":{"line":37,"column":16}},{"start":{"line":37,"column":16},"end":{"line":37,"column":16}}]},"7":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":21},"end":{"line":43,"column":30}},{"start":{"line":44,"column":8},"end":{"line":44,"column":65}}]},"8":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":13},"end":{"line":45,"column":30}},{"start":{"line":45,"column":34},"end":{"line":45,"column":75}}]},"9":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"10":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":12},"end":{"line":68,"column":12}},{"start":{"line":68,"column":12},"end":{"line":68,"column":12}}]},"11":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":72,"column":12}},{"start":{"line":72,"column":12},"end":{"line":72,"column":12}}]},"12":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":16}},{"start":{"line":78,"column":16},"end":{"line":78,"column":16}}]},"13":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":20},"end":{"line":83,"column":20}},{"start":{"line":83,"column":20},"end":{"line":83,"column":20}}]},"14":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},{"start":{"line":94,"column":12},"end":{"line":94,"column":12}}]},"15":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":25},"end":{"line":101,"column":34}},{"start":{"line":101,"column":38},"end":{"line":101,"column":44}}]},"16":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":21},"end":{"line":108,"column":30}},{"start":{"line":108,"column":34},"end":{"line":108,"column":40}}]},"17":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":16},"end":{"line":110,"column":16}},{"start":{"line":110,"column":16},"end":{"line":110,"column":16}}]},"18":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":16},"end":{"line":113,"column":16}},{"start":{"line":113,"column":16},"end":{"line":113,"column":16}}]},"19":{"line":121,"type":"binary-expr","locations":[{"start":{"line":121,"column":32},"end":{"line":121,"column":46}},{"start":{"line":121,"column":50},"end":{"line":121,"column":62}}]},"20":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":8},"end":{"line":125,"column":8}},{"start":{"line":125,"column":8},"end":{"line":125,"column":8}}]},"21":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":4},"end":{"line":132,"column":4}},{"start":{"line":132,"column":4},"end":{"line":132,"column":4}}]},"22":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":139,"column":12}},{"start":{"line":139,"column":12},"end":{"line":139,"column":12}}]},"23":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":12},"end":{"line":140,"column":12}},{"start":{"line":140,"column":12},"end":{"line":140,"column":12}}]},"24":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":12},"end":{"line":141,"column":12}},{"start":{"line":141,"column":12},"end":{"line":141,"column":12}}]},"25":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":16},"end":{"line":141,"column":24}},{"start":{"line":141,"column":28},"end":{"line":141,"column":69}}]},"26":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":12},"end":{"line":152,"column":12}},{"start":{"line":152,"column":12},"end":{"line":152,"column":12}}]},"27":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":12},"end":{"line":153,"column":12}},{"start":{"line":153,"column":12},"end":{"line":153,"column":12}}]},"28":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":12},"end":{"line":154,"column":12}},{"start":{"line":154,"column":12},"end":{"line":154,"column":12}}]},"29":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":16},"end":{"line":154,"column":24}},{"start":{"line":154,"column":28},"end":{"line":154,"column":69}}]},"30":{"line":188,"type":"binary-expr","locations":[{"start":{"line":188,"column":13},"end":{"line":188,"column":19}},{"start":{"line":188,"column":23},"end":{"line":188,"column":25}}]},"31":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":4},"end":{"line":189,"column":4}},{"start":{"line":189,"column":4},"end":{"line":189,"column":4}}]},"32":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":8},"end":{"line":191,"column":8}},{"start":{"line":191,"column":8},"end":{"line":191,"column":8}}]},"33":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":16},"end":{"line":196,"column":16}},{"start":{"line":196,"column":16},"end":{"line":196,"column":16}}]},"34":{"line":202,"type":"binary-expr","locations":[{"start":{"line":202,"column":21},"end":{"line":202,"column":30}},{"start":{"line":202,"column":34},"end":{"line":202,"column":76}}]},"35":{"line":203,"type":"binary-expr","locations":[{"start":{"line":203,"column":13},"end":{"line":203,"column":30}},{"start":{"line":203,"column":34},"end":{"line":203,"column":51}}]},"36":{"line":214,"type":"binary-expr","locations":[{"start":{"line":214,"column":33},"end":{"line":214,"column":59}},{"start":{"line":214,"column":63},"end":{"line":214,"column":65}}]},"37":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":8},"end":{"line":217,"column":8}},{"start":{"line":217,"column":8},"end":{"line":217,"column":8}}]},"38":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":12},"end":{"line":222,"column":12}},{"start":{"line":222,"column":12},"end":{"line":222,"column":12}}]},"39":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":12},"end":{"line":225,"column":12}},{"start":{"line":225,"column":12},"end":{"line":225,"column":12}}]},"40":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":12},"end":{"line":228,"column":12}},{"start":{"line":228,"column":12},"end":{"line":228,"column":12}}]},"41":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":8},"end":{"line":237,"column":8}},{"start":{"line":237,"column":8},"end":{"line":237,"column":8}}]},"42":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":15},"end":{"line":240,"column":15}},{"start":{"line":240,"column":15},"end":{"line":240,"column":15}}]},"43":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":8},"end":{"line":245,"column":8}},{"start":{"line":245,"column":8},"end":{"line":245,"column":8}}]},"44":{"line":245,"type":"binary-expr","locations":[{"start":{"line":245,"column":12},"end":{"line":245,"column":20}},{"start":{"line":245,"column":24},"end":{"line":245,"column":46}},{"start":{"line":245,"column":51},"end":{"line":245,"column":108}}]},"45":{"line":248,"type":"if","locations":[{"start":{"line":248,"column":8},"end":{"line":248,"column":8}},{"start":{"line":248,"column":8},"end":{"line":248,"column":8}}]},"46":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":15},"end":{"line":251,"column":15}},{"start":{"line":251,"column":15},"end":{"line":251,"column":15}}]},"47":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":12},"end":{"line":252,"column":12}},{"start":{"line":252,"column":12},"end":{"line":252,"column":12}}]},"48":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":20},"end":{"line":254,"column":20}},{"start":{"line":254,"column":20},"end":{"line":254,"column":20}}]},"49":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":15},"end":{"line":264,"column":15}},{"start":{"line":264,"column":15},"end":{"line":264,"column":15}}]},"50":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":13},"end":{"line":280,"column":19}},{"start":{"line":280,"column":23},"end":{"line":280,"column":25}}]},"51":{"line":283,"type":"if","locations":[{"start":{"line":283,"column":4},"end":{"line":283,"column":4}},{"start":{"line":283,"column":4},"end":{"line":283,"column":4}}]},"52":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":8},"end":{"line":285,"column":8}},{"start":{"line":285,"column":8},"end":{"line":285,"column":8}}]},"53":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":27},"end":{"line":288,"column":69}},{"start":{"line":289,"column":16},"end":{"line":289,"column":28}}]},"54":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":8},"end":{"line":291,"column":8}},{"start":{"line":291,"column":8},"end":{"line":291,"column":8}}]},"55":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":4},"end":{"line":296,"column":4}},{"start":{"line":296,"column":4},"end":{"line":296,"column":4}}]},"56":{"line":299,"type":"binary-expr","locations":[{"start":{"line":299,"column":25},"end":{"line":299,"column":43}},{"start":{"line":299,"column":47},"end":{"line":299,"column":65}},{"start":{"line":300,"column":12},"end":{"line":300,"column":37}}]},"57":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":12},"end":{"line":310,"column":12}},{"start":{"line":310,"column":12},"end":{"line":310,"column":12}}]}},"code":["/**"," * Dependencies"," */","var i8n = require('inflection');","var defineScope = require('./scope.js').defineScope;","","/**"," * Relations mixins for ./model.js"," */","var Model = require('./model.js');","","Model.relationNameFor = function relationNameFor(foreignKey) {","    for (var rel in this.relations) {","        if (this.relations[rel].type === 'belongsTo' && this.relations[rel].keyFrom === foreignKey) {","            return rel;","        }","    }","};","","/**"," * Declare hasMany relation"," *"," * @param {Model} anotherClass - class to has many"," * @param {Object} params - configuration {as:, foreignKey:}"," * @example `User.hasMany(Post, {as: 'posts', foreignKey: 'authorId'});`"," */","Model.hasMany = function hasMany(anotherClass, params) {","    var thisClass = this, thisClassName = this.modelName;","    params = params || {};","    if (typeof anotherClass === 'string') {","        params.as = anotherClass;","        if (params.model) {","            anotherClass = params.model;","        } else {","            var anotherClassName = i8n.singularize(anotherClass).toLowerCase();","            for(var name in this.schema.models) {","                if (name.toLowerCase() === anotherClassName) {","                    anotherClass = this.schema.models[name];","                }","            }","        }","    }","    var methodName = params.as ||","        i8n.camelize(i8n.pluralize(anotherClass.modelName), true);","    var fk = params.foreignKey || i8n.camelize(thisClassName + '_id', true);","","    this.relations[methodName] = {","        type: 'hasMany',","        keyFrom: 'id',","        keyTo: fk,","        modelTo: anotherClass,","        multiple: true","    };","    // each instance of this class should have method named","    // pluralize(anotherClass.modelName)","    // which is actually just anotherClass.all({where: {thisModelNameId: this.id}}, cb);","    var scopeMethods = {","        find: find,","        destroy: destroy","    };","    if (params.through) {","","        // Append through relation, like modelTo","        this.relations[methodName].modelThrough = params.through;","","        var fk2 = i8n.camelize(anotherClass.modelName + '_id', true);","        scopeMethods.create = function create(data, done) {","            if (typeof data !== 'object') {","                done = data;","                data = {};","            }","            if ('function' !== typeof done) {","                done = function() {};","            }","            var self = this;","            var id = this.id;","            anotherClass.create(data, function(err, ac) {","                if (err) return done(err, ac);","                var d = {};","                d[params.through.relationNameFor(fk)] = self;","                d[params.through.relationNameFor(fk2)] = ac;","                params.through.create(d, function(e) {","                    if (e) {","                        ac.destroy(function() {","                            done(e);","                        });","                    } else {","                        done(err, ac);","                    }","                });","            });","        };","        scopeMethods.add = function(acInst, data, done) {","            if (typeof data === 'function') {","                done = data;","                data = {};","            }","            var query = {};","            query[fk] = this.id;","            data[params.through.relationNameFor(fk)] = this;","            query[fk2] = acInst.id || acInst;","            data[params.through.relationNameFor(fk2)] = acInst;","            params.through.findOrCreate({where: query}, data, done);","        };","        scopeMethods.remove = function(acInst, done) {","            var q = {};","            q[fk] = this.id;","            q[fk2] = acInst.id || acInst;","            params.through.findOne({where: q}, function(err, d) {","                if (err) {","                    return done(err);","                }","                if (!d) {","                    return done();","                }","                d.destroy(done);","            });","        };","        delete scopeMethods.destroy;","    }","    defineScope(this.prototype, params.through || anotherClass, methodName, function () {","        var filter = {};","        filter.where = {};","        filter.where[fk] = this.id;","        if (params.through) {","            filter.collect = i8n.camelize(anotherClass.modelName, true);","            filter.include = filter.collect;","        }","        return filter;","    }, scopeMethods);","","    if (!params.through) {","        // obviously, anotherClass should have attribute called `fk`","        anotherClass.schema.defineForeignKey(anotherClass.modelName, fk, this.modelName);","    }","","    function find(id, cb) {","        anotherClass.find(id, function (err, inst) {","            if (err) return cb(err);","            if (!inst) return cb(new Error('Not found'));","            if (inst[fk] && inst[fk].toString() == this.id.toString()) {","                cb(null, inst);","            } else {","                cb(new Error('Permission denied'));","            }","        }.bind(this));","    }","","    function destroy(id, cb) {","        var self = this;","        anotherClass.find(id, function (err, inst) {","            if (err) return cb(err);","            if (!inst) return cb(new Error('Not found'));","            if (inst[fk] && inst[fk].toString() == self.id.toString()) {","                inst.destroy(cb);","            } else {","                cb(new Error('Permission denied'));","            }","        });","    }","","};","","/**"," * Declare belongsTo relation"," *"," * @param {Class} anotherClass - class to belong"," * @param {Object} params - configuration {as: 'propertyName', foreignKey: 'keyName'}"," *"," * **Usage examples**"," * Suppose model Post have a *belongsTo* relationship with User (the author of the post). You could declare it this way:"," * Post.belongsTo(User, {as: 'author', foreignKey: 'userId'});"," *"," * When a post is loaded, you can load the related author with:"," * post.author(function(err, user) {"," *     // the user variable is your user object"," * });"," *"," * The related object is cached, so if later you try to get again the author, no additional request will be made."," * But there is an optional boolean parameter in first position that set whether or not you want to reload the cache:"," * post.author(true, function(err, user) {"," *     // The user is reloaded, even if it was already cached."," * });"," *"," * This optional parameter default value is false, so the related object will be loaded from cache if available."," */","Model.belongsTo = function (anotherClass, params) {","    params = params || {};","    if ('string' === typeof anotherClass) {","        params.as = anotherClass;","        if (params.model) {","            anotherClass = params.model;","        } else {","            var anotherClassName = anotherClass.toLowerCase();","            for(var name in this.schema.models) {","                if (name.toLowerCase() === anotherClassName) {","                    anotherClass = this.schema.models[name];","                }","            }","        }","    }","    var methodName = params.as || i8n.camelize(anotherClass.modelName, true);","    var fk = params.foreignKey || methodName + 'Id';","","    this.relations[methodName] = {","        type: 'belongsTo',","        keyFrom: fk,","        keyTo: 'id',","        modelTo: anotherClass,","        multiple: false","    };","","    this.schema.defineForeignKey(this.modelName, fk, anotherClass.modelName);","    this.prototype.__finders__ = this.prototype.__finders__ || {};","","    this.prototype.__finders__[methodName] = function (id, cb) {","        if (id === null) {","            cb(null, null);","            return;","        }","        anotherClass.find(id, function (err,inst) {","            if (err) {","                return cb(err);","            }","            if (!inst) {","                return cb(null, null);","            }","            if (inst.id.toString() === this[fk].toString()) {","                cb(null, inst);","            } else {","                cb(new Error('Permission denied'));","            }","        }.bind(this));","    };","","    this.prototype[methodName] = function (refresh, p) {","        if (arguments.length === 1) {","            p = refresh;","            refresh = false;","        } else if (arguments.length > 2) {","            throw new Error('Method can\\'t be called with more than two arguments');","        }","        var self = this;","        var cachedValue;","        if (!refresh && this.__cachedRelations && (typeof this.__cachedRelations[methodName] !== 'undefined')) {","            cachedValue = this.__cachedRelations[methodName];","        }","        if (p instanceof Model) { // acts as setter","            this[fk] = p.id;","            this.__cachedRelations[methodName] = p;","        } else if (typeof p === 'function') { // acts as async getter","            if (typeof cachedValue === 'undefined') {","                this.__finders__[methodName].apply(self, [this[fk], function(err, inst) {","                    if (!err) {","                        self.__cachedRelations[methodName] = inst;","                    }","                    p(err, inst);","                }]);","                return this[fk];","            } else {","                p(null, cachedValue);","                return cachedValue;","            }","        } else if (typeof p === 'undefined') { // acts as sync getter","            return this[fk];","        } else { // setter","            this[fk] = p;","            delete this.__cachedRelations[methodName];","        }","    };","","};","","/**"," * Many-to-many relation"," *"," * Post.hasAndBelongsToMany('tags'); creates connection model 'PostTag'"," */","Model.hasAndBelongsToMany = function hasAndBelongsToMany(anotherClass, params) {","    params = params || {};","    var models = this.schema.models;","","    if ('string' === typeof anotherClass) {","        params.as = anotherClass;","        if (params.model) {","            anotherClass = params.model;","        } else {","            anotherClass = lookupModel(i8n.singularize(anotherClass)) ||","                anotherClass;","        }","        if (typeof anotherClass === 'string') {","            throw new Error('Could not find \"' + anotherClass + '\" relation for ' + this.modelName);","        }","    }","","    if (!params.through) {","        var name1 = this.modelName + anotherClass.modelName;","        var name2 = anotherClass.modelName + this.modelName;","        params.through = lookupModel(name1) || lookupModel(name2) ||","            this.schema.define(name1);","    }","    params.through.belongsTo(this);","    params.through.belongsTo(anotherClass);","","    this.hasMany(anotherClass, {as: params.as, through: params.through});","","    function lookupModel(modelName) {","        var lookupClassName = modelName.toLowerCase();","        for (var name in models) {","            if (name.toLowerCase() === lookupClassName) {","                return models[name];","            }","        }","    }","","};",""],"l":{"4":1,"5":1,"10":1,"12":1,"13":0,"14":0,"15":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"35":0,"36":0,"37":0,"38":0,"43":0,"45":0,"47":0,"57":0,"61":0,"64":0,"66":0,"67":0,"68":0,"69":0,"70":0,"72":0,"73":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"88":0,"93":0,"94":0,"95":0,"96":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"113":0,"114":0,"116":0,"119":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"132":0,"134":0,"137":1,"138":0,"139":0,"140":0,"141":0,"142":0,"144":0,"149":1,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"157":0,"187":1,"188":0,"189":0,"190":0,"191":0,"192":0,"194":0,"195":0,"196":0,"197":0,"202":0,"203":0,"205":0,"213":0,"214":0,"216":0,"217":0,"218":0,"219":0,"221":0,"222":0,"223":0,"225":0,"226":0,"228":0,"229":0,"231":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"243":0,"244":0,"245":0,"246":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"257":0,"259":0,"261":0,"262":0,"264":0,"265":0,"267":0,"268":0,"279":1,"280":0,"281":0,"283":0,"284":0,"285":0,"286":0,"288":0,"291":0,"292":0,"296":0,"297":0,"298":0,"299":0,"302":0,"303":0,"305":0,"307":1,"308":0,"309":0,"310":0,"311":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/scope.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/scope.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":14},"end":{"line":15,"column":38}}},"2":{"name":"defineScope","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":62}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":25}}},"4":{"name":"caller","line":40,"loc":{"start":{"line":40,"column":20},"end":{"line":40,"column":55}}},"5":{"name":"(anonymous_5)","line":61,"loc":{"start":{"line":61,"column":51},"end":{"line":61,"column":71}}},"6":{"name":"(anonymous_6)","line":83,"loc":{"start":{"line":83,"column":56},"end":{"line":83,"column":72}}},"7":{"name":"(anonymous_7)","line":86,"loc":{"start":{"line":86,"column":25},"end":{"line":86,"column":37}}},"8":{"name":"build","line":97,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":25}}},"9":{"name":"create","line":101,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":30}}},"10":{"name":"destroyAll","line":115,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":28}}},"11":{"name":"(anonymous_11)","line":116,"loc":{"start":{"line":116,"column":37},"end":{"line":116,"column":58}}},"12":{"name":"loopOfDestruction","line":120,"loc":{"start":{"line":120,"column":17},"end":{"line":120,"column":51}}},"13":{"name":"(anonymous_13)","line":122,"loc":{"start":{"line":122,"column":45},"end":{"line":122,"column":59}}},"14":{"name":"mergeParams","line":134,"loc":{"start":{"line":134,"column":4},"end":{"line":134,"column":39}}},"15":{"name":"merge","line":161,"loc":{"start":{"line":161,"column":0},"end":{"line":161,"column":29}}},"16":{"name":"(anonymous_16)","line":164,"loc":{"start":{"line":164,"column":36},"end":{"line":164,"column":51}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}},"3":{"start":{"line":15,"column":0},"end":{"line":17,"column":2}},"4":{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},"5":{"start":{"line":19,"column":0},"end":{"line":153,"column":1}},"6":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"7":{"start":{"line":23,"column":8},"end":{"line":23,"column":28}},"8":{"start":{"line":28,"column":4},"end":{"line":34,"column":5}},"9":{"start":{"line":29,"column":8},"end":{"line":29,"column":38}},"10":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"11":{"start":{"line":32,"column":12},"end":{"line":32,"column":40}},"12":{"start":{"line":36,"column":4},"end":{"line":94,"column":7}},"13":{"start":{"line":40,"column":12},"end":{"line":73,"column":14}},"14":{"start":{"line":41,"column":16},"end":{"line":41,"column":36}},"15":{"start":{"line":42,"column":16},"end":{"line":42,"column":42}},"16":{"start":{"line":43,"column":16},"end":{"line":43,"column":39}},"17":{"start":{"line":44,"column":16},"end":{"line":56,"column":17}},"18":{"start":{"line":45,"column":20},"end":{"line":45,"column":39}},"19":{"start":{"line":46,"column":23},"end":{"line":56,"column":17}},"20":{"start":{"line":47,"column":20},"end":{"line":53,"column":21}},"21":{"start":{"line":48,"column":24},"end":{"line":48,"column":54}},"22":{"start":{"line":50,"column":24},"end":{"line":50,"column":51}},"23":{"start":{"line":51,"column":24},"end":{"line":51,"column":45}},"24":{"start":{"line":52,"column":24},"end":{"line":52,"column":44}},"25":{"start":{"line":55,"column":20},"end":{"line":55,"column":91}},"26":{"start":{"line":58,"column":16},"end":{"line":72,"column":17}},"27":{"start":{"line":59,"column":20},"end":{"line":59,"column":36}},"28":{"start":{"line":60,"column":20},"end":{"line":60,"column":72}},"29":{"start":{"line":61,"column":20},"end":{"line":69,"column":23}},"30":{"start":{"line":62,"column":24},"end":{"line":67,"column":25}},"31":{"start":{"line":63,"column":28},"end":{"line":65,"column":29}},"32":{"start":{"line":64,"column":32},"end":{"line":64,"column":60}},"33":{"start":{"line":66,"column":28},"end":{"line":66,"column":64}},"34":{"start":{"line":68,"column":24},"end":{"line":68,"column":38}},"35":{"start":{"line":71,"column":20},"end":{"line":71,"column":59}},"36":{"start":{"line":74,"column":12},"end":{"line":74,"column":81}},"37":{"start":{"line":75,"column":12},"end":{"line":75,"column":28}},"38":{"start":{"line":76,"column":12},"end":{"line":76,"column":30}},"39":{"start":{"line":77,"column":12},"end":{"line":77,"column":38}},"40":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"41":{"start":{"line":79,"column":16},"end":{"line":79,"column":45}},"42":{"start":{"line":83,"column":12},"end":{"line":91,"column":26}},"43":{"start":{"line":84,"column":16},"end":{"line":90,"column":19}},"44":{"start":{"line":87,"column":24},"end":{"line":87,"column":76}},"45":{"start":{"line":88,"column":24},"end":{"line":88,"column":33}},"46":{"start":{"line":92,"column":12},"end":{"line":92,"column":21}},"47":{"start":{"line":97,"column":4},"end":{"line":99,"column":5}},"48":{"start":{"line":98,"column":8},"end":{"line":98,"column":83}},"49":{"start":{"line":101,"column":4},"end":{"line":107,"column":5}},"50":{"start":{"line":102,"column":8},"end":{"line":105,"column":9}},"51":{"start":{"line":103,"column":12},"end":{"line":103,"column":22}},"52":{"start":{"line":104,"column":12},"end":{"line":104,"column":22}},"53":{"start":{"line":106,"column":8},"end":{"line":106,"column":34}},"54":{"start":{"line":115,"column":4},"end":{"line":132,"column":5}},"55":{"start":{"line":116,"column":8},"end":{"line":131,"column":11}},"56":{"start":{"line":117,"column":12},"end":{"line":130,"column":13}},"57":{"start":{"line":118,"column":16},"end":{"line":118,"column":24}},"58":{"start":{"line":120,"column":16},"end":{"line":129,"column":25}},"59":{"start":{"line":121,"column":20},"end":{"line":128,"column":21}},"60":{"start":{"line":122,"column":24},"end":{"line":125,"column":27}},"61":{"start":{"line":123,"column":28},"end":{"line":123,"column":50}},"62":{"start":{"line":123,"column":42},"end":{"line":123,"column":50}},"63":{"start":{"line":124,"column":28},"end":{"line":124,"column":52}},"64":{"start":{"line":127,"column":24},"end":{"line":127,"column":36}},"65":{"start":{"line":127,"column":31},"end":{"line":127,"column":36}},"66":{"start":{"line":134,"column":4},"end":{"line":152,"column":5}},"67":{"start":{"line":135,"column":8},"end":{"line":137,"column":9}},"68":{"start":{"line":136,"column":12},"end":{"line":136,"column":57}},"69":{"start":{"line":138,"column":8},"end":{"line":140,"column":9}},"70":{"start":{"line":139,"column":12},"end":{"line":139,"column":42}},"71":{"start":{"line":141,"column":8},"end":{"line":143,"column":9}},"72":{"start":{"line":142,"column":12},"end":{"line":142,"column":42}},"73":{"start":{"line":146,"column":8},"end":{"line":148,"column":9}},"74":{"start":{"line":147,"column":12},"end":{"line":147,"column":38}},"75":{"start":{"line":150,"column":8},"end":{"line":150,"column":20}},"76":{"start":{"line":161,"column":0},"end":{"line":169,"column":1}},"77":{"start":{"line":162,"column":4},"end":{"line":162,"column":22}},"78":{"start":{"line":163,"column":4},"end":{"line":167,"column":5}},"79":{"start":{"line":164,"column":8},"end":{"line":166,"column":11}},"80":{"start":{"line":165,"column":12},"end":{"line":165,"column":36}},"81":{"start":{"line":168,"column":4},"end":{"line":168,"column":16}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"4":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":16}},{"start":{"line":44,"column":16},"end":{"line":44,"column":16}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":23},"end":{"line":46,"column":23}},{"start":{"line":46,"column":23},"end":{"line":46,"column":23}}]},"6":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":20},"end":{"line":47,"column":20}},{"start":{"line":47,"column":20},"end":{"line":47,"column":20}}]},"7":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":16},"end":{"line":58,"column":16}},{"start":{"line":58,"column":16},"end":{"line":58,"column":16}}]},"8":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":20},"end":{"line":58,"column":43}},{"start":{"line":58,"column":48},"end":{"line":58,"column":98}},{"start":{"line":58,"column":103},"end":{"line":58,"column":116}}]},"9":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":24},"end":{"line":62,"column":24}},{"start":{"line":62,"column":24},"end":{"line":62,"column":24}}]},"10":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":28},"end":{"line":62,"column":32}},{"start":{"line":62,"column":36},"end":{"line":62,"column":47}}]},"11":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":28},"end":{"line":63,"column":28}},{"start":{"line":63,"column":28},"end":{"line":63,"column":28}}]},"12":{"line":74,"type":"cond-expr","locations":[{"start":{"line":74,"column":54},"end":{"line":74,"column":71}},{"start":{"line":74,"column":74},"end":{"line":74,"column":80}}]},"13":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":63},"end":{"line":98,"column":67}},{"start":{"line":98,"column":71},"end":{"line":98,"column":73}}]},"14":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":102,"column":8}},{"start":{"line":102,"column":8},"end":{"line":102,"column":8}}]},"15":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":12},"end":{"line":117,"column":12}},{"start":{"line":117,"column":12},"end":{"line":117,"column":12}}]},"16":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":20},"end":{"line":121,"column":20}},{"start":{"line":121,"column":20},"end":{"line":121,"column":20}}]},"17":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":28},"end":{"line":123,"column":28}},{"start":{"line":123,"column":28},"end":{"line":123,"column":28}}]},"18":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":31},"end":{"line":123,"column":34}},{"start":{"line":123,"column":38},"end":{"line":123,"column":40}}]},"19":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":24},"end":{"line":127,"column":24}},{"start":{"line":127,"column":24},"end":{"line":127,"column":24}}]},"20":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":8}},{"start":{"line":135,"column":8},"end":{"line":135,"column":8}}]},"21":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":8},"end":{"line":138,"column":8}},{"start":{"line":138,"column":8},"end":{"line":138,"column":8}}]},"22":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":8}},{"start":{"line":141,"column":8},"end":{"line":141,"column":8}}]},"23":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":8},"end":{"line":146,"column":8}},{"start":{"line":146,"column":8},"end":{"line":146,"column":8}}]},"24":{"line":162,"type":"binary-expr","locations":[{"start":{"line":162,"column":11},"end":{"line":162,"column":15}},{"start":{"line":162,"column":19},"end":{"line":162,"column":21}}]},"25":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":4},"end":{"line":163,"column":4}},{"start":{"line":163,"column":4},"end":{"line":163,"column":4}}]}},"code":["/**"," * Module exports"," */","exports.defineScope = defineScope;","","/**"," * Scope mixin for ./model.js"," */","var Model = require('./model.js');","","/**"," * Define scope"," * TODO: describe behavior and usage examples"," */","Model.scope = function (name, params) {","    defineScope(this, this, name, params);","};","","function defineScope(cls, targetClass, name, params, methods) {","","    // collect meta info about scope","    if (!cls._scopeMeta) {","        cls._scopeMeta = {};","    }","","    // only makes sence to add scope in meta if base and target classes","    // are same","    if (cls === targetClass) {","        cls._scopeMeta[name] = params;","    } else {","        if (!targetClass._scopeMeta) {","            targetClass._scopeMeta = {};","        }","    }","","    Object.defineProperty(cls, name, {","        enumerable: false,","        configurable: true,","        get: function () {","            var f = function caller(condOrRefresh, cb) {","                var actualCond = {};","                var actualRefresh = false;","                var saveOnCache = true;","                if (arguments.length === 1) {","                    cb = condOrRefresh;","                } else if (arguments.length === 2) {","                    if (typeof condOrRefresh === 'boolean') {","                        actualRefresh = condOrRefresh;","                    } else {","                        actualCond = condOrRefresh;","                        actualRefresh = true;","                        saveOnCache = false;","                    }","                } else {","                    throw new Error('Method can be only called with one or two arguments');","                }","","                if (!this.__cachedRelations || (typeof this.__cachedRelations[name] == 'undefined') || actualRefresh) {","                    var self = this;","                    var params = mergeParams(actualCond, caller._scope);","                    return targetClass.all(params, function(err, data) {","                        if (!err && saveOnCache) {","                            if (!self.__cachedRelations) {","                                self.__cachedRelations = {};","                            }","                            self.__cachedRelations[name] = data;","                        }","                        cb(err, data);","                    });","                } else {","                    cb(null, this.__cachedRelations[name]);","                }","            };","            f._scope = typeof params === 'function' ? params.call(this) : params;","            f.build = build;","            f.create = create;","            f.destroyAll = destroyAll;","            for (var i in methods) {","                f[i] = methods[i].bind(this);","            }","","            // define sub-scopes","            Object.keys(targetClass._scopeMeta).forEach(function (name) {","                Object.defineProperty(f, name, {","                    enumerable: false,","                    get: function () {","                        mergeParams(f._scope, targetClass._scopeMeta[name]);","                        return f;","                    }","                });","            }.bind(this));","            return f;","        }","    });","","    // and it should have create/build methods with binded thisModelNameId param","    function build(data) {","        return new targetClass(mergeParams(this._scope, {where:data || {}}).where);","    }","","    function create(data, cb) {","        if (typeof data === 'function') {","            cb = data;","            data = {};","        }","        this.build(data).save(cb);","    }","","    /*","        Callback","        - The callback will be called after all elements are destroyed","        - For every destroy call which results in an error","        - If fetching the Elements on which destroyAll is called results in an error","    */","    function destroyAll(cb) {","        targetClass.all(this._scope, function (err, data) {","            if (err) {","                cb(err);","            } else {","                (function loopOfDestruction (data) {","                    if(data.length > 0) {","                        data.shift().destroy(function(err) {","                            if(err && cb) cb(err);","                            loopOfDestruction(data);","                        });","                    } else {","                        if(cb) cb();","                    }","                }(data));","            }","        });","    }","","    function mergeParams(base, update) {","        if (update.where) {","            base.where = merge(base.where, update.where);","        }","        if (update.include) {","            base.include = update.include;","        }","        if (update.collect) {","            base.collect = update.collect;","        }","","        // overwrite order","        if (update.order) {","            base.order = update.order;","        }","","        return base;","","    }","}","","/**"," * Merge `base` and `update` params"," * @param {Object} base - base object (updating this object)"," * @param {Object} update - object with new data to update base"," * @returns {Object} `base`"," */","function merge(base, update) {","    base = base || {};","    if (update) {","        Object.keys(update).forEach(function (key) {","            base[key] = update[key];","        });","    }","    return base;","}","",""],"l":{"4":1,"9":1,"15":1,"16":0,"19":1,"22":0,"23":0,"28":0,"29":0,"31":0,"32":0,"36":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"55":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"66":0,"68":0,"71":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"83":0,"84":0,"87":0,"88":0,"92":0,"97":1,"98":0,"101":1,"102":0,"103":0,"104":0,"106":0,"115":1,"116":0,"117":0,"118":0,"120":0,"121":0,"122":0,"123":0,"124":0,"127":0,"134":1,"135":0,"136":0,"138":0,"139":0,"141":0,"142":0,"146":0,"147":0,"150":0,"161":1,"162":0,"163":0,"164":0,"165":0,"168":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/include.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/include.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0},"b":{"1":[0,0],"2":[0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":33,"loc":{"start":{"line":33,"column":24},"end":{"line":33,"column":56}}},"2":{"name":"includeItemCallback","line":64,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":41}}},"3":{"name":"(anonymous_3)","line":66,"loc":{"start":{"line":66,"column":15},"end":{"line":66,"column":27}}},"4":{"name":"processIncludeJoin","line":74,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":36}}},"5":{"name":"processIncludeItem","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":69}}},"6":{"name":"(anonymous_6)","line":114,"loc":{"start":{"line":114,"column":37},"end":{"line":114,"column":52}}},"7":{"name":"done","line":135,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":41}}},"8":{"name":"(anonymous_8)","line":193,"loc":{"start":{"line":193,"column":15},"end":{"line":193,"column":29}}},"9":{"name":"(anonymous_9)","line":197,"loc":{"start":{"line":197,"column":47},"end":{"line":197,"column":76}}},"10":{"name":"(anonymous_10)","line":199,"loc":{"start":{"line":199,"column":59},"end":{"line":199,"column":91}}},"11":{"name":"(anonymous_11)","line":207,"loc":{"start":{"line":207,"column":42},"end":{"line":207,"column":71}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"3":{"start":{"line":33,"column":0},"end":{"line":89,"column":2}},"4":{"start":{"line":35,"column":4},"end":{"line":38,"column":5}},"5":{"start":{"line":36,"column":8},"end":{"line":36,"column":26}},"6":{"start":{"line":37,"column":8},"end":{"line":37,"column":15}},"7":{"start":{"line":40,"column":4},"end":{"line":40,"column":42}},"8":{"start":{"line":42,"column":4},"end":{"line":42,"column":21}},"9":{"start":{"line":43,"column":4},"end":{"line":43,"column":24}},"10":{"start":{"line":45,"column":4},"end":{"line":45,"column":24}},"11":{"start":{"line":46,"column":4},"end":{"line":46,"column":27}},"12":{"start":{"line":48,"column":4},"end":{"line":58,"column":5}},"13":{"start":{"line":49,"column":8},"end":{"line":49,"column":90}},"14":{"start":{"line":50,"column":8},"end":{"line":57,"column":9}},"15":{"start":{"line":51,"column":12},"end":{"line":51,"column":29}},"16":{"start":{"line":52,"column":12},"end":{"line":56,"column":13}},"17":{"start":{"line":53,"column":16},"end":{"line":53,"column":29}},"18":{"start":{"line":55,"column":16},"end":{"line":55,"column":46}},"19":{"start":{"line":60,"column":4},"end":{"line":62,"column":5}},"20":{"start":{"line":61,"column":8},"end":{"line":61,"column":26}},"21":{"start":{"line":64,"column":4},"end":{"line":72,"column":5}},"22":{"start":{"line":65,"column":8},"end":{"line":65,"column":22}},"23":{"start":{"line":66,"column":8},"end":{"line":71,"column":11}},"24":{"start":{"line":67,"column":12},"end":{"line":67,"column":26}},"25":{"start":{"line":68,"column":12},"end":{"line":70,"column":13}},"26":{"start":{"line":69,"column":16},"end":{"line":69,"column":34}},"27":{"start":{"line":74,"column":4},"end":{"line":88,"column":5}},"28":{"start":{"line":75,"column":8},"end":{"line":77,"column":9}},"29":{"start":{"line":76,"column":12},"end":{"line":76,"column":22}},"30":{"start":{"line":78,"column":8},"end":{"line":86,"column":9}},"31":{"start":{"line":79,"column":12},"end":{"line":79,"column":27}},"32":{"start":{"line":80,"column":12},"end":{"line":84,"column":13}},"33":{"start":{"line":81,"column":16},"end":{"line":81,"column":29}},"34":{"start":{"line":82,"column":16},"end":{"line":82,"column":35}},"35":{"start":{"line":83,"column":16},"end":{"line":83,"column":32}},"36":{"start":{"line":85,"column":12},"end":{"line":85,"column":25}},"37":{"start":{"line":87,"column":8},"end":{"line":87,"column":18}},"38":{"start":{"line":91,"column":0},"end":{"line":216,"column":1}},"39":{"start":{"line":92,"column":4},"end":{"line":92,"column":34}},"40":{"start":{"line":93,"column":4},"end":{"line":93,"column":33}},"41":{"start":{"line":95,"column":4},"end":{"line":101,"column":5}},"42":{"start":{"line":96,"column":8},"end":{"line":96,"column":47}},"43":{"start":{"line":97,"column":8},"end":{"line":97,"column":43}},"44":{"start":{"line":99,"column":8},"end":{"line":99,"column":31}},"45":{"start":{"line":100,"column":8},"end":{"line":100,"column":24}},"46":{"start":{"line":102,"column":4},"end":{"line":102,"column":43}},"47":{"start":{"line":104,"column":4},"end":{"line":106,"column":5}},"48":{"start":{"line":105,"column":8},"end":{"line":105,"column":107}},"49":{"start":{"line":108,"column":4},"end":{"line":110,"column":6}},"50":{"start":{"line":112,"column":4},"end":{"line":121,"column":5}},"51":{"start":{"line":113,"column":8},"end":{"line":113,"column":42}},"52":{"start":{"line":114,"column":8},"end":{"line":119,"column":11}},"53":{"start":{"line":115,"column":12},"end":{"line":117,"column":13}},"54":{"start":{"line":116,"column":16},"end":{"line":116,"column":73}},"55":{"start":{"line":118,"column":12},"end":{"line":118,"column":74}},"56":{"start":{"line":120,"column":8},"end":{"line":120,"column":78}},"57":{"start":{"line":124,"column":4},"end":{"line":124,"column":31}},"58":{"start":{"line":125,"column":4},"end":{"line":125,"column":22}},"59":{"start":{"line":126,"column":4},"end":{"line":131,"column":5}},"60":{"start":{"line":127,"column":8},"end":{"line":127,"column":63}},"61":{"start":{"line":128,"column":8},"end":{"line":130,"column":9}},"62":{"start":{"line":129,"column":12},"end":{"line":129,"column":56}},"63":{"start":{"line":133,"column":4},"end":{"line":133,"column":25}},"64":{"start":{"line":135,"column":4},"end":{"line":178,"column":5}},"65":{"start":{"line":136,"column":8},"end":{"line":136,"column":24}},"66":{"start":{"line":138,"column":8},"end":{"line":164,"column":9}},"67":{"start":{"line":139,"column":12},"end":{"line":139,"column":70}},"68":{"start":{"line":140,"column":12},"end":{"line":140,"column":88}},"69":{"start":{"line":142,"column":12},"end":{"line":163,"column":13}},"70":{"start":{"line":143,"column":16},"end":{"line":145,"column":17}},"71":{"start":{"line":144,"column":20},"end":{"line":144,"column":58}},"72":{"start":{"line":146,"column":16},"end":{"line":162,"column":17}},"73":{"start":{"line":147,"column":20},"end":{"line":149,"column":21}},"74":{"start":{"line":148,"column":24},"end":{"line":148,"column":76}},"75":{"start":{"line":151,"column":20},"end":{"line":155,"column":21}},"76":{"start":{"line":152,"column":24},"end":{"line":152,"column":121}},"77":{"start":{"line":154,"column":24},"end":{"line":154,"column":93}},"78":{"start":{"line":157,"column":20},"end":{"line":161,"column":21}},"79":{"start":{"line":158,"column":24},"end":{"line":158,"column":117}},"80":{"start":{"line":160,"column":24},"end":{"line":160,"column":89}},"81":{"start":{"line":167,"column":8},"end":{"line":175,"column":9}},"82":{"start":{"line":168,"column":12},"end":{"line":168,"column":60}},"83":{"start":{"line":169,"column":12},"end":{"line":174,"column":13}},"84":{"start":{"line":170,"column":16},"end":{"line":172,"column":17}},"85":{"start":{"line":171,"column":20},"end":{"line":171,"column":58}},"86":{"start":{"line":173,"column":16},"end":{"line":173,"column":95}},"87":{"start":{"line":177,"column":8},"end":{"line":177,"column":30}},"88":{"start":{"line":180,"column":4},"end":{"line":213,"column":5}},"89":{"start":{"line":182,"column":8},"end":{"line":191,"column":9}},"90":{"start":{"line":183,"column":12},"end":{"line":183,"column":61}},"91":{"start":{"line":185,"column":12},"end":{"line":185,"column":72}},"92":{"start":{"line":186,"column":12},"end":{"line":186,"column":70}},"93":{"start":{"line":189,"column":12},"end":{"line":189,"column":61}},"94":{"start":{"line":190,"column":12},"end":{"line":190,"column":40}},"95":{"start":{"line":193,"column":8},"end":{"line":212,"column":10}},"96":{"start":{"line":195,"column":12},"end":{"line":211,"column":13}},"97":{"start":{"line":197,"column":16},"end":{"line":203,"column":19}},"98":{"start":{"line":199,"column":20},"end":{"line":202,"column":23}},"99":{"start":{"line":201,"column":24},"end":{"line":201,"column":55}},"100":{"start":{"line":207,"column":16},"end":{"line":210,"column":19}},"101":{"start":{"line":209,"column":20},"end":{"line":209,"column":48}},"102":{"start":{"line":215,"column":4},"end":{"line":215,"column":16}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"2":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":9},"end":{"line":35,"column":44}},{"start":{"line":35,"column":48},"end":{"line":35,"column":68}},{"start":{"line":35,"column":74},"end":{"line":35,"column":110}},{"start":{"line":35,"column":114},"end":{"line":35,"column":147}}]},"3":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"4":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":12}},{"start":{"line":52,"column":12},"end":{"line":52,"column":12}}]},"5":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":4}},{"start":{"line":60,"column":4},"end":{"line":60,"column":4}}]},"6":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":12},"end":{"line":68,"column":12}},{"start":{"line":68,"column":12},"end":{"line":68,"column":12}}]},"7":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"8":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"9":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"10":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":4}},{"start":{"line":104,"column":4},"end":{"line":104,"column":4}}]},"11":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":4},"end":{"line":112,"column":4}},{"start":{"line":112,"column":4},"end":{"line":112,"column":4}}]},"12":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":115,"column":12}},{"start":{"line":115,"column":12},"end":{"line":115,"column":12}}]},"13":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":8}},{"start":{"line":128,"column":8},"end":{"line":128,"column":8}}]},"14":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":12},"end":{"line":128,"column":51}},{"start":{"line":128,"column":55},"end":{"line":128,"column":99}}]},"15":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":16},"end":{"line":143,"column":16}},{"start":{"line":143,"column":16},"end":{"line":143,"column":16}}]},"16":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":16},"end":{"line":146,"column":16}},{"start":{"line":146,"column":16},"end":{"line":146,"column":16}}]},"17":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":20},"end":{"line":147,"column":20}},{"start":{"line":147,"column":20},"end":{"line":147,"column":20}}]},"18":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":20},"end":{"line":151,"column":20}},{"start":{"line":151,"column":20},"end":{"line":151,"column":20}}]},"19":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":20},"end":{"line":157,"column":20}},{"start":{"line":157,"column":20},"end":{"line":157,"column":20}}]},"20":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":16},"end":{"line":170,"column":16}},{"start":{"line":170,"column":16},"end":{"line":170,"column":16}}]},"21":{"line":173,"type":"cond-expr","locations":[{"start":{"line":173,"column":85},"end":{"line":173,"column":87}},{"start":{"line":173,"column":90},"end":{"line":173,"column":94}}]},"22":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":4},"end":{"line":180,"column":4}},{"start":{"line":180,"column":4},"end":{"line":180,"column":4}}]},"23":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":8},"end":{"line":182,"column":8}},{"start":{"line":182,"column":8},"end":{"line":182,"column":8}}]},"24":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":12},"end":{"line":195,"column":12}},{"start":{"line":195,"column":12},"end":{"line":195,"column":12}}]}},"code":["/**"," * Dependencies"," */","var i8n = require('inflection');","","/**"," * Include mixin for ./model.js"," */","var AbstractClass = require('./model.js');","","/**"," * Allows you to load relations of several objects and optimize numbers of requests."," *"," * @param {Array} objects - array of instances"," * @param {String}, {Object} or {Array} include - which relations you want to load."," * @param {Function} cb - Callback called when relations are loaded"," *"," * Examples:"," *"," * - User.include(users, 'posts', function() {}); will load all users posts with only one additional request."," * - User.include(users, ['posts'], function() {}); // same"," * - User.include(users, ['posts', 'passports'], function() {}); // will load all users posts and passports with two"," *     additional requests."," * - Passport.include(passports, {owner: 'posts'}, function() {}); // will load all passports owner (users), and all"," *     posts of each owner loaded"," * - Passport.include(passports, {owner: ['posts', 'passports']}); // ..."," * - Passport.include(passports, {owner: [{posts: 'images'}, 'passports']}); // ..."," *"," */",""," /*jshint sub: true */","","AbstractClass.include = function (objects, include, cb) {","","    if ((include.constructor.name == 'Array' && include.length === 0) || (include.constructor.name == 'Object' && Object.keys(include).length === 0)) {","        cb(null, objects);","        return;","    }","","    include = processIncludeJoin(include);","","    var keyVals = {};","    var objsByKeys = {};","","    var nbCallbacks = 0;","    var totalCallbacks = 0;","","    for (var i = 0; i < include.length; i++) {","        var callback = processIncludeItem(this, objects, include[i], keyVals, objsByKeys);","        if (callback !== null) {","            totalCallbacks++;","            if (callback instanceof Error) {","                cb(callback);","            } else {","                includeItemCallback(callback);","            }","        }","    }","","    if (totalCallbacks === 0) {","        cb(null, objects);","    }","","    function includeItemCallback(itemCb) {","        nbCallbacks++;","        itemCb(function () {","            nbCallbacks--;","            if (nbCallbacks === 0) {","                cb(null, objects);","            }","        });","    }","","    function processIncludeJoin(ij) {","        if (typeof ij === 'string') {","            ij = [ij];","        }","        if (ij.constructor.name === 'Object') {","            var newIj = [];","            for (var key in ij) {","                var obj = {};","                obj[key] = ij[key];","                newIj.push(obj);","            }","            return newIj;","        }","        return ij;","    }","};","","function processIncludeItem(cls, objs, include, keyVals, objsByKeys) {","    var relations = cls.relations;","    var relationName, subInclude;","","    if (include.constructor.name === 'Object') {","        relationName = Object.keys(include)[0];","        subInclude = include[relationName];","    } else {","        relationName = include;","        subInclude = [];","    }","    var relation = relations[relationName];","","    if (!relation) {","        return new Error('Relation \"' + relationName + '\" is not defined for ' + cls.modelName + ' model');","    }","","    var req = {","        'where': {}","    };","","    if (!keyVals[relation.keyFrom]) {","        objsByKeys[relation.keyFrom] = {};","        objs.filter(Boolean).forEach(function (obj) {","            if (!objsByKeys[relation.keyFrom][obj[relation.keyFrom]]) {","                objsByKeys[relation.keyFrom][obj[relation.keyFrom]] = [];","            }","            objsByKeys[relation.keyFrom][obj[relation.keyFrom]].push(obj);","        });","        keyVals[relation.keyFrom] = Object.keys(objsByKeys[relation.keyFrom]);","    }","","    // deep clone is necessary since inq seems to change the processed array","    var keysToBeProcessed = {};","    var inValues = [];","    for (var j = 0; j < keyVals[relation.keyFrom].length; j++) {","        keysToBeProcessed[keyVals[relation.keyFrom][j]] = true;","        if (keyVals[relation.keyFrom][j] !== 'null' && keyVals[relation.keyFrom][j] !== 'undefined') {","            inValues.push(keyVals[relation.keyFrom][j]);","        }","    }","","    var _model, _through;","","    function done(err, objsIncluded, cb) {","        var objectsFrom;","","        for (var i = 0; i < objsIncluded.length; i++) {","            delete keysToBeProcessed[objsIncluded[i][relation.keyTo]];","            objectsFrom = objsByKeys[relation.keyFrom][objsIncluded[i][relation.keyTo]];","","            for (var j = 0; j < objectsFrom.length; j++) {","                if (!objectsFrom[j].__cachedRelations) {","                    objectsFrom[j].__cachedRelations = {};","                }","                if (relation.multiple) {","                    if (!objectsFrom[j].__cachedRelations[relationName]) {","                        objectsFrom[j].__cachedRelations[relationName] = [];","                    }","","                    if (_through) {","                        objectsFrom[j].__cachedRelations[relationName].push(objsIncluded[i].__cachedRelations[_through]);","                    } else {","                        objectsFrom[j].__cachedRelations[relationName].push(objsIncluded[i]);","                    }","                } else {","                    if (_through) {","                        objectsFrom[j].__cachedRelations[relationName] = objsIncluded[i].__cachedRelations[_through];","                    } else {","                        objectsFrom[j].__cachedRelations[relationName] = objsIncluded[i];","                    }","                }","            }","        }","","        // No relation have been found for these keys","        for (var key in keysToBeProcessed) {","            objectsFrom = objsByKeys[relation.keyFrom][key];","            for (var k = 0; k < objectsFrom.length; k++) {","                if (!objectsFrom[k].__cachedRelations) {","                    objectsFrom[k].__cachedRelations = {};","                }","                objectsFrom[k].__cachedRelations[relationName] = relation.multiple ? [] : null;","            }","        }","","        cb(err, objsIncluded);","    }","","    if (keyVals[relation.keyFrom].length > 0) {","","        if (relation.modelThrough) {","            req['where'][relation.keyTo] = { inq: inValues };","","            _model = cls.schema.models[relation.modelThrough.modelName];","            _through = i8n.camelize(relation.modelTo.modelName, true);","","        } else {","            req['where'][relation.keyTo] = { inq: inValues };","            req['include'] = subInclude;","        }","","        return function (cb) {","","            if (_through) {","","                relation.modelThrough.all(req, function (err, objsIncluded) {","","                    _model.include(objsIncluded, _through, function (err, throughIncludes) {","","                        done(err, throughIncludes, cb);","                    });","                });","","            } else {","","                relation.modelTo.all(req, function (err, objsIncluded) {","","                    done(err, objsIncluded, cb);","                });","            }","        };","    }","","    return null;","}",""],"l":{"4":1,"9":1,"33":1,"35":0,"36":0,"37":0,"40":0,"42":0,"43":0,"45":0,"46":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"55":0,"60":0,"61":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"74":1,"75":0,"76":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"85":0,"87":0,"91":1,"92":0,"93":0,"95":0,"96":0,"97":0,"99":0,"100":0,"102":0,"104":0,"105":0,"108":0,"112":0,"113":0,"114":0,"115":0,"116":0,"118":0,"120":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"133":0,"135":1,"136":0,"138":0,"139":0,"140":0,"142":0,"143":0,"144":0,"146":0,"147":0,"148":0,"151":0,"152":0,"154":0,"157":0,"158":0,"160":0,"167":0,"168":0,"169":0,"170":0,"171":0,"173":0,"177":0,"180":0,"182":0,"183":0,"185":0,"186":0,"189":0,"190":0,"193":0,"195":0,"197":0,"199":0,"201":0,"207":0,"209":0,"215":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/sql.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/sql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":0,"20":0,"21":0,"22":1,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":0,"78":1,"79":0,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":1,"96":0,"97":1,"98":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},"fnMap":{"1":{"name":"BaseSQL","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":19}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":38}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":53}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":29},"end":{"line":17,"column":54}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":48}}},"6":{"name":"(anonymous_6)","line":24,"loc":{"start":{"line":24,"column":26},"end":{"line":24,"column":43}}},"7":{"name":"(anonymous_7)","line":28,"loc":{"start":{"line":28,"column":31},"end":{"line":28,"column":47}}},"8":{"name":"(anonymous_8)","line":32,"loc":{"start":{"line":32,"column":33},"end":{"line":32,"column":50}}},"9":{"name":"(anonymous_9)","line":36,"loc":{"start":{"line":36,"column":27},"end":{"line":36,"column":44}}},"10":{"name":"(anonymous_10)","line":41,"loc":{"start":{"line":41,"column":35},"end":{"line":41,"column":66}}},"11":{"name":"(anonymous_11)","line":45,"loc":{"start":{"line":45,"column":29},"end":{"line":45,"column":42}}},"12":{"name":"(anonymous_12)","line":60,"loc":{"start":{"line":60,"column":25},"end":{"line":60,"column":58}}},"13":{"name":"(anonymous_13)","line":63,"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":35}}},"14":{"name":"(anonymous_14)","line":69,"loc":{"start":{"line":69,"column":27},"end":{"line":69,"column":58}}},"15":{"name":"(anonymous_15)","line":73,"loc":{"start":{"line":73,"column":20},"end":{"line":73,"column":41}}},"16":{"name":"find","line":79,"loc":{"start":{"line":79,"column":25},"end":{"line":79,"column":60}}},"17":{"name":"(anonymous_17)","line":84,"loc":{"start":{"line":84,"column":20},"end":{"line":84,"column":41}}},"18":{"name":"destroy","line":94,"loc":{"start":{"line":94,"column":28},"end":{"line":94,"column":66}}},"19":{"name":"(anonymous_19)","line":98,"loc":{"start":{"line":98,"column":22},"end":{"line":98,"column":37}}},"20":{"name":"destroyAll","line":103,"loc":{"start":{"line":103,"column":31},"end":{"line":103,"column":68}}},"21":{"name":"(anonymous_21)","line":104,"loc":{"start":{"line":104,"column":60},"end":{"line":104,"column":75}}},"22":{"name":"count","line":112,"loc":{"start":{"line":112,"column":26},"end":{"line":112,"column":65}}},"23":{"name":"(anonymous_23)","line":117,"loc":{"start":{"line":117,"column":60},"end":{"line":117,"column":80}}},"24":{"name":"buildWhere","line":122,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":31}}},"25":{"name":"(anonymous_25)","line":124,"loc":{"start":{"line":124,"column":41},"end":{"line":124,"column":56}}},"26":{"name":"updateAttrs","line":136,"loc":{"start":{"line":136,"column":37},"end":{"line":136,"column":79}}},"27":{"name":"disconnect","line":141,"loc":{"start":{"line":141,"column":31},"end":{"line":141,"column":53}}},"28":{"name":"(anonymous_28)","line":145,"loc":{"start":{"line":145,"column":32},"end":{"line":145,"column":46}}},"29":{"name":"(anonymous_29)","line":148,"loc":{"start":{"line":148,"column":38},"end":{"line":148,"column":55}}},"30":{"name":"(anonymous_30)","line":150,"loc":{"start":{"line":150,"column":30},"end":{"line":150,"column":42}}},"31":{"name":"(anonymous_31)","line":152,"loc":{"start":{"line":152,"column":36},"end":{"line":152,"column":51}}},"32":{"name":"done","line":161,"loc":{"start":{"line":161,"column":4},"end":{"line":161,"column":20}}},"33":{"name":"(anonymous_33)","line":168,"loc":{"start":{"line":168,"column":30},"end":{"line":168,"column":51}}},"34":{"name":"(anonymous_34)","line":172,"loc":{"start":{"line":172,"column":32},"end":{"line":172,"column":53}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":6,"column":0},"end":{"line":7,"column":1}},"3":{"start":{"line":9,"column":0},"end":{"line":11,"column":2}},"4":{"start":{"line":10,"column":4},"end":{"line":10,"column":66}},"5":{"start":{"line":13,"column":0},"end":{"line":15,"column":2}},"6":{"start":{"line":14,"column":4},"end":{"line":14,"column":37}},"7":{"start":{"line":17,"column":0},"end":{"line":22,"column":2}},"8":{"start":{"line":18,"column":4},"end":{"line":21,"column":7}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":38}},"10":{"start":{"line":19,"column":17},"end":{"line":19,"column":38}},"11":{"start":{"line":20,"column":8},"end":{"line":20,"column":31}},"12":{"start":{"line":24,"column":0},"end":{"line":26,"column":2}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":47}},"14":{"start":{"line":28,"column":0},"end":{"line":30,"column":2}},"15":{"start":{"line":29,"column":4},"end":{"line":29,"column":71}},"16":{"start":{"line":32,"column":0},"end":{"line":34,"column":2}},"17":{"start":{"line":33,"column":4},"end":{"line":33,"column":46}},"18":{"start":{"line":36,"column":0},"end":{"line":39,"column":2}},"19":{"start":{"line":37,"column":4},"end":{"line":37,"column":45}},"20":{"start":{"line":37,"column":25},"end":{"line":37,"column":45}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":48}},"22":{"start":{"line":41,"column":0},"end":{"line":43,"column":2}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":50}},"24":{"start":{"line":45,"column":0},"end":{"line":58,"column":2}},"25":{"start":{"line":46,"column":4},"end":{"line":57,"column":5}},"26":{"start":{"line":47,"column":8},"end":{"line":49,"column":9}},"27":{"start":{"line":48,"column":12},"end":{"line":48,"column":26}},"28":{"start":{"line":50,"column":8},"end":{"line":50,"column":98}},"29":{"start":{"line":52,"column":8},"end":{"line":52,"column":34}},"30":{"start":{"line":53,"column":8},"end":{"line":55,"column":9}},"31":{"start":{"line":54,"column":12},"end":{"line":54,"column":50}},"32":{"start":{"line":56,"column":8},"end":{"line":56,"column":24}},"33":{"start":{"line":60,"column":0},"end":{"line":66,"column":2}},"34":{"start":{"line":61,"column":4},"end":{"line":61,"column":159}},"35":{"start":{"line":63,"column":4},"end":{"line":65,"column":7}},"36":{"start":{"line":64,"column":8},"end":{"line":64,"column":22}},"37":{"start":{"line":69,"column":0},"end":{"line":77,"column":2}},"38":{"start":{"line":70,"column":4},"end":{"line":71,"column":110}},"39":{"start":{"line":73,"column":4},"end":{"line":76,"column":7}},"40":{"start":{"line":74,"column":8},"end":{"line":74,"column":38}},"41":{"start":{"line":74,"column":17},"end":{"line":74,"column":38}},"42":{"start":{"line":75,"column":8},"end":{"line":75,"column":42}},"43":{"start":{"line":79,"column":0},"end":{"line":92,"column":2}},"44":{"start":{"line":80,"column":4},"end":{"line":80,"column":37}},"45":{"start":{"line":81,"column":4},"end":{"line":82,"column":101}},"46":{"start":{"line":84,"column":4},"end":{"line":91,"column":18}},"47":{"start":{"line":85,"column":8},"end":{"line":89,"column":9}},"48":{"start":{"line":86,"column":12},"end":{"line":86,"column":28}},"49":{"start":{"line":88,"column":12},"end":{"line":88,"column":26}},"50":{"start":{"line":90,"column":8},"end":{"line":90,"column":57}},"51":{"start":{"line":94,"column":0},"end":{"line":101,"column":2}},"52":{"start":{"line":95,"column":4},"end":{"line":96,"column":97}},"53":{"start":{"line":98,"column":4},"end":{"line":100,"column":7}},"54":{"start":{"line":99,"column":8},"end":{"line":99,"column":22}},"55":{"start":{"line":103,"column":0},"end":{"line":110,"column":2}},"56":{"start":{"line":104,"column":4},"end":{"line":109,"column":18}},"57":{"start":{"line":105,"column":8},"end":{"line":107,"column":9}},"58":{"start":{"line":106,"column":12},"end":{"line":106,"column":37}},"59":{"start":{"line":108,"column":8},"end":{"line":108,"column":22}},"60":{"start":{"line":112,"column":0},"end":{"line":134,"column":2}},"61":{"start":{"line":113,"column":4},"end":{"line":113,"column":20}},"62":{"start":{"line":114,"column":4},"end":{"line":114,"column":47}},"63":{"start":{"line":116,"column":4},"end":{"line":120,"column":7}},"64":{"start":{"line":118,"column":8},"end":{"line":118,"column":38}},"65":{"start":{"line":118,"column":17},"end":{"line":118,"column":38}},"66":{"start":{"line":119,"column":8},"end":{"line":119,"column":38}},"67":{"start":{"line":122,"column":4},"end":{"line":133,"column":5}},"68":{"start":{"line":123,"column":8},"end":{"line":123,"column":20}},"69":{"start":{"line":124,"column":8},"end":{"line":131,"column":11}},"70":{"start":{"line":125,"column":12},"end":{"line":125,"column":50}},"71":{"start":{"line":126,"column":12},"end":{"line":130,"column":13}},"72":{"start":{"line":127,"column":16},"end":{"line":127,"column":49}},"73":{"start":{"line":129,"column":16},"end":{"line":129,"column":86}},"74":{"start":{"line":132,"column":8},"end":{"line":132,"column":61}},"75":{"start":{"line":136,"column":0},"end":{"line":139,"column":2}},"76":{"start":{"line":137,"column":4},"end":{"line":137,"column":17}},"77":{"start":{"line":138,"column":4},"end":{"line":138,"column":31}},"78":{"start":{"line":141,"column":0},"end":{"line":143,"column":2}},"79":{"start":{"line":142,"column":4},"end":{"line":142,"column":22}},"80":{"start":{"line":145,"column":0},"end":{"line":166,"column":2}},"81":{"start":{"line":146,"column":4},"end":{"line":146,"column":20}},"82":{"start":{"line":147,"column":4},"end":{"line":147,"column":17}},"83":{"start":{"line":148,"column":4},"end":{"line":158,"column":7}},"84":{"start":{"line":149,"column":8},"end":{"line":149,"column":18}},"85":{"start":{"line":150,"column":8},"end":{"line":157,"column":11}},"86":{"start":{"line":152,"column":12},"end":{"line":156,"column":15}},"87":{"start":{"line":154,"column":16},"end":{"line":154,"column":42}},"88":{"start":{"line":154,"column":25},"end":{"line":154,"column":42}},"89":{"start":{"line":155,"column":16},"end":{"line":155,"column":23}},"90":{"start":{"line":159,"column":4},"end":{"line":159,"column":25}},"91":{"start":{"line":159,"column":20},"end":{"line":159,"column":25}},"92":{"start":{"line":161,"column":4},"end":{"line":165,"column":5}},"93":{"start":{"line":162,"column":8},"end":{"line":164,"column":9}},"94":{"start":{"line":163,"column":12},"end":{"line":163,"column":17}},"95":{"start":{"line":168,"column":0},"end":{"line":170,"column":2}},"96":{"start":{"line":169,"column":4},"end":{"line":169,"column":73}},"97":{"start":{"line":172,"column":0},"end":{"line":175,"column":2}},"98":{"start":{"line":173,"column":4},"end":{"line":174,"column":58}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":4}},{"start":{"line":37,"column":4},"end":{"line":37,"column":4}}]},"3":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":4}},{"start":{"line":46,"column":4},"end":{"line":46,"column":4}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"5":{"line":50,"type":"cond-expr","locations":[{"start":{"line":50,"column":50},"end":{"line":50,"column":52}},{"start":{"line":50,"column":55},"end":{"line":50,"column":90}}]},"6":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":8}},{"start":{"line":53,"column":8},"end":{"line":53,"column":8}}]},"7":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":74,"column":8}},{"start":{"line":74,"column":8},"end":{"line":74,"column":8}}]},"8":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":8}},{"start":{"line":85,"column":8},"end":{"line":85,"column":8}}]},"9":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":12},"end":{"line":85,"column":16}},{"start":{"line":85,"column":20},"end":{"line":85,"column":37}}]},"10":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":8}},{"start":{"line":105,"column":8},"end":{"line":105,"column":8}}]},"11":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"12":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":22},"end":{"line":119,"column":25}},{"start":{"line":119,"column":29},"end":{"line":119,"column":36}}]},"13":{"line":124,"type":"binary-expr","locations":[{"start":{"line":124,"column":20},"end":{"line":124,"column":25}},{"start":{"line":124,"column":29},"end":{"line":124,"column":31}}]},"14":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":12},"end":{"line":126,"column":12}},{"start":{"line":126,"column":12},"end":{"line":126,"column":12}}]},"15":{"line":132,"type":"cond-expr","locations":[{"start":{"line":132,"column":27},"end":{"line":132,"column":55}},{"start":{"line":132,"column":58},"end":{"line":132,"column":60}}]},"16":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":16},"end":{"line":154,"column":16}},{"start":{"line":154,"column":16},"end":{"line":154,"column":16}}]},"17":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":4},"end":{"line":159,"column":4}},{"start":{"line":159,"column":4},"end":{"line":159,"column":4}}]},"18":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":8},"end":{"line":162,"column":8}},{"start":{"line":162,"column":8},"end":{"line":162,"column":8}}]},"19":{"line":162,"type":"binary-expr","locations":[{"start":{"line":162,"column":12},"end":{"line":162,"column":24}},{"start":{"line":162,"column":28},"end":{"line":162,"column":30}}]}},"code":["module.exports = BaseSQL;","","/**"," * Base SQL class"," */","function BaseSQL() {","}","","BaseSQL.prototype.query = function () {","    throw new Error('query method should be declared in adapter');","};","","BaseSQL.prototype.command = function (sql, callback) {","    return this.query(sql, callback);","};","","BaseSQL.prototype.queryOne = function (sql, callback) {","    return this.query(sql, function (err, data) {","        if (err) return callback(err);","        callback(err, data[0]);","    });","};","","BaseSQL.prototype.table = function (model) {","    return this._models[model].model.tableName;","};","","BaseSQL.prototype.escapeName = function (name) {","    throw new Error('escapeName method should be declared in adapter');","};","","BaseSQL.prototype.tableEscaped = function (model) {","    return this.escapeName(this.table(model));","};","","BaseSQL.prototype.define = function (descr) {","    if (!descr.settings) descr.settings = {};","    this._models[descr.model.modelName] = descr;","};","","BaseSQL.prototype.defineProperty = function (model, prop, params) {","    this._models[model].properties[prop] = params;","};","","BaseSQL.prototype.escapeId = function(id) {","    if (this.schema.settings.slave) {","        if (null === id) {","            return 'NULL';","        }","        return '\"' + ('undefined' === typeof id ? '' : id.toString().replace(/[\"\\n]/g, '')) + '\"';","    } else {","        var idNumber = Number(id);","        if (isNaN(idNumber)) {","            throw new Error('id is not a number');","        }","        return idNumber;","    }","};","","BaseSQL.prototype.save = function (model, data, callback) {","    var sql = 'UPDATE ' + this.tableEscaped(model) + ' SET ' + this.toFields(model, data) + ' WHERE ' + this.escapeName('id') + ' = ' + this.escapeId(data.id);","","    this.query(sql, function (err) {","        callback(err);","    });","};","","","BaseSQL.prototype.exists = function (model, id, callback) {","    var sql = 'SELECT 1 FROM ' +","        this.tableEscaped(model) + ' WHERE ' + this.escapeName('id') + ' = ' + this.escapeId(id) + ' LIMIT 1';","","    this.query(sql, function (err, data) {","        if (err) return callback(err);","        callback(null, data.length === 1);","    });","};","","BaseSQL.prototype.find = function find(model, id, callback) {","    var idNumber = this.escapeId(id);","    var sql = 'SELECT * FROM ' +","        this.tableEscaped(model) + ' WHERE ' + this.escapeName('id') + ' = ' + idNumber + ' LIMIT 1';","","    this.query(sql, function (err, data) {","        if (data && data.length === 1) {","            data[0].id = id;","        } else {","            data = [null];","        }","        callback(err, this.fromDatabase(model, data[0]));","    }.bind(this));","};","","BaseSQL.prototype.destroy = function destroy(model, id, callback) {","    var sql = 'DELETE FROM ' +","        this.tableEscaped(model) + ' WHERE ' + this.escapeName('id') + ' = ' + this.escapeId(id);","","    this.command(sql, function (err) {","        callback(err);","    });","};","","BaseSQL.prototype.destroyAll = function destroyAll(model, callback) {","    this.command('DELETE FROM ' + this.tableEscaped(model), function (err) {","        if (err) {","            return callback(err, []);","        }","        callback(err);","    }.bind(this));","};","","BaseSQL.prototype.count = function count(model, callback, where) {","    var self = this;","    var props = this._models[model].properties;","","    this.queryOne('SELECT count(*) as cnt FROM ' +","        this.tableEscaped(model) + ' ' + buildWhere(where), function (err, res) {","        if (err) return callback(err);","        callback(err, res && res.cnt);","    });","","    function buildWhere(conds) {","        var cs = [];","        Object.keys(conds || {}).forEach(function (key) {","            var keyEscaped = self.escapeName(key);","            if (conds[key] === null) {","                cs.push(keyEscaped + ' IS NULL');","            } else {","                cs.push(keyEscaped + ' = ' + self.toDatabase(props[key], conds[key]));","            }","        });","        return cs.length ? ' WHERE ' + cs.join(' AND ') : '';","    }","};","","BaseSQL.prototype.updateAttributes = function updateAttrs(model, id, data, cb) {","    data.id = id;","    this.save(model, data, cb);","};","","BaseSQL.prototype.disconnect = function disconnect() {","    this.client.end();","};","","BaseSQL.prototype.automigrate = function (cb) {","    var self = this;","    var wait = 0;","    Object.keys(this._models).forEach(function (model) {","        wait += 1;","        self.dropTable(model, function () {","            // console.log('drop', model);","            self.createTable(model, function (err) {","                // console.log('create', model);","                if (err) console.log(err);","                done();","            });","        });","    });","    if (wait === 0) cb();","","    function done() {","        if (--wait === 0 && cb) {","            cb();","        }","    }","};","","BaseSQL.prototype.dropTable = function (model, cb) {","    this.command('DROP TABLE IF EXISTS ' + this.tableEscaped(model), cb);","};","","BaseSQL.prototype.createTable = function (model, cb) {","    this.command('CREATE TABLE ' + this.tableEscaped(model) +","        ' (\\n  ' + this.propertiesSQL(model) + '\\n)', cb);","};","",""],"l":{"1":1,"6":1,"9":1,"10":0,"13":1,"14":0,"17":1,"18":0,"19":0,"20":0,"24":1,"25":0,"28":1,"29":0,"32":1,"33":0,"36":1,"37":0,"38":0,"41":1,"42":0,"45":1,"46":0,"47":0,"48":0,"50":0,"52":0,"53":0,"54":0,"56":0,"60":1,"61":0,"63":0,"64":0,"69":1,"70":0,"73":0,"74":0,"75":0,"79":1,"80":0,"81":0,"84":0,"85":0,"86":0,"88":0,"90":0,"94":1,"95":0,"98":0,"99":0,"103":1,"104":0,"105":0,"106":0,"108":0,"112":1,"113":0,"114":0,"116":0,"118":0,"119":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"132":0,"136":1,"137":0,"138":0,"141":1,"142":0,"145":1,"146":0,"147":0,"148":0,"149":0,"150":0,"152":0,"154":0,"155":0,"159":0,"161":1,"162":0,"163":0,"168":1,"169":0,"172":1,"173":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/test/common_test.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/test/common_test.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":1,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":1,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":1,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":1,"327":0,"328":0,"329":0,"330":0,"331":0,"332":1,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":1,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":1,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":1,"364":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":1,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":1,"386":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":1,"399":0,"400":0,"401":1,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":1,"412":0,"413":0,"414":0,"415":0,"416":1,"417":0,"418":0,"419":0,"420":0,"421":0,"422":1,"423":0,"424":0,"425":0,"426":0,"427":0,"428":1,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0,"473":0,"474":0,"475":0,"476":0,"477":0,"478":0,"479":0,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"498":0,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":0,"506":0,"507":0,"508":0,"509":0,"510":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":0,"517":0,"518":0,"519":0,"520":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"527":0,"528":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"539":0,"540":0,"541":0,"542":0,"543":0,"544":0,"545":0,"546":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0},"fnMap":{"1":{"name":"it","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}}},"2":{"name":"skip","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":20}}},"3":{"name":"testSchema","line":18,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":62}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":42},"end":{"line":27,"column":58}}},"5":{"name":"(anonymous_5)","line":33,"loc":{"start":{"line":33,"column":17},"end":{"line":33,"column":30}}},"6":{"name":"(anonymous_6)","line":42,"loc":{"start":{"line":42,"column":30},"end":{"line":42,"column":46}}},"7":{"name":"allTestsDone","line":47,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":28}}},"8":{"name":"clearAndCreate","line":68,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":47}}},"9":{"name":"(anonymous_9)","line":70,"loc":{"start":{"line":70,"column":21},"end":{"line":70,"column":33}}},"10":{"name":"nextItem","line":75,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":37}}},"11":{"name":"testOrm","line":88,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":25}}},"12":{"name":"(anonymous_12)","line":93,"loc":{"start":{"line":93,"column":30},"end":{"line":93,"column":46}}},"13":{"name":"(anonymous_13)","line":128,"loc":{"start":{"line":128,"column":49},"end":{"line":128,"column":61}}},"14":{"name":"RelatedPost","line":134,"loc":{"start":{"line":134,"column":8},"end":{"line":134,"column":31}}},"15":{"name":"(anonymous_15)","line":135,"loc":{"start":{"line":135,"column":43},"end":{"line":135,"column":55}}},"16":{"name":"(anonymous_16)","line":139,"loc":{"start":{"line":139,"column":36},"end":{"line":139,"column":57}}},"17":{"name":"(anonymous_17)","line":182,"loc":{"start":{"line":182,"column":27},"end":{"line":182,"column":42}}},"18":{"name":"(anonymous_18)","line":193,"loc":{"start":{"line":193,"column":44},"end":{"line":193,"column":60}}},"19":{"name":"(anonymous_19)","line":212,"loc":{"start":{"line":212,"column":29},"end":{"line":212,"column":45}}},"20":{"name":"(anonymous_20)","line":219,"loc":{"start":{"line":219,"column":11},"end":{"line":219,"column":31}}},"21":{"name":"(anonymous_21)","line":225,"loc":{"start":{"line":225,"column":21},"end":{"line":225,"column":41}}},"22":{"name":"(anonymous_22)","line":231,"loc":{"start":{"line":231,"column":23},"end":{"line":231,"column":43}}},"23":{"name":"(anonymous_23)","line":236,"loc":{"start":{"line":236,"column":27},"end":{"line":236,"column":39}}},"24":{"name":"(anonymous_24)","line":246,"loc":{"start":{"line":246,"column":49},"end":{"line":246,"column":65}}},"25":{"name":"(anonymous_25)","line":253,"loc":{"start":{"line":253,"column":11},"end":{"line":253,"column":31}}},"26":{"name":"(anonymous_26)","line":257,"loc":{"start":{"line":257,"column":30},"end":{"line":257,"column":42}}},"27":{"name":"(anonymous_27)","line":265,"loc":{"start":{"line":265,"column":60},"end":{"line":265,"column":76}}},"28":{"name":"(anonymous_28)","line":266,"loc":{"start":{"line":266,"column":67},"end":{"line":266,"column":88}}},"29":{"name":"(anonymous_29)","line":269,"loc":{"start":{"line":269,"column":22},"end":{"line":269,"column":34}}},"30":{"name":"(anonymous_30)","line":271,"loc":{"start":{"line":271,"column":28},"end":{"line":271,"column":49}}},"31":{"name":"(anonymous_31)","line":295,"loc":{"start":{"line":295,"column":53},"end":{"line":295,"column":69}}},"32":{"name":"(anonymous_32)","line":298,"loc":{"start":{"line":298,"column":18},"end":{"line":298,"column":44}}},"33":{"name":"(anonymous_33)","line":304,"loc":{"start":{"line":304,"column":32},"end":{"line":304,"column":48}}},"34":{"name":"(anonymous_34)","line":305,"loc":{"start":{"line":305,"column":20},"end":{"line":305,"column":41}}},"35":{"name":"(anonymous_35)","line":306,"loc":{"start":{"line":306,"column":33},"end":{"line":306,"column":56}}},"36":{"name":"(anonymous_36)","line":308,"loc":{"start":{"line":308,"column":29},"end":{"line":308,"column":41}}},"37":{"name":"(anonymous_37)","line":309,"loc":{"start":{"line":309,"column":41},"end":{"line":309,"column":64}}},"38":{"name":"(anonymous_38)","line":312,"loc":{"start":{"line":312,"column":43},"end":{"line":312,"column":63}}},"39":{"name":"(anonymous_39)","line":322,"loc":{"start":{"line":322,"column":43},"end":{"line":322,"column":59}}},"40":{"name":"(anonymous_40)","line":325,"loc":{"start":{"line":325,"column":29},"end":{"line":325,"column":49}}},"41":{"name":"calcHash","line":329,"loc":{"start":{"line":329,"column":8},"end":{"line":329,"column":38}}},"42":{"name":"(anonymous_42)","line":355,"loc":{"start":{"line":355,"column":41},"end":{"line":355,"column":57}}},"43":{"name":"(anonymous_43)","line":356,"loc":{"start":{"line":356,"column":75},"end":{"line":356,"column":96}}},"44":{"name":"(anonymous_44)","line":358,"loc":{"start":{"line":358,"column":55},"end":{"line":358,"column":67}}},"45":{"name":"(anonymous_45)","line":363,"loc":{"start":{"line":363,"column":28},"end":{"line":363,"column":49}}},"46":{"name":"(anonymous_46)","line":375,"loc":{"start":{"line":375,"column":34},"end":{"line":375,"column":50}}},"47":{"name":"(anonymous_47)","line":376,"loc":{"start":{"line":376,"column":17},"end":{"line":376,"column":39}}},"48":{"name":"(anonymous_48)","line":380,"loc":{"start":{"line":380,"column":48},"end":{"line":380,"column":61}}},"49":{"name":"(anonymous_49)","line":387,"loc":{"start":{"line":387,"column":64},"end":{"line":387,"column":80}}},"50":{"name":"(anonymous_50)","line":389,"loc":{"start":{"line":389,"column":84},"end":{"line":389,"column":105}}},"51":{"name":"(anonymous_51)","line":390,"loc":{"start":{"line":390,"column":74},"end":{"line":390,"column":94}}},"52":{"name":"(anonymous_52)","line":403,"loc":{"start":{"line":403,"column":35},"end":{"line":403,"column":51}}},"53":{"name":"(anonymous_53)","line":421,"loc":{"start":{"line":421,"column":45},"end":{"line":421,"column":61}}},"54":{"name":"(anonymous_54)","line":422,"loc":{"start":{"line":422,"column":20},"end":{"line":422,"column":38}}},"55":{"name":"(anonymous_55)","line":427,"loc":{"start":{"line":427,"column":27},"end":{"line":427,"column":48}}},"56":{"name":"(anonymous_56)","line":429,"loc":{"start":{"line":429,"column":24},"end":{"line":429,"column":46}}},"57":{"name":"(anonymous_57)","line":437,"loc":{"start":{"line":437,"column":76},"end":{"line":437,"column":90}}},"58":{"name":"(anonymous_58)","line":439,"loc":{"start":{"line":439,"column":37},"end":{"line":439,"column":55}}},"59":{"name":"(anonymous_59)","line":441,"loc":{"start":{"line":441,"column":58},"end":{"line":441,"column":76}}},"60":{"name":"(anonymous_60)","line":443,"loc":{"start":{"line":443,"column":26},"end":{"line":443,"column":44}}},"61":{"name":"(anonymous_61)","line":462,"loc":{"start":{"line":462,"column":55},"end":{"line":462,"column":71}}},"62":{"name":"(anonymous_62)","line":464,"loc":{"start":{"line":464,"column":20},"end":{"line":464,"column":36}}},"63":{"name":"(anonymous_63)","line":465,"loc":{"start":{"line":465,"column":31},"end":{"line":465,"column":47}}},"64":{"name":"(anonymous_64)","line":466,"loc":{"start":{"line":466,"column":45},"end":{"line":466,"column":65}}},"65":{"name":"(anonymous_65)","line":475,"loc":{"start":{"line":475,"column":35},"end":{"line":475,"column":51}}},"66":{"name":"(anonymous_66)","line":480,"loc":{"start":{"line":480,"column":17},"end":{"line":480,"column":39}}},"67":{"name":"(anonymous_67)","line":486,"loc":{"start":{"line":486,"column":43},"end":{"line":486,"column":63}}},"68":{"name":"(anonymous_68)","line":487,"loc":{"start":{"line":487,"column":36},"end":{"line":487,"column":60}}},"69":{"name":"(anonymous_69)","line":488,"loc":{"start":{"line":488,"column":59},"end":{"line":488,"column":70}}},"70":{"name":"(anonymous_70)","line":492,"loc":{"start":{"line":492,"column":43},"end":{"line":492,"column":63}}},"71":{"name":"(anonymous_71)","line":494,"loc":{"start":{"line":494,"column":47},"end":{"line":494,"column":68}}},"72":{"name":"(anonymous_72)","line":502,"loc":{"start":{"line":502,"column":82},"end":{"line":502,"column":102}}},"73":{"name":"(anonymous_73)","line":506,"loc":{"start":{"line":506,"column":59},"end":{"line":506,"column":79}}},"74":{"name":"(anonymous_74)","line":511,"loc":{"start":{"line":511,"column":67},"end":{"line":511,"column":87}}},"75":{"name":"(anonymous_75)","line":513,"loc":{"start":{"line":513,"column":71},"end":{"line":513,"column":92}}},"76":{"name":"(anonymous_76)","line":518,"loc":{"start":{"line":518,"column":81},"end":{"line":518,"column":102}}},"77":{"name":"(anonymous_77)","line":550,"loc":{"start":{"line":550,"column":32},"end":{"line":550,"column":48}}},"78":{"name":"(anonymous_78)","line":560,"loc":{"start":{"line":560,"column":30},"end":{"line":560,"column":51}}},"79":{"name":"(anonymous_79)","line":567,"loc":{"start":{"line":567,"column":20},"end":{"line":567,"column":38}}},"80":{"name":"done","line":576,"loc":{"start":{"line":576,"column":8},"end":{"line":576,"column":24}}},"81":{"name":"(anonymous_81)","line":581,"loc":{"start":{"line":581,"column":41},"end":{"line":581,"column":57}}},"82":{"name":"(anonymous_82)","line":590,"loc":{"start":{"line":590,"column":37},"end":{"line":590,"column":53}}},"83":{"name":"(anonymous_83)","line":606,"loc":{"start":{"line":606,"column":23},"end":{"line":606,"column":39}}},"84":{"name":"done","line":611,"loc":{"start":{"line":611,"column":8},"end":{"line":611,"column":32}}},"85":{"name":"compare","line":625,"loc":{"start":{"line":625,"column":8},"end":{"line":625,"column":31}}},"86":{"name":"doStringTest","line":633,"loc":{"start":{"line":633,"column":8},"end":{"line":633,"column":32}}},"87":{"name":"(anonymous_87)","line":635,"loc":{"start":{"line":635,"column":39},"end":{"line":635,"column":61}}},"88":{"name":"(anonymous_88)","line":638,"loc":{"start":{"line":638,"column":45},"end":{"line":638,"column":61}}},"89":{"name":"doNumberTest","line":645,"loc":{"start":{"line":645,"column":8},"end":{"line":645,"column":32}}},"90":{"name":"(anonymous_90)","line":647,"loc":{"start":{"line":647,"column":38},"end":{"line":647,"column":60}}},"91":{"name":"(anonymous_91)","line":650,"loc":{"start":{"line":650,"column":48},"end":{"line":650,"column":64}}},"92":{"name":"doFilterAndSortTest","line":658,"loc":{"start":{"line":658,"column":8},"end":{"line":658,"column":39}}},"93":{"name":"(anonymous_93)","line":660,"loc":{"start":{"line":660,"column":84},"end":{"line":660,"column":106}}},"94":{"name":"(anonymous_94)","line":664,"loc":{"start":{"line":664,"column":49},"end":{"line":664,"column":65}}},"95":{"name":"doFilterAndSortReverseTest","line":673,"loc":{"start":{"line":673,"column":8},"end":{"line":673,"column":46}}},"96":{"name":"(anonymous_96)","line":675,"loc":{"start":{"line":675,"column":89},"end":{"line":675,"column":111}}},"97":{"name":"(anonymous_97)","line":678,"loc":{"start":{"line":678,"column":49},"end":{"line":678,"column":65}}},"98":{"name":"doMultipleSortTest","line":687,"loc":{"start":{"line":687,"column":8},"end":{"line":687,"column":38}}},"99":{"name":"(anonymous_99)","line":689,"loc":{"start":{"line":689,"column":56},"end":{"line":689,"column":77}}},"100":{"name":"doMultipleReverseSortTest","line":701,"loc":{"start":{"line":701,"column":8},"end":{"line":701,"column":45}}},"101":{"name":"(anonymous_101)","line":703,"loc":{"start":{"line":703,"column":57},"end":{"line":703,"column":78}}},"102":{"name":"finished","line":716,"loc":{"start":{"line":716,"column":8},"end":{"line":716,"column":28}}},"103":{"name":"numerically","line":724,"loc":{"start":{"line":724,"column":8},"end":{"line":724,"column":35}}},"104":{"name":"(anonymous_104)","line":869,"loc":{"start":{"line":869,"column":52},"end":{"line":869,"column":68}}},"105":{"name":"(anonymous_105)","line":880,"loc":{"start":{"line":880,"column":24},"end":{"line":880,"column":36}}},"106":{"name":"(anonymous_106)","line":881,"loc":{"start":{"line":881,"column":27},"end":{"line":881,"column":44}}},"107":{"name":"done","line":887,"loc":{"start":{"line":887,"column":8},"end":{"line":887,"column":24}}},"108":{"name":"(anonymous_108)","line":888,"loc":{"start":{"line":888,"column":29},"end":{"line":888,"column":41}}},"109":{"name":"doSortTest","line":896,"loc":{"start":{"line":896,"column":8},"end":{"line":896,"column":30}}},"110":{"name":"(anonymous_110)","line":897,"loc":{"start":{"line":897,"column":66},"end":{"line":897,"column":88}}},"111":{"name":"(anonymous_111)","line":899,"loc":{"start":{"line":899,"column":30},"end":{"line":899,"column":49}}},"112":{"name":"doReverseSortTest","line":906,"loc":{"start":{"line":906,"column":8},"end":{"line":906,"column":37}}},"113":{"name":"(anonymous_113)","line":907,"loc":{"start":{"line":907,"column":67},"end":{"line":907,"column":89}}},"114":{"name":"(anonymous_114)","line":909,"loc":{"start":{"line":909,"column":30},"end":{"line":909,"column":49}}},"115":{"name":"testDone","line":916,"loc":{"start":{"line":916,"column":8},"end":{"line":916,"column":28}}},"116":{"name":"(anonymous_116)","line":921,"loc":{"start":{"line":921,"column":70},"end":{"line":921,"column":86}}},"117":{"name":"(anonymous_117)","line":922,"loc":{"start":{"line":922,"column":20},"end":{"line":922,"column":41}}},"118":{"name":"(anonymous_118)","line":925,"loc":{"start":{"line":925,"column":67},"end":{"line":925,"column":79}}},"119":{"name":"(anonymous_119)","line":926,"loc":{"start":{"line":926,"column":30},"end":{"line":926,"column":51}}},"120":{"name":"(anonymous_120)","line":935,"loc":{"start":{"line":935,"column":44},"end":{"line":935,"column":60}}},"121":{"name":"(anonymous_121)","line":945,"loc":{"start":{"line":945,"column":34},"end":{"line":945,"column":50}}},"122":{"name":"(anonymous_122)","line":947,"loc":{"start":{"line":947,"column":21},"end":{"line":947,"column":42}}},"123":{"name":"(anonymous_123)","line":949,"loc":{"start":{"line":949,"column":54},"end":{"line":949,"column":75}}},"124":{"name":"(anonymous_124)","line":956,"loc":{"start":{"line":956,"column":65},"end":{"line":956,"column":86}}},"125":{"name":"(anonymous_125)","line":1014,"loc":{"start":{"line":1014,"column":41},"end":{"line":1014,"column":57}}},"126":{"name":"(anonymous_126)","line":1020,"loc":{"start":{"line":1020,"column":37},"end":{"line":1020,"column":65}}},"127":{"name":"(anonymous_127)","line":1031,"loc":{"start":{"line":1031,"column":38},"end":{"line":1031,"column":59}}},"128":{"name":"(anonymous_128)","line":1039,"loc":{"start":{"line":1039,"column":64},"end":{"line":1039,"column":85}}},"129":{"name":"(anonymous_129)","line":1042,"loc":{"start":{"line":1042,"column":39},"end":{"line":1042,"column":60}}},"130":{"name":"(anonymous_130)","line":1051,"loc":{"start":{"line":1051,"column":54},"end":{"line":1051,"column":70}}},"131":{"name":"(anonymous_131)","line":1053,"loc":{"start":{"line":1053,"column":29},"end":{"line":1053,"column":45}}},"132":{"name":"(anonymous_132)","line":1058,"loc":{"start":{"line":1058,"column":15},"end":{"line":1058,"column":36}}},"133":{"name":"(anonymous_133)","line":1059,"loc":{"start":{"line":1059,"column":31},"end":{"line":1059,"column":52}}},"134":{"name":"(anonymous_134)","line":1062,"loc":{"start":{"line":1062,"column":58},"end":{"line":1062,"column":80}}},"135":{"name":"(anonymous_135)","line":1065,"loc":{"start":{"line":1065,"column":52},"end":{"line":1065,"column":72}}},"136":{"name":"(anonymous_136)","line":1067,"loc":{"start":{"line":1067,"column":56},"end":{"line":1067,"column":75}}},"137":{"name":"(anonymous_137)","line":1069,"loc":{"start":{"line":1069,"column":45},"end":{"line":1069,"column":66}}},"138":{"name":"(anonymous_138)","line":1080,"loc":{"start":{"line":1080,"column":64},"end":{"line":1080,"column":80}}},"139":{"name":"(anonymous_139)","line":1086,"loc":{"start":{"line":1086,"column":18},"end":{"line":1086,"column":36}}},"140":{"name":"(anonymous_140)","line":1090,"loc":{"start":{"line":1090,"column":19},"end":{"line":1090,"column":34}}},"141":{"name":"(anonymous_141)","line":1091,"loc":{"start":{"line":1091,"column":32},"end":{"line":1091,"column":51}}},"142":{"name":"(anonymous_142)","line":1103,"loc":{"start":{"line":1103,"column":28},"end":{"line":1103,"column":40}}},"143":{"name":"(anonymous_143)","line":1104,"loc":{"start":{"line":1104,"column":40},"end":{"line":1104,"column":59}}},"144":{"name":"(anonymous_144)","line":1116,"loc":{"start":{"line":1116,"column":32},"end":{"line":1116,"column":48}}},"145":{"name":"(anonymous_145)","line":1118,"loc":{"start":{"line":1118,"column":51},"end":{"line":1118,"column":69}}},"146":{"name":"(anonymous_146)","line":1121,"loc":{"start":{"line":1121,"column":66},"end":{"line":1121,"column":85}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":10}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":15}},"6":{"start":{"line":10,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":36}},"8":{"start":{"line":14,"column":0},"end":{"line":16,"column":1}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":35}},"10":{"start":{"line":18,"column":0},"end":{"line":52,"column":2}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":28}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":29}},"13":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"14":{"start":{"line":23,"column":8},"end":{"line":23,"column":61}},"15":{"start":{"line":25,"column":4},"end":{"line":25,"column":14}},"16":{"start":{"line":27,"column":4},"end":{"line":31,"column":6}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":27}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":49}},"19":{"start":{"line":29,"column":30},"end":{"line":29,"column":49}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":42}},"21":{"start":{"line":33,"column":4},"end":{"line":36,"column":6}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":23}},"23":{"start":{"line":35,"column":8},"end":{"line":35,"column":27}},"24":{"start":{"line":38,"column":4},"end":{"line":38,"column":27}},"25":{"start":{"line":40,"column":4},"end":{"line":40,"column":20}},"26":{"start":{"line":42,"column":4},"end":{"line":45,"column":6}},"27":{"start":{"line":43,"column":8},"end":{"line":43,"column":20}},"28":{"start":{"line":44,"column":8},"end":{"line":44,"column":39}},"29":{"start":{"line":47,"column":4},"end":{"line":50,"column":5}},"30":{"start":{"line":48,"column":8},"end":{"line":48,"column":28}},"31":{"start":{"line":49,"column":8},"end":{"line":49,"column":63}},"32":{"start":{"line":54,"column":0},"end":{"line":59,"column":3}},"33":{"start":{"line":61,"column":0},"end":{"line":66,"column":3}},"34":{"start":{"line":68,"column":0},"end":{"line":86,"column":1}},"35":{"start":{"line":69,"column":4},"end":{"line":69,"column":26}},"36":{"start":{"line":70,"column":4},"end":{"line":72,"column":7}},"37":{"start":{"line":71,"column":8},"end":{"line":71,"column":29}},"38":{"start":{"line":74,"column":4},"end":{"line":74,"column":22}},"39":{"start":{"line":75,"column":4},"end":{"line":85,"column":5}},"40":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"41":{"start":{"line":77,"column":12},"end":{"line":77,"column":40}},"42":{"start":{"line":79,"column":8},"end":{"line":82,"column":9}},"43":{"start":{"line":80,"column":12},"end":{"line":80,"column":35}},"44":{"start":{"line":81,"column":12},"end":{"line":81,"column":19}},"45":{"start":{"line":83,"column":8},"end":{"line":83,"column":48}},"46":{"start":{"line":84,"column":8},"end":{"line":84,"column":20}},"47":{"start":{"line":88,"column":0},"end":{"line":1129,"column":1}},"48":{"start":{"line":89,"column":4},"end":{"line":89,"column":55}},"49":{"start":{"line":91,"column":4},"end":{"line":91,"column":39}},"50":{"start":{"line":93,"column":4},"end":{"line":191,"column":7}},"51":{"start":{"line":95,"column":8},"end":{"line":103,"column":11}},"52":{"start":{"line":105,"column":8},"end":{"line":107,"column":11}},"53":{"start":{"line":109,"column":8},"end":{"line":112,"column":11}},"54":{"start":{"line":114,"column":8},"end":{"line":114,"column":67}},"55":{"start":{"line":116,"column":8},"end":{"line":119,"column":11}},"56":{"start":{"line":121,"column":8},"end":{"line":121,"column":57}},"57":{"start":{"line":122,"column":8},"end":{"line":122,"column":34}},"58":{"start":{"line":124,"column":8},"end":{"line":132,"column":29}},"59":{"start":{"line":128,"column":63},"end":{"line":128,"column":79}},"60":{"start":{"line":134,"column":8},"end":{"line":134,"column":34}},"61":{"start":{"line":135,"column":8},"end":{"line":137,"column":10}},"62":{"start":{"line":136,"column":12},"end":{"line":136,"column":31}},"63":{"start":{"line":139,"column":8},"end":{"line":141,"column":11}},"64":{"start":{"line":140,"column":12},"end":{"line":140,"column":35}},"65":{"start":{"line":143,"column":8},"end":{"line":143,"column":67}},"66":{"start":{"line":158,"column":8},"end":{"line":158,"column":67}},"67":{"start":{"line":164,"column":8},"end":{"line":166,"column":11}},"68":{"start":{"line":168,"column":8},"end":{"line":168,"column":71}},"69":{"start":{"line":169,"column":8},"end":{"line":169,"column":75}},"70":{"start":{"line":171,"column":8},"end":{"line":171,"column":28}},"71":{"start":{"line":173,"column":8},"end":{"line":173,"column":42}},"72":{"start":{"line":176,"column":8},"end":{"line":176,"column":47}},"73":{"start":{"line":177,"column":8},"end":{"line":177,"column":49}},"74":{"start":{"line":180,"column":8},"end":{"line":180,"column":47}},"75":{"start":{"line":182,"column":8},"end":{"line":189,"column":11}},"76":{"start":{"line":183,"column":12},"end":{"line":188,"column":13}},"77":{"start":{"line":184,"column":16},"end":{"line":184,"column":53}},"78":{"start":{"line":185,"column":16},"end":{"line":185,"column":33}},"79":{"start":{"line":187,"column":16},"end":{"line":187,"column":28}},"80":{"start":{"line":193,"column":4},"end":{"line":210,"column":7}},"81":{"start":{"line":194,"column":8},"end":{"line":197,"column":67}},"82":{"start":{"line":199,"column":8},"end":{"line":199,"column":35}},"83":{"start":{"line":200,"column":8},"end":{"line":200,"column":75}},"84":{"start":{"line":201,"column":8},"end":{"line":201,"column":38}},"85":{"start":{"line":202,"column":8},"end":{"line":202,"column":39}},"86":{"start":{"line":203,"column":8},"end":{"line":203,"column":47}},"87":{"start":{"line":204,"column":8},"end":{"line":204,"column":48}},"88":{"start":{"line":205,"column":8},"end":{"line":205,"column":34}},"89":{"start":{"line":206,"column":8},"end":{"line":206,"column":36}},"90":{"start":{"line":207,"column":8},"end":{"line":207,"column":45}},"91":{"start":{"line":208,"column":8},"end":{"line":208,"column":62}},"92":{"start":{"line":209,"column":8},"end":{"line":209,"column":20}},"93":{"start":{"line":212,"column":4},"end":{"line":244,"column":7}},"94":{"start":{"line":213,"column":8},"end":{"line":214,"column":28}},"95":{"start":{"line":216,"column":8},"end":{"line":243,"column":11}},"96":{"start":{"line":220,"column":12},"end":{"line":220,"column":56}},"97":{"start":{"line":221,"column":12},"end":{"line":221,"column":42}},"98":{"start":{"line":223,"column":12},"end":{"line":223,"column":31}},"99":{"start":{"line":224,"column":12},"end":{"line":224,"column":67}},"100":{"start":{"line":225,"column":12},"end":{"line":242,"column":15}},"101":{"start":{"line":226,"column":16},"end":{"line":226,"column":46}},"102":{"start":{"line":227,"column":16},"end":{"line":227,"column":55}},"103":{"start":{"line":229,"column":16},"end":{"line":229,"column":45}},"104":{"start":{"line":230,"column":16},"end":{"line":230,"column":28}},"105":{"start":{"line":231,"column":16},"end":{"line":241,"column":19}},"106":{"start":{"line":232,"column":20},"end":{"line":232,"column":57}},"107":{"start":{"line":233,"column":20},"end":{"line":233,"column":32}},"108":{"start":{"line":234,"column":20},"end":{"line":234,"column":56}},"109":{"start":{"line":235,"column":20},"end":{"line":235,"column":47}},"110":{"start":{"line":236,"column":20},"end":{"line":240,"column":23}},"111":{"start":{"line":237,"column":24},"end":{"line":237,"column":51}},"112":{"start":{"line":238,"column":24},"end":{"line":238,"column":61}},"113":{"start":{"line":239,"column":24},"end":{"line":239,"column":36}},"114":{"start":{"line":246,"column":4},"end":{"line":263,"column":7}},"115":{"start":{"line":247,"column":8},"end":{"line":248,"column":28}},"116":{"start":{"line":250,"column":8},"end":{"line":262,"column":11}},"117":{"start":{"line":254,"column":12},"end":{"line":254,"column":28}},"118":{"start":{"line":255,"column":12},"end":{"line":255,"column":42}},"119":{"start":{"line":256,"column":12},"end":{"line":256,"column":40}},"120":{"start":{"line":257,"column":12},"end":{"line":261,"column":15}},"121":{"start":{"line":258,"column":16},"end":{"line":258,"column":45}},"122":{"start":{"line":259,"column":16},"end":{"line":259,"column":65}},"123":{"start":{"line":260,"column":16},"end":{"line":260,"column":28}},"124":{"start":{"line":265,"column":4},"end":{"line":277,"column":7}},"125":{"start":{"line":266,"column":8},"end":{"line":276,"column":11}},"126":{"start":{"line":267,"column":12},"end":{"line":267,"column":42}},"127":{"start":{"line":268,"column":12},"end":{"line":268,"column":23}},"128":{"start":{"line":269,"column":12},"end":{"line":275,"column":15}},"129":{"start":{"line":270,"column":16},"end":{"line":270,"column":32}},"130":{"start":{"line":271,"column":16},"end":{"line":274,"column":19}},"131":{"start":{"line":272,"column":20},"end":{"line":272,"column":37}},"132":{"start":{"line":273,"column":20},"end":{"line":273,"column":32}},"133":{"start":{"line":295,"column":4},"end":{"line":302,"column":7}},"134":{"start":{"line":296,"column":8},"end":{"line":296,"column":36}},"135":{"start":{"line":297,"column":8},"end":{"line":297,"column":44}},"136":{"start":{"line":298,"column":8},"end":{"line":301,"column":11}},"137":{"start":{"line":299,"column":12},"end":{"line":299,"column":46}},"138":{"start":{"line":300,"column":12},"end":{"line":300,"column":24}},"139":{"start":{"line":304,"column":4},"end":{"line":320,"column":7}},"140":{"start":{"line":305,"column":8},"end":{"line":319,"column":11}},"141":{"start":{"line":306,"column":12},"end":{"line":318,"column":15}},"142":{"start":{"line":307,"column":16},"end":{"line":307,"column":49}},"143":{"start":{"line":308,"column":16},"end":{"line":317,"column":19}},"144":{"start":{"line":309,"column":20},"end":{"line":316,"column":23}},"145":{"start":{"line":310,"column":24},"end":{"line":310,"column":50}},"146":{"start":{"line":310,"column":33},"end":{"line":310,"column":50}},"147":{"start":{"line":311,"column":24},"end":{"line":311,"column":136}},"148":{"start":{"line":312,"column":24},"end":{"line":315,"column":27}},"149":{"start":{"line":313,"column":28},"end":{"line":313,"column":78}},"150":{"start":{"line":314,"column":28},"end":{"line":314,"column":40}},"151":{"start":{"line":322,"column":4},"end":{"line":341,"column":7}},"152":{"start":{"line":323,"column":8},"end":{"line":323,"column":36}},"153":{"start":{"line":325,"column":8},"end":{"line":327,"column":10}},"154":{"start":{"line":326,"column":12},"end":{"line":326,"column":52}},"155":{"start":{"line":329,"column":8},"end":{"line":335,"column":9}},"156":{"start":{"line":330,"column":12},"end":{"line":330,"column":43}},"157":{"start":{"line":331,"column":12},"end":{"line":331,"column":51}},"158":{"start":{"line":332,"column":12},"end":{"line":332,"column":30}},"159":{"start":{"line":333,"column":12},"end":{"line":333,"column":30}},"160":{"start":{"line":334,"column":12},"end":{"line":334,"column":41}},"161":{"start":{"line":337,"column":8},"end":{"line":337,"column":25}},"162":{"start":{"line":338,"column":8},"end":{"line":338,"column":28}},"163":{"start":{"line":339,"column":8},"end":{"line":339,"column":55}},"164":{"start":{"line":340,"column":8},"end":{"line":340,"column":20}},"165":{"start":{"line":355,"column":4},"end":{"line":372,"column":7}},"166":{"start":{"line":356,"column":8},"end":{"line":371,"column":11}},"167":{"start":{"line":357,"column":12},"end":{"line":357,"column":41}},"168":{"start":{"line":358,"column":12},"end":{"line":370,"column":15}},"169":{"start":{"line":359,"column":16},"end":{"line":359,"column":52}},"170":{"start":{"line":360,"column":16},"end":{"line":360,"column":56}},"171":{"start":{"line":361,"column":16},"end":{"line":361,"column":77}},"172":{"start":{"line":362,"column":16},"end":{"line":362,"column":57}},"173":{"start":{"line":363,"column":16},"end":{"line":369,"column":19}},"174":{"start":{"line":364,"column":20},"end":{"line":364,"column":56}},"175":{"start":{"line":365,"column":20},"end":{"line":365,"column":81}},"176":{"start":{"line":366,"column":20},"end":{"line":366,"column":82}},"177":{"start":{"line":367,"column":20},"end":{"line":367,"column":83}},"178":{"start":{"line":368,"column":20},"end":{"line":368,"column":32}},"179":{"start":{"line":374,"column":4},"end":{"line":374,"column":43}},"180":{"start":{"line":375,"column":4},"end":{"line":385,"column":7}},"181":{"start":{"line":376,"column":8},"end":{"line":384,"column":11}},"182":{"start":{"line":377,"column":12},"end":{"line":377,"column":40}},"183":{"start":{"line":378,"column":12},"end":{"line":378,"column":38}},"184":{"start":{"line":379,"column":12},"end":{"line":379,"column":46}},"185":{"start":{"line":380,"column":12},"end":{"line":382,"column":22}},"186":{"start":{"line":381,"column":16},"end":{"line":381,"column":43}},"187":{"start":{"line":383,"column":12},"end":{"line":383,"column":24}},"188":{"start":{"line":387,"column":4},"end":{"line":395,"column":7}},"189":{"start":{"line":388,"column":8},"end":{"line":388,"column":25}},"190":{"start":{"line":389,"column":8},"end":{"line":394,"column":11}},"191":{"start":{"line":390,"column":12},"end":{"line":393,"column":15}},"192":{"start":{"line":391,"column":16},"end":{"line":391,"column":79}},"193":{"start":{"line":392,"column":16},"end":{"line":392,"column":28}},"194":{"start":{"line":397,"column":4},"end":{"line":418,"column":7}},"195":{"start":{"line":403,"column":4},"end":{"line":418,"column":7}},"196":{"start":{"line":404,"column":8},"end":{"line":404,"column":67}},"197":{"start":{"line":405,"column":8},"end":{"line":405,"column":77}},"198":{"start":{"line":406,"column":8},"end":{"line":406,"column":96}},"199":{"start":{"line":407,"column":8},"end":{"line":407,"column":90}},"200":{"start":{"line":408,"column":8},"end":{"line":408,"column":96}},"201":{"start":{"line":409,"column":8},"end":{"line":409,"column":104}},"202":{"start":{"line":411,"column":8},"end":{"line":411,"column":67}},"203":{"start":{"line":412,"column":8},"end":{"line":412,"column":79}},"204":{"start":{"line":413,"column":8},"end":{"line":413,"column":103}},"205":{"start":{"line":414,"column":8},"end":{"line":414,"column":98}},"206":{"start":{"line":415,"column":8},"end":{"line":415,"column":101}},"207":{"start":{"line":416,"column":8},"end":{"line":416,"column":101}},"208":{"start":{"line":417,"column":8},"end":{"line":417,"column":20}},"209":{"start":{"line":421,"column":4},"end":{"line":435,"column":7}},"210":{"start":{"line":422,"column":8},"end":{"line":434,"column":11}},"211":{"start":{"line":423,"column":12},"end":{"line":423,"column":45}},"212":{"start":{"line":423,"column":21},"end":{"line":423,"column":45}},"213":{"start":{"line":424,"column":12},"end":{"line":424,"column":54}},"214":{"start":{"line":425,"column":12},"end":{"line":425,"column":66}},"215":{"start":{"line":426,"column":12},"end":{"line":426,"column":68}},"216":{"start":{"line":427,"column":12},"end":{"line":433,"column":15}},"217":{"start":{"line":428,"column":16},"end":{"line":428,"column":49}},"218":{"start":{"line":428,"column":25},"end":{"line":428,"column":49}},"219":{"start":{"line":429,"column":16},"end":{"line":432,"column":19}},"220":{"start":{"line":430,"column":20},"end":{"line":430,"column":78}},"221":{"start":{"line":431,"column":20},"end":{"line":431,"column":32}},"222":{"start":{"line":437,"column":4},"end":{"line":460,"column":7}},"223":{"start":{"line":439,"column":8},"end":{"line":459,"column":11}},"224":{"start":{"line":440,"column":12},"end":{"line":440,"column":40}},"225":{"start":{"line":441,"column":12},"end":{"line":458,"column":15}},"226":{"start":{"line":442,"column":16},"end":{"line":442,"column":44}},"227":{"start":{"line":443,"column":16},"end":{"line":457,"column":19}},"228":{"start":{"line":444,"column":20},"end":{"line":444,"column":63}},"229":{"start":{"line":445,"column":20},"end":{"line":447,"column":21}},"230":{"start":{"line":446,"column":24},"end":{"line":446,"column":53}},"231":{"start":{"line":448,"column":20},"end":{"line":448,"column":71}},"232":{"start":{"line":449,"column":20},"end":{"line":449,"column":70}},"233":{"start":{"line":450,"column":20},"end":{"line":452,"column":21}},"234":{"start":{"line":451,"column":24},"end":{"line":451,"column":65}},"235":{"start":{"line":453,"column":20},"end":{"line":455,"column":21}},"236":{"start":{"line":454,"column":24},"end":{"line":454,"column":89}},"237":{"start":{"line":456,"column":20},"end":{"line":456,"column":32}},"238":{"start":{"line":462,"column":4},"end":{"line":473,"column":7}},"239":{"start":{"line":464,"column":8},"end":{"line":471,"column":11}},"240":{"start":{"line":465,"column":12},"end":{"line":470,"column":15}},"241":{"start":{"line":466,"column":16},"end":{"line":469,"column":19}},"242":{"start":{"line":467,"column":20},"end":{"line":467,"column":80}},"243":{"start":{"line":468,"column":20},"end":{"line":468,"column":32}},"244":{"start":{"line":475,"column":4},"end":{"line":542,"column":7}},"245":{"start":{"line":480,"column":8},"end":{"line":540,"column":11}},"246":{"start":{"line":482,"column":12},"end":{"line":539,"column":13}},"247":{"start":{"line":483,"column":16},"end":{"line":483,"column":36}},"248":{"start":{"line":484,"column":16},"end":{"line":538,"column":17}},"249":{"start":{"line":486,"column":20},"end":{"line":536,"column":23}},"250":{"start":{"line":487,"column":24},"end":{"line":535,"column":27}},"251":{"start":{"line":488,"column":28},"end":{"line":534,"column":31}},"252":{"start":{"line":492,"column":32},"end":{"line":532,"column":35}},"253":{"start":{"line":493,"column":36},"end":{"line":493,"column":77}},"254":{"start":{"line":494,"column":36},"end":{"line":531,"column":39}},"255":{"start":{"line":495,"column":40},"end":{"line":495,"column":95}},"256":{"start":{"line":496,"column":40},"end":{"line":496,"column":148}},"257":{"start":{"line":497,"column":40},"end":{"line":497,"column":170}},"258":{"start":{"line":499,"column":40},"end":{"line":529,"column":41}},"259":{"start":{"line":500,"column":44},"end":{"line":500,"column":56}},"260":{"start":{"line":502,"column":44},"end":{"line":528,"column":47}},"261":{"start":{"line":503,"column":48},"end":{"line":503,"column":109}},"262":{"start":{"line":504,"column":48},"end":{"line":504,"column":191}},"263":{"start":{"line":506,"column":48},"end":{"line":527,"column":51}},"264":{"start":{"line":507,"column":52},"end":{"line":507,"column":179}},"265":{"start":{"line":508,"column":52},"end":{"line":508,"column":186}},"266":{"start":{"line":511,"column":52},"end":{"line":525,"column":55}},"267":{"start":{"line":512,"column":56},"end":{"line":512,"column":97}},"268":{"start":{"line":513,"column":56},"end":{"line":524,"column":59}},"269":{"start":{"line":514,"column":60},"end":{"line":514,"column":127}},"270":{"start":{"line":515,"column":60},"end":{"line":515,"column":128}},"271":{"start":{"line":516,"column":60},"end":{"line":516,"column":190}},"272":{"start":{"line":518,"column":60},"end":{"line":523,"column":63}},"273":{"start":{"line":519,"column":64},"end":{"line":519,"column":126}},"274":{"start":{"line":520,"column":64},"end":{"line":520,"column":205}},"275":{"start":{"line":522,"column":64},"end":{"line":522,"column":76}},"276":{"start":{"line":537,"column":20},"end":{"line":537,"column":26}},"277":{"start":{"line":550,"column":4},"end":{"line":579,"column":7}},"278":{"start":{"line":551,"column":8},"end":{"line":551,"column":21}},"279":{"start":{"line":553,"column":8},"end":{"line":553,"column":47}},"280":{"start":{"line":554,"column":8},"end":{"line":554,"column":60}},"281":{"start":{"line":555,"column":8},"end":{"line":555,"column":54}},"282":{"start":{"line":556,"column":8},"end":{"line":556,"column":64}},"283":{"start":{"line":557,"column":8},"end":{"line":557,"column":42}},"284":{"start":{"line":558,"column":8},"end":{"line":558,"column":45}},"285":{"start":{"line":559,"column":8},"end":{"line":559,"column":36}},"286":{"start":{"line":560,"column":8},"end":{"line":565,"column":11}},"287":{"start":{"line":561,"column":12},"end":{"line":561,"column":45}},"288":{"start":{"line":561,"column":21},"end":{"line":561,"column":45}},"289":{"start":{"line":562,"column":12},"end":{"line":562,"column":36}},"290":{"start":{"line":563,"column":12},"end":{"line":563,"column":41}},"291":{"start":{"line":564,"column":12},"end":{"line":564,"column":19}},"292":{"start":{"line":567,"column":8},"end":{"line":574,"column":11}},"293":{"start":{"line":568,"column":12},"end":{"line":568,"column":45}},"294":{"start":{"line":568,"column":21},"end":{"line":568,"column":45}},"295":{"start":{"line":569,"column":12},"end":{"line":569,"column":60}},"296":{"start":{"line":570,"column":12},"end":{"line":570,"column":62}},"297":{"start":{"line":571,"column":12},"end":{"line":571,"column":50}},"298":{"start":{"line":572,"column":12},"end":{"line":572,"column":68}},"299":{"start":{"line":573,"column":12},"end":{"line":573,"column":19}},"300":{"start":{"line":576,"column":8},"end":{"line":578,"column":9}},"301":{"start":{"line":577,"column":12},"end":{"line":577,"column":42}},"302":{"start":{"line":577,"column":30},"end":{"line":577,"column":42}},"303":{"start":{"line":581,"column":4},"end":{"line":588,"column":7}},"304":{"start":{"line":582,"column":8},"end":{"line":582,"column":57}},"305":{"start":{"line":583,"column":8},"end":{"line":583,"column":57}},"306":{"start":{"line":584,"column":8},"end":{"line":584,"column":25}},"307":{"start":{"line":585,"column":8},"end":{"line":585,"column":54}},"308":{"start":{"line":586,"column":8},"end":{"line":586,"column":54}},"309":{"start":{"line":587,"column":8},"end":{"line":587,"column":20}},"310":{"start":{"line":590,"column":4},"end":{"line":728,"column":7}},"311":{"start":{"line":591,"column":8},"end":{"line":596,"column":59}},"312":{"start":{"line":597,"column":8},"end":{"line":597,"column":51}},"313":{"start":{"line":598,"column":8},"end":{"line":605,"column":10}},"314":{"start":{"line":606,"column":8},"end":{"line":608,"column":11}},"315":{"start":{"line":607,"column":12},"end":{"line":607,"column":84}},"316":{"start":{"line":610,"column":8},"end":{"line":610,"column":29}},"317":{"start":{"line":611,"column":8},"end":{"line":623,"column":9}},"318":{"start":{"line":612,"column":12},"end":{"line":622,"column":13}},"319":{"start":{"line":613,"column":16},"end":{"line":613,"column":38}},"320":{"start":{"line":614,"column":16},"end":{"line":614,"column":45}},"321":{"start":{"line":615,"column":16},"end":{"line":615,"column":31}},"322":{"start":{"line":616,"column":16},"end":{"line":616,"column":31}},"323":{"start":{"line":618,"column":16},"end":{"line":621,"column":17}},"324":{"start":{"line":619,"column":20},"end":{"line":619,"column":41}},"325":{"start":{"line":620,"column":20},"end":{"line":620,"column":48}},"326":{"start":{"line":625,"column":8},"end":{"line":629,"column":9}},"327":{"start":{"line":626,"column":12},"end":{"line":626,"column":45}},"328":{"start":{"line":626,"column":35},"end":{"line":626,"column":45}},"329":{"start":{"line":627,"column":12},"end":{"line":627,"column":44}},"330":{"start":{"line":627,"column":35},"end":{"line":627,"column":44}},"331":{"start":{"line":628,"column":12},"end":{"line":628,"column":21}},"332":{"start":{"line":633,"column":8},"end":{"line":643,"column":9}},"333":{"start":{"line":634,"column":12},"end":{"line":634,"column":23}},"334":{"start":{"line":635,"column":12},"end":{"line":642,"column":15}},"335":{"start":{"line":636,"column":16},"end":{"line":636,"column":42}},"336":{"start":{"line":636,"column":25},"end":{"line":636,"column":42}},"337":{"start":{"line":637,"column":16},"end":{"line":637,"column":44}},"338":{"start":{"line":638,"column":16},"end":{"line":640,"column":19}},"339":{"start":{"line":639,"column":20},"end":{"line":639,"column":70}},"340":{"start":{"line":639,"column":34},"end":{"line":639,"column":70}},"341":{"start":{"line":641,"column":16},"end":{"line":641,"column":27}},"342":{"start":{"line":645,"column":8},"end":{"line":656,"column":9}},"343":{"start":{"line":646,"column":12},"end":{"line":646,"column":23}},"344":{"start":{"line":647,"column":12},"end":{"line":655,"column":15}},"345":{"start":{"line":648,"column":16},"end":{"line":648,"column":42}},"346":{"start":{"line":648,"column":25},"end":{"line":648,"column":42}},"347":{"start":{"line":649,"column":16},"end":{"line":649,"column":44}},"348":{"start":{"line":650,"column":16},"end":{"line":653,"column":19}},"349":{"start":{"line":651,"column":20},"end":{"line":652,"column":87}},"350":{"start":{"line":652,"column":20},"end":{"line":652,"column":87}},"351":{"start":{"line":654,"column":16},"end":{"line":654,"column":27}},"352":{"start":{"line":658,"column":8},"end":{"line":671,"column":9}},"353":{"start":{"line":659,"column":12},"end":{"line":659,"column":23}},"354":{"start":{"line":660,"column":12},"end":{"line":670,"column":15}},"355":{"start":{"line":661,"column":16},"end":{"line":661,"column":42}},"356":{"start":{"line":661,"column":25},"end":{"line":661,"column":42}},"357":{"start":{"line":662,"column":16},"end":{"line":662,"column":42}},"358":{"start":{"line":663,"column":16},"end":{"line":663,"column":81}},"359":{"start":{"line":664,"column":16},"end":{"line":668,"column":19}},"360":{"start":{"line":665,"column":20},"end":{"line":667,"column":21}},"361":{"start":{"line":666,"column":24},"end":{"line":666,"column":77}},"362":{"start":{"line":669,"column":16},"end":{"line":669,"column":27}},"363":{"start":{"line":673,"column":8},"end":{"line":685,"column":9}},"364":{"start":{"line":674,"column":12},"end":{"line":674,"column":23}},"365":{"start":{"line":675,"column":12},"end":{"line":684,"column":15}},"366":{"start":{"line":676,"column":16},"end":{"line":676,"column":42}},"367":{"start":{"line":676,"column":25},"end":{"line":676,"column":42}},"368":{"start":{"line":677,"column":16},"end":{"line":677,"column":81}},"369":{"start":{"line":678,"column":16},"end":{"line":682,"column":19}},"370":{"start":{"line":679,"column":20},"end":{"line":681,"column":21}},"371":{"start":{"line":680,"column":24},"end":{"line":680,"column":84}},"372":{"start":{"line":683,"column":16},"end":{"line":683,"column":27}},"373":{"start":{"line":687,"column":8},"end":{"line":699,"column":9}},"374":{"start":{"line":688,"column":12},"end":{"line":688,"column":23}},"375":{"start":{"line":689,"column":12},"end":{"line":698,"column":15}},"376":{"start":{"line":690,"column":16},"end":{"line":690,"column":42}},"377":{"start":{"line":690,"column":25},"end":{"line":690,"column":42}},"378":{"start":{"line":691,"column":16},"end":{"line":691,"column":44}},"379":{"start":{"line":692,"column":16},"end":{"line":692,"column":54}},"380":{"start":{"line":693,"column":16},"end":{"line":693,"column":50}},"381":{"start":{"line":694,"column":16},"end":{"line":694,"column":54}},"382":{"start":{"line":695,"column":16},"end":{"line":695,"column":50}},"383":{"start":{"line":696,"column":16},"end":{"line":696,"column":54}},"384":{"start":{"line":697,"column":16},"end":{"line":697,"column":27}},"385":{"start":{"line":701,"column":8},"end":{"line":713,"column":9}},"386":{"start":{"line":702,"column":12},"end":{"line":702,"column":23}},"387":{"start":{"line":703,"column":12},"end":{"line":712,"column":15}},"388":{"start":{"line":704,"column":16},"end":{"line":704,"column":42}},"389":{"start":{"line":704,"column":25},"end":{"line":704,"column":42}},"390":{"start":{"line":705,"column":16},"end":{"line":705,"column":44}},"391":{"start":{"line":706,"column":16},"end":{"line":706,"column":54}},"392":{"start":{"line":707,"column":16},"end":{"line":707,"column":50}},"393":{"start":{"line":708,"column":16},"end":{"line":708,"column":53}},"394":{"start":{"line":709,"column":16},"end":{"line":709,"column":50}},"395":{"start":{"line":710,"column":16},"end":{"line":710,"column":54}},"396":{"start":{"line":711,"column":16},"end":{"line":711,"column":27}},"397":{"start":{"line":715,"column":8},"end":{"line":715,"column":20}},"398":{"start":{"line":716,"column":8},"end":{"line":720,"column":9}},"399":{"start":{"line":717,"column":12},"end":{"line":719,"column":13}},"400":{"start":{"line":718,"column":16},"end":{"line":718,"column":28}},"401":{"start":{"line":724,"column":8},"end":{"line":726,"column":9}},"402":{"start":{"line":725,"column":12},"end":{"line":725,"column":25}},"403":{"start":{"line":869,"column":4},"end":{"line":919,"column":7}},"404":{"start":{"line":870,"column":8},"end":{"line":870,"column":21}},"405":{"start":{"line":871,"column":8},"end":{"line":879,"column":10}},"406":{"start":{"line":880,"column":8},"end":{"line":885,"column":11}},"407":{"start":{"line":881,"column":12},"end":{"line":884,"column":15}},"408":{"start":{"line":882,"column":16},"end":{"line":882,"column":26}},"409":{"start":{"line":883,"column":16},"end":{"line":883,"column":64}},"410":{"start":{"line":886,"column":8},"end":{"line":886,"column":22}},"411":{"start":{"line":887,"column":8},"end":{"line":894,"column":9}},"412":{"start":{"line":888,"column":12},"end":{"line":893,"column":15}},"413":{"start":{"line":889,"column":16},"end":{"line":892,"column":17}},"414":{"start":{"line":890,"column":20},"end":{"line":890,"column":33}},"415":{"start":{"line":891,"column":20},"end":{"line":891,"column":40}},"416":{"start":{"line":896,"column":8},"end":{"line":904,"column":9}},"417":{"start":{"line":897,"column":12},"end":{"line":903,"column":15}},"418":{"start":{"line":898,"column":16},"end":{"line":898,"column":44}},"419":{"start":{"line":899,"column":16},"end":{"line":901,"column":19}},"420":{"start":{"line":900,"column":20},"end":{"line":900,"column":70}},"421":{"start":{"line":902,"column":16},"end":{"line":902,"column":27}},"422":{"start":{"line":906,"column":8},"end":{"line":914,"column":9}},"423":{"start":{"line":907,"column":12},"end":{"line":913,"column":15}},"424":{"start":{"line":908,"column":16},"end":{"line":908,"column":54}},"425":{"start":{"line":909,"column":16},"end":{"line":911,"column":19}},"426":{"start":{"line":910,"column":20},"end":{"line":910,"column":71}},"427":{"start":{"line":912,"column":16},"end":{"line":912,"column":27}},"428":{"start":{"line":916,"column":8},"end":{"line":918,"column":9}},"429":{"start":{"line":917,"column":12},"end":{"line":917,"column":43}},"430":{"start":{"line":917,"column":31},"end":{"line":917,"column":43}},"431":{"start":{"line":921,"column":4},"end":{"line":933,"column":7}},"432":{"start":{"line":922,"column":8},"end":{"line":932,"column":11}},"433":{"start":{"line":923,"column":12},"end":{"line":923,"column":29}},"434":{"start":{"line":924,"column":12},"end":{"line":924,"column":46}},"435":{"start":{"line":925,"column":12},"end":{"line":931,"column":15}},"436":{"start":{"line":926,"column":16},"end":{"line":930,"column":19}},"437":{"start":{"line":927,"column":20},"end":{"line":927,"column":70}},"438":{"start":{"line":928,"column":20},"end":{"line":928,"column":37}},"439":{"start":{"line":929,"column":20},"end":{"line":929,"column":32}},"440":{"start":{"line":935,"column":4},"end":{"line":943,"column":7}},"441":{"start":{"line":936,"column":8},"end":{"line":936,"column":51}},"442":{"start":{"line":938,"column":8},"end":{"line":938,"column":41}},"443":{"start":{"line":940,"column":8},"end":{"line":940,"column":27}},"444":{"start":{"line":941,"column":8},"end":{"line":941,"column":41}},"445":{"start":{"line":942,"column":8},"end":{"line":942,"column":20}},"446":{"start":{"line":945,"column":4},"end":{"line":962,"column":7}},"447":{"start":{"line":946,"column":8},"end":{"line":946,"column":23}},"448":{"start":{"line":947,"column":8},"end":{"line":961,"column":11}},"449":{"start":{"line":948,"column":12},"end":{"line":948,"column":37}},"450":{"start":{"line":949,"column":12},"end":{"line":960,"column":15}},"451":{"start":{"line":950,"column":16},"end":{"line":953,"column":17}},"452":{"start":{"line":951,"column":20},"end":{"line":951,"column":37}},"453":{"start":{"line":952,"column":20},"end":{"line":952,"column":39}},"454":{"start":{"line":954,"column":16},"end":{"line":954,"column":71}},"455":{"start":{"line":955,"column":16},"end":{"line":955,"column":54}},"456":{"start":{"line":956,"column":16},"end":{"line":959,"column":19}},"457":{"start":{"line":957,"column":20},"end":{"line":957,"column":43}},"458":{"start":{"line":958,"column":20},"end":{"line":958,"column":32}},"459":{"start":{"line":1013,"column":4},"end":{"line":1049,"column":7}},"460":{"start":{"line":1014,"column":4},"end":{"line":1049,"column":7}},"461":{"start":{"line":1015,"column":8},"end":{"line":1019,"column":10}},"462":{"start":{"line":1020,"column":8},"end":{"line":1048,"column":11}},"463":{"start":{"line":1021,"column":12},"end":{"line":1021,"column":31}},"464":{"start":{"line":1021,"column":21},"end":{"line":1021,"column":31}},"465":{"start":{"line":1022,"column":12},"end":{"line":1022,"column":33}},"466":{"start":{"line":1023,"column":12},"end":{"line":1023,"column":54}},"467":{"start":{"line":1023,"column":30},"end":{"line":1023,"column":54}},"468":{"start":{"line":1025,"column":12},"end":{"line":1027,"column":13}},"469":{"start":{"line":1026,"column":16},"end":{"line":1026,"column":66}},"470":{"start":{"line":1028,"column":12},"end":{"line":1028,"column":68}},"471":{"start":{"line":1029,"column":12},"end":{"line":1029,"column":72}},"472":{"start":{"line":1031,"column":12},"end":{"line":1047,"column":15}},"473":{"start":{"line":1032,"column":16},"end":{"line":1032,"column":35}},"474":{"start":{"line":1032,"column":25},"end":{"line":1032,"column":35}},"475":{"start":{"line":1033,"column":16},"end":{"line":1033,"column":51}},"476":{"start":{"line":1033,"column":27},"end":{"line":1033,"column":51}},"477":{"start":{"line":1034,"column":16},"end":{"line":1036,"column":17}},"478":{"start":{"line":1035,"column":20},"end":{"line":1035,"column":63}},"479":{"start":{"line":1037,"column":16},"end":{"line":1037,"column":65}},"480":{"start":{"line":1038,"column":16},"end":{"line":1038,"column":69}},"481":{"start":{"line":1039,"column":16},"end":{"line":1046,"column":19}},"482":{"start":{"line":1040,"column":20},"end":{"line":1040,"column":79}},"483":{"start":{"line":1040,"column":51},"end":{"line":1040,"column":79}},"484":{"start":{"line":1041,"column":20},"end":{"line":1041,"column":50}},"485":{"start":{"line":1042,"column":20},"end":{"line":1045,"column":23}},"486":{"start":{"line":1043,"column":24},"end":{"line":1043,"column":59}},"487":{"start":{"line":1043,"column":35},"end":{"line":1043,"column":59}},"488":{"start":{"line":1044,"column":24},"end":{"line":1044,"column":36}},"489":{"start":{"line":1051,"column":4},"end":{"line":1078,"column":7}},"490":{"start":{"line":1052,"column":8},"end":{"line":1052,"column":55}},"491":{"start":{"line":1053,"column":8},"end":{"line":1055,"column":10}},"492":{"start":{"line":1054,"column":12},"end":{"line":1054,"column":41}},"493":{"start":{"line":1056,"column":8},"end":{"line":1056,"column":45}},"494":{"start":{"line":1057,"column":8},"end":{"line":1057,"column":43}},"495":{"start":{"line":1058,"column":8},"end":{"line":1077,"column":11}},"496":{"start":{"line":1059,"column":12},"end":{"line":1076,"column":15}},"497":{"start":{"line":1060,"column":16},"end":{"line":1060,"column":36}},"498":{"start":{"line":1061,"column":16},"end":{"line":1061,"column":54}},"499":{"start":{"line":1062,"column":16},"end":{"line":1075,"column":19}},"500":{"start":{"line":1063,"column":20},"end":{"line":1063,"column":47}},"501":{"start":{"line":1064,"column":20},"end":{"line":1064,"column":62}},"502":{"start":{"line":1065,"column":20},"end":{"line":1074,"column":23}},"503":{"start":{"line":1066,"column":24},"end":{"line":1066,"column":61}},"504":{"start":{"line":1067,"column":24},"end":{"line":1073,"column":27}},"505":{"start":{"line":1068,"column":28},"end":{"line":1068,"column":64}},"506":{"start":{"line":1069,"column":28},"end":{"line":1072,"column":31}},"507":{"start":{"line":1070,"column":32},"end":{"line":1070,"column":70}},"508":{"start":{"line":1071,"column":32},"end":{"line":1071,"column":44}},"509":{"start":{"line":1080,"column":4},"end":{"line":1114,"column":7}},"510":{"start":{"line":1081,"column":8},"end":{"line":1081,"column":28}},"511":{"start":{"line":1082,"column":8},"end":{"line":1082,"column":49}},"512":{"start":{"line":1083,"column":8},"end":{"line":1083,"column":54}},"513":{"start":{"line":1084,"column":8},"end":{"line":1084,"column":58}},"514":{"start":{"line":1085,"column":8},"end":{"line":1085,"column":36}},"515":{"start":{"line":1086,"column":8},"end":{"line":1113,"column":11}},"516":{"start":{"line":1087,"column":12},"end":{"line":1087,"column":42}},"517":{"start":{"line":1088,"column":12},"end":{"line":1088,"column":38}},"518":{"start":{"line":1089,"column":12},"end":{"line":1089,"column":37}},"519":{"start":{"line":1090,"column":12},"end":{"line":1112,"column":15}},"520":{"start":{"line":1091,"column":16},"end":{"line":1111,"column":19}},"521":{"start":{"line":1092,"column":20},"end":{"line":1092,"column":51}},"522":{"start":{"line":1093,"column":20},"end":{"line":1093,"column":47}},"523":{"start":{"line":1094,"column":20},"end":{"line":1094,"column":48}},"524":{"start":{"line":1095,"column":20},"end":{"line":1095,"column":45}},"525":{"start":{"line":1096,"column":20},"end":{"line":1096,"column":39}},"526":{"start":{"line":1097,"column":20},"end":{"line":1097,"column":51}},"527":{"start":{"line":1098,"column":20},"end":{"line":1098,"column":42}},"528":{"start":{"line":1099,"column":20},"end":{"line":1099,"column":49}},"529":{"start":{"line":1100,"column":20},"end":{"line":1100,"column":51}},"530":{"start":{"line":1101,"column":20},"end":{"line":1101,"column":42}},"531":{"start":{"line":1102,"column":20},"end":{"line":1102,"column":41}},"532":{"start":{"line":1103,"column":20},"end":{"line":1110,"column":23}},"533":{"start":{"line":1104,"column":24},"end":{"line":1109,"column":27}},"534":{"start":{"line":1105,"column":28},"end":{"line":1105,"column":59}},"535":{"start":{"line":1106,"column":28},"end":{"line":1106,"column":50}},"536":{"start":{"line":1107,"column":28},"end":{"line":1107,"column":49}},"537":{"start":{"line":1108,"column":28},"end":{"line":1108,"column":40}},"538":{"start":{"line":1116,"column":4},"end":{"line":1127,"column":7}},"539":{"start":{"line":1117,"column":8},"end":{"line":1117,"column":50}},"540":{"start":{"line":1118,"column":8},"end":{"line":1126,"column":11}},"541":{"start":{"line":1119,"column":12},"end":{"line":1119,"column":23}},"542":{"start":{"line":1120,"column":12},"end":{"line":1120,"column":28}},"543":{"start":{"line":1121,"column":12},"end":{"line":1125,"column":15}},"544":{"start":{"line":1122,"column":16},"end":{"line":1122,"column":80}},"545":{"start":{"line":1123,"column":16},"end":{"line":1123,"column":33}},"546":{"start":{"line":1124,"column":16},"end":{"line":1124,"column":28}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"2":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":8}},{"start":{"line":29,"column":8},"end":{"line":29,"column":8}}]},"3":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"4":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]},"5":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":12},"end":{"line":183,"column":12}},{"start":{"line":183,"column":12},"end":{"line":183,"column":12}}]},"6":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":24},"end":{"line":310,"column":24}},{"start":{"line":310,"column":24},"end":{"line":310,"column":24}}]},"7":{"line":397,"type":"if","locations":[{"start":{"line":397,"column":4},"end":{"line":397,"column":4}},{"start":{"line":397,"column":4},"end":{"line":397,"column":4}}]},"8":{"line":398,"type":"binary-expr","locations":[{"start":{"line":398,"column":8},"end":{"line":398,"column":35}},{"start":{"line":399,"column":12},"end":{"line":399,"column":36}},{"start":{"line":400,"column":12},"end":{"line":400,"column":35}},{"start":{"line":401,"column":12},"end":{"line":401,"column":36}}]},"9":{"line":423,"type":"if","locations":[{"start":{"line":423,"column":12},"end":{"line":423,"column":12}},{"start":{"line":423,"column":12},"end":{"line":423,"column":12}}]},"10":{"line":428,"type":"if","locations":[{"start":{"line":428,"column":16},"end":{"line":428,"column":16}},{"start":{"line":428,"column":16},"end":{"line":428,"column":16}}]},"11":{"line":445,"type":"if","locations":[{"start":{"line":445,"column":20},"end":{"line":445,"column":20}},{"start":{"line":445,"column":20},"end":{"line":445,"column":20}}]},"12":{"line":450,"type":"if","locations":[{"start":{"line":450,"column":20},"end":{"line":450,"column":20}},{"start":{"line":450,"column":20},"end":{"line":450,"column":20}}]},"13":{"line":453,"type":"if","locations":[{"start":{"line":453,"column":20},"end":{"line":453,"column":20}},{"start":{"line":453,"column":20},"end":{"line":453,"column":20}}]},"14":{"line":453,"type":"binary-expr","locations":[{"start":{"line":453,"column":23},"end":{"line":453,"column":26}},{"start":{"line":453,"column":30},"end":{"line":453,"column":38}}]},"15":{"line":484,"type":"if","locations":[{"start":{"line":484,"column":16},"end":{"line":484,"column":16}},{"start":{"line":484,"column":16},"end":{"line":484,"column":16}}]},"16":{"line":497,"type":"binary-expr","locations":[{"start":{"line":497,"column":40},"end":{"line":497,"column":58}},{"start":{"line":497,"column":62},"end":{"line":497,"column":169}}]},"17":{"line":499,"type":"if","locations":[{"start":{"line":499,"column":40},"end":{"line":499,"column":40}},{"start":{"line":499,"column":40},"end":{"line":499,"column":40}}]},"18":{"line":504,"type":"binary-expr","locations":[{"start":{"line":504,"column":48},"end":{"line":504,"column":66}},{"start":{"line":504,"column":70},"end":{"line":504,"column":190}}]},"19":{"line":508,"type":"binary-expr","locations":[{"start":{"line":508,"column":52},"end":{"line":508,"column":70}},{"start":{"line":508,"column":74},"end":{"line":508,"column":185}}]},"20":{"line":516,"type":"binary-expr","locations":[{"start":{"line":516,"column":60},"end":{"line":516,"column":78}},{"start":{"line":516,"column":82},"end":{"line":516,"column":189}}]},"21":{"line":520,"type":"binary-expr","locations":[{"start":{"line":520,"column":64},"end":{"line":520,"column":82}},{"start":{"line":520,"column":86},"end":{"line":520,"column":204}}]},"22":{"line":561,"type":"if","locations":[{"start":{"line":561,"column":12},"end":{"line":561,"column":12}},{"start":{"line":561,"column":12},"end":{"line":561,"column":12}}]},"23":{"line":568,"type":"if","locations":[{"start":{"line":568,"column":12},"end":{"line":568,"column":12}},{"start":{"line":568,"column":12},"end":{"line":568,"column":12}}]},"24":{"line":577,"type":"if","locations":[{"start":{"line":577,"column":12},"end":{"line":577,"column":12}},{"start":{"line":577,"column":12},"end":{"line":577,"column":12}}]},"25":{"line":598,"type":"cond-expr","locations":[{"start":{"line":598,"column":30},"end":{"line":598,"column":52}},{"start":{"line":598,"column":55},"end":{"line":605,"column":9}}]},"26":{"line":612,"type":"if","locations":[{"start":{"line":612,"column":12},"end":{"line":612,"column":12}},{"start":{"line":612,"column":12},"end":{"line":612,"column":12}}]},"27":{"line":618,"type":"if","locations":[{"start":{"line":618,"column":16},"end":{"line":618,"column":16}},{"start":{"line":618,"column":16},"end":{"line":618,"column":16}}]},"28":{"line":626,"type":"if","locations":[{"start":{"line":626,"column":12},"end":{"line":626,"column":12}},{"start":{"line":626,"column":12},"end":{"line":626,"column":12}}]},"29":{"line":627,"type":"if","locations":[{"start":{"line":627,"column":12},"end":{"line":627,"column":12}},{"start":{"line":627,"column":12},"end":{"line":627,"column":12}}]},"30":{"line":636,"type":"if","locations":[{"start":{"line":636,"column":16},"end":{"line":636,"column":16}},{"start":{"line":636,"column":16},"end":{"line":636,"column":16}}]},"31":{"line":639,"type":"if","locations":[{"start":{"line":639,"column":20},"end":{"line":639,"column":20}},{"start":{"line":639,"column":20},"end":{"line":639,"column":20}}]},"32":{"line":648,"type":"if","locations":[{"start":{"line":648,"column":16},"end":{"line":648,"column":16}},{"start":{"line":648,"column":16},"end":{"line":648,"column":16}}]},"33":{"line":651,"type":"if","locations":[{"start":{"line":651,"column":20},"end":{"line":651,"column":20}},{"start":{"line":651,"column":20},"end":{"line":651,"column":20}}]},"34":{"line":661,"type":"if","locations":[{"start":{"line":661,"column":16},"end":{"line":661,"column":16}},{"start":{"line":661,"column":16},"end":{"line":661,"column":16}}]},"35":{"line":665,"type":"if","locations":[{"start":{"line":665,"column":20},"end":{"line":665,"column":20}},{"start":{"line":665,"column":20},"end":{"line":665,"column":20}}]},"36":{"line":676,"type":"if","locations":[{"start":{"line":676,"column":16},"end":{"line":676,"column":16}},{"start":{"line":676,"column":16},"end":{"line":676,"column":16}}]},"37":{"line":679,"type":"if","locations":[{"start":{"line":679,"column":20},"end":{"line":679,"column":20}},{"start":{"line":679,"column":20},"end":{"line":679,"column":20}}]},"38":{"line":690,"type":"if","locations":[{"start":{"line":690,"column":16},"end":{"line":690,"column":16}},{"start":{"line":690,"column":16},"end":{"line":690,"column":16}}]},"39":{"line":704,"type":"if","locations":[{"start":{"line":704,"column":16},"end":{"line":704,"column":16}},{"start":{"line":704,"column":16},"end":{"line":704,"column":16}}]},"40":{"line":717,"type":"if","locations":[{"start":{"line":717,"column":12},"end":{"line":717,"column":12}},{"start":{"line":717,"column":12},"end":{"line":717,"column":12}}]},"41":{"line":889,"type":"if","locations":[{"start":{"line":889,"column":16},"end":{"line":889,"column":16}},{"start":{"line":889,"column":16},"end":{"line":889,"column":16}}]},"42":{"line":917,"type":"if","locations":[{"start":{"line":917,"column":12},"end":{"line":917,"column":12}},{"start":{"line":917,"column":12},"end":{"line":917,"column":12}}]},"43":{"line":948,"type":"binary-expr","locations":[{"start":{"line":948,"column":20},"end":{"line":948,"column":24}},{"start":{"line":948,"column":28},"end":{"line":948,"column":35}}]},"44":{"line":950,"type":"if","locations":[{"start":{"line":950,"column":16},"end":{"line":950,"column":16}},{"start":{"line":950,"column":16},"end":{"line":950,"column":16}}]},"45":{"line":954,"type":"binary-expr","locations":[{"start":{"line":954,"column":27},"end":{"line":954,"column":31}},{"start":{"line":954,"column":35},"end":{"line":954,"column":61}}]},"46":{"line":955,"type":"binary-expr","locations":[{"start":{"line":955,"column":27},"end":{"line":955,"column":31}},{"start":{"line":955,"column":35},"end":{"line":955,"column":45}}]},"47":{"line":1013,"type":"if","locations":[{"start":{"line":1013,"column":4},"end":{"line":1013,"column":4}},{"start":{"line":1013,"column":4},"end":{"line":1013,"column":4}}]},"48":{"line":1013,"type":"binary-expr","locations":[{"start":{"line":1013,"column":8},"end":{"line":1013,"column":34}},{"start":{"line":1013,"column":38},"end":{"line":1013,"column":61}}]},"49":{"line":1021,"type":"if","locations":[{"start":{"line":1021,"column":12},"end":{"line":1021,"column":12}},{"start":{"line":1021,"column":12},"end":{"line":1021,"column":12}}]},"50":{"line":1023,"type":"if","locations":[{"start":{"line":1023,"column":12},"end":{"line":1023,"column":12}},{"start":{"line":1023,"column":12},"end":{"line":1023,"column":12}}]},"51":{"line":1025,"type":"if","locations":[{"start":{"line":1025,"column":12},"end":{"line":1025,"column":12}},{"start":{"line":1025,"column":12},"end":{"line":1025,"column":12}}]},"52":{"line":1032,"type":"if","locations":[{"start":{"line":1032,"column":16},"end":{"line":1032,"column":16}},{"start":{"line":1032,"column":16},"end":{"line":1032,"column":16}}]},"53":{"line":1033,"type":"if","locations":[{"start":{"line":1033,"column":16},"end":{"line":1033,"column":16}},{"start":{"line":1033,"column":16},"end":{"line":1033,"column":16}}]},"54":{"line":1034,"type":"if","locations":[{"start":{"line":1034,"column":16},"end":{"line":1034,"column":16}},{"start":{"line":1034,"column":16},"end":{"line":1034,"column":16}}]},"55":{"line":1040,"type":"if","locations":[{"start":{"line":1040,"column":20},"end":{"line":1040,"column":20}},{"start":{"line":1040,"column":20},"end":{"line":1040,"column":20}}]},"56":{"line":1043,"type":"if","locations":[{"start":{"line":1043,"column":24},"end":{"line":1043,"column":24}},{"start":{"line":1043,"column":24},"end":{"line":1043,"column":24}}]}},"code":["","var Schema = require('../index').Schema;","var Text = Schema.Text;","","var nbSchemaRequests = 0;","","var batch;","var schemaName;","","function it(name, cases) {","    batch[schemaName][name] = cases;","}","","function skip(name) {","    delete batch[schemaName][name];","}","","module.exports = function testSchema(exportCasesHere, schema) {","","    batch = exportCasesHere;","    schemaName = schema.name;","    if (schema.name.match(/^\\/.*\\/test\\/\\.\\.$/)) {","        schemaName = schemaName.split('/').slice(-3).shift();","    }","    var start;","","    batch['should connect to database'] = function (test) {","        start = Date.now();","        if (schema.connected) return test.done();","        schema.on('connected', test.done);","    };","","    schema.log = function (a) {","        console.log(a);","        nbSchemaRequests++;","    };","","    batch[schemaName] = {};","","    testOrm(schema);","","    batch['all tests done'] = function (test) {","        test.done();","        process.nextTick(allTestsDone);","    };","","    function allTestsDone() {","        schema.disconnect();","        console.log('Test done in %dms\\n', Date.now() - start);","    }","","};","","Object.defineProperty(module.exports, 'it', {","    writable: true,","    enumerable: false,","    configurable: true,","    value: it","});","","Object.defineProperty(module.exports, 'skip', {","    writable: true,","    enumerable: false,","    configurable: true,","    value: skip","});","","function clearAndCreate(model, data, callback) {","    var createdItems = [];","    model.destroyAll(function () {","        nextItem(null, null);","    });","","    var itemIndex = 0;","    function nextItem(err, lastItem) {","        if (lastItem !== null) {","            createdItems.push(lastItem);","        }","        if (itemIndex >= data.length) {","            callback(createdItems);","            return;","        }","        model.create(data[itemIndex], nextItem);","        itemIndex++;","    }","}","","function testOrm(schema) {","    var requestsAreCounted = schema.name !== 'mongodb';","","    var Post, User, Passport, Log, Dog;","","    it('should define class', function (test) {","","        User = schema.define('User', {","            name:      { type: String, index: true },","            email:     { type: String, index: true },","            bio:          Text,","            approved:     Boolean,","            joinedAt:     Date,","            age:          Number,","            passwd:    { type: String, index: true }","        });","","        Dog = schema.define('Dog', {","            name        : { type: String, limit: 64, allowNull: false }","        });","","        Log = schema.define('Log', {","            ownerId     : { type: Number, allowNull: true },","            name         : { type: String, limit: 64, allowNull: false }","        });","","        Log.belongsTo(Dog,  {as: 'owner',  foreignKey: 'ownerId'});","","        schema.extendModel('User', {","            settings:  { type: Schema.JSON },","            extra:      Object","        });","","        var newuser = new User({settings: {hey: 'you'}});","        test.ok(newuser.settings);","","        Post = schema.define('Post', {","            title:     { type: String, length: 255, index: true },","            subject:   { type: String },","            content:   { type: Text },","            date:      { type: Date,    default: function () { return new Date }, index: true },","            published: { type: Boolean, default: false, index: true },","            likes:     [],","            related:   [RelatedPost]","        }, {table: 'posts'});","","        function RelatedPost() { }","        RelatedPost.prototype.someMethod = function () {","            return this.parent;","        };","","        Post.validateAsync('title', function (err, done) {","            process.nextTick(done);","        });","","        User.hasMany(Post,   {as: 'posts',  foreignKey: 'userId'});","        // creates instance methods:","        // user.posts(conds)","        // user.posts.build(data) // like new Post({userId: user.id});","        // user.posts.create(data) // build and save","        // user.posts.find","","        // User.hasOne('latestPost', {model: Post, foreignKey: 'postId'});","","        // User.hasOne(Post,    {as: 'latestPost', foreignKey: 'latestPostId'});","        // creates instance methods:","        // user.latestPost()","        // user.latestPost.build(data)","        // user.latestPost.create(data)","","        Post.belongsTo(User, {as: 'author', foreignKey: 'userId'});","        // creates instance methods:","        // post.author(callback) -- getter when called with function","        // post.author() -- sync getter when called without params","        // post.author(user) -- setter when called with object","","        Passport = schema.define('Passport', {","            number: String","        });","","        Passport.belongsTo(User, {as: 'owner', foreignKey: 'ownerId'});","        User.hasMany(Passport,   {as: 'passports', foreignKey: 'ownerId'});","","        var user = new User;","","        test.ok(User instanceof Function);","","        // class methods","        test.ok(User.find instanceof Function);","        test.ok(User.create instanceof Function);","","        // instance methods","        test.ok(user.save instanceof Function);","","        schema.automigrate(function (err) {","            if (err) {","                console.log('Error while migrating');","                console.log(err);","            } else {","                test.done();","            }","        });","","    });","","    it('should initialize object properly', function (test) {","        var hw = 'Hello word',","            now = Date.now(),","            post = new Post({title: hw}),","            anotherPost = Post({title: 'Resig style constructor'});","","        test.equal(post.title, hw);","        test.ok(!post.propertyChanged('title'), 'property changed: title');","        post.title = 'Goodbye, Lenin';","        test.equal(post.title_was, hw);","        test.ok(post.propertyChanged('title'));","        test.strictEqual(post.published, false);","        test.ok(post.date >= now);","        test.ok(post.isNewRecord());","        test.ok(anotherPost instanceof Post);","        test.ok(anotherPost.title, 'Resig style constructor');","        test.done();","    });","","    it('should save object', function (test) {","        var title = 'Initial title', title2 = 'Hello world',","            date = new Date;","","        Post.create({","            title: title,","            date: date","        }, function (err, obj) {","            test.ok(obj.id, 'Object id should present');","            test.equals(obj.title, title);","            // test.equals(obj.date, date);","            obj.title = title2;","            test.ok(obj.propertyChanged('title'), 'Title changed');","            obj.save(function (err, obj) {","                test.equal(obj.title, title2);","                test.ok(!obj.propertyChanged('title'));","","                var p = new Post({title: 1});","                p.title = 2;","                p.save(function (err, obj) {","                    test.ok(!p.propertyChanged('title'));","                    p.title = 3;","                    test.ok(p.propertyChanged('title'));","                    test.equal(p.title_was, 2);","                    p.save(function () {","                        test.equal(p.title_was, 3);","                        test.ok(!p.propertyChanged('title'));","                        test.done();","                    });","                });","            });","        });","    });","","    it('should create object with initial data', function (test) {","        var title = 'Initial title',","            date = new Date;","","        Post.create({","            title: title,","            date: date","        }, function (err, obj) {","            test.ok(obj.id);","            test.equals(obj.title, title);","            test.equals(obj.date, date);","            Post.find(obj.id, function () {","                test.equal(obj.title, title);","                test.equal(obj.date.toString(), date.toString());","                test.done();","            });","        });","    });","","    it('should save only schema-defined field in database', function (test) {","        Post.create({title: '1602', nonSchemaField: 'some value'}, function (err, post) {","            test.ok(!post.nonSchemaField);","            post.a = 1;","            post.save(function () {","                test.ok(post.a);","                post.reload(function (err, psto) {","                    test.ok(!psto.a);","                    test.done();","                });","            });","        });","    });","","    /*","    it('should not create new instances for the same object', function (test) {","        var title = 'Initial title';","        Post.create({ title: title }, function (err, post) {","            test.ok(post.id, 'Object should have id');","            test.equals(post.title, title);","            Post.find(post.id, function (err, foundPost) {","                if (err) throw err;","                test.equal(post.title, title);","                test.strictEqual(post, foundPost);","                test.done();","            });","        });","    });","    */","","    it('should not re-instantiate object on saving', function (test) {","        var title = 'Initial title';","        var post = new Post({title: title});","        post.save(function (err, savedPost) {","            test.strictEqual(post, savedPost);","            test.done();","        });","    });","","    it('should destroy object', function (test) {","        Post.create(function (err, post) {","            Post.exists(post.id, function (err, exists) {","                test.ok(exists, 'Object exists');","                post.destroy(function () {","                    Post.exists(post.id, function (err, exists) {","                        if (err) console.log(err);","                        test.ok(!exists, 'Hey! ORM told me that object exists, but it looks like it doesn\\'t. Something went wrong...');","                        Post.find(post.id, function (err, obj) {","                            test.equal(obj, null, 'Param obj should be null');","                            test.done();","                        });","                    });","                });","            });","        });","    });","","    it('should handle virtual attributes', function (test) {","        var salt = 's0m3s3cr3t5a1t';","","        User.setter.passwd = function (password) {","            this._passwd = calcHash(password, salt);","        };","","        function calcHash(pass, salt) {","            var crypto = require('crypto');","            var hash = crypto.createHash('sha256');","            hash.update(pass);","            hash.update(salt);","            return hash.digest('base64');","        }","","        var u = new User;","        u.passwd = 's3cr3t';","        test.equal(u.passwd, calcHash('s3cr3t', salt));","        test.done();","    });","","    // it('should serialize JSON type', function (test) {","    //     User.create({settings: {hello: 'world'}}, function (err, user) {","    //         test.ok(user.id);","    //         test.equal(user.settings.hello, 'world');","    //         User.find(user.id, function (err, u) {","    //             console.log(u.settings);","    //             test.equal(u.settings.hello, 'world');","    //             test.done();","    //         });","    //     });","    // });","","    it('should update single attribute', function (test) {","        Post.create({title: 'title', content: 'content', published: true}, function (err, post) {","            post.content = 'New content';","            post.updateAttribute('title', 'New title', function () {","                test.equal(post.title, 'New title');","                test.ok(!post.propertyChanged('title'));","                test.equal(post.content, 'New content', 'dirty state saved');","                test.ok(post.propertyChanged('content'));","                post.reload(function (err, post) {","                    test.equal(post.title, 'New title');","                    test.ok(!post.propertyChanged('title'), 'title not changed');","                    test.equal(post.content, 'content', 'real value turned back');","                    test.ok(!post.propertyChanged('content'), 'content unchanged');","                    test.done();","                });","            });","        });","    });","","    var countOfposts, countOfpostsFiltered;","    it('should fetch collection', function (test) {","        Post.all(function (err, posts) {","            countOfposts = posts.length;","            test.ok(countOfposts > 0);","            test.ok(posts[0] instanceof Post);","            countOfpostsFiltered = posts.filter(function (p) {","                return p.title === 'title';","            }).length;","            test.done();","        });","    });","","    it('should find records filtered with multiple attributes', function (test) {","        var d = new Date;","        Post.create({title: 'title', content: 'content', published: true, date: d}, function (err, post) {","            Post.all({where: {title: 'title', date: d, published: true}}, function (err, res) {","                test.equals(res.length, 1, 'Filtering Posts returns one post');","                test.done();","            });","        });","    });","","    if (","        !schema.name.match(/redis/) &&","            schema.name !== 'memory' &&","            schema.name !== 'neo4j' &&","            schema.name !== 'cradle'","        )","    it('relations key is working', function (test) {","        test.ok(User.relations, 'Relations key should be defined');","        test.ok(User.relations.posts, 'posts relation should exist on User');","        test.equal(User.relations.posts.type, 'hasMany', 'Type of hasMany relation is hasMany');","        test.equal(User.relations.posts.multiple, true, 'hasMany relations are multiple');","        test.equal(User.relations.posts.keyFrom, 'id', 'keyFrom is primary key of model table');","        test.equal(User.relations.posts.keyTo, 'userId', 'keyTo is foreign key of related model table');","","        test.ok(Post.relations, 'Relations key should be defined');","        test.ok(Post.relations.author, 'author relation should exist on Post');","        test.equal(Post.relations.author.type, 'belongsTo', 'Type of belongsTo relation is belongsTo');","        test.equal(Post.relations.author.multiple, false, 'belongsTo relations are not multiple');","        test.equal(Post.relations.author.keyFrom, 'userId', 'keyFrom is foreign key of model table');","        test.equal(Post.relations.author.keyTo, 'id', 'keyTo is primary key of related model table');","        test.done();","    });","","","    it('should handle hasMany relationship', function (test) {","        User.create(function (err, u) {","            if (err) return console.log(err);","            test.ok(u.posts, 'Method defined: posts');","            test.ok(u.posts.build, 'Method defined: posts.build');","            test.ok(u.posts.create, 'Method defined: posts.create');","            u.posts.create(function (err, post) {","                if (err) return console.log(err);","                u.posts(function (err, posts) {","                    test.equal(posts.pop().id.toString(), post.id.toString());","                    test.done();","                });","            });","        });","    });","","    it('should navigate variations of belongsTo regardless of column name', function(test){","","        Dog.create({name: 'theDog'}, function(err, obj){","            test.ok(obj instanceof Dog);","            Log.create({name: 'theLog', ownerId: obj.id}, function(err, obj){","                test.ok(obj instanceof Log);","                obj.owner(function(err, obj){","                    test.ok(!err, 'Should not have an error.'); // Before cba174b this would be 'Error: Permission denied'","                    if(err){","                        console.log('Found: ' + err);","                    }","                    test.ok(obj, 'Should not find null or undefined.'); // Before cba174b this could be null or undefined.","                    test.ok(obj instanceof Dog, 'Should find a Dog.');","                    if(obj){ // Since test won't stop on fail, have to check before accessing obj.name.","                        test.ok(obj.name, 'Should have a name.');","                    }","                    if(obj && obj.name){","                        test.equal(obj.name, 'theDog', 'The owner of theLog is theDog.');","                    }","                    test.done();","                });","            });","        });","    });","","    it('hasMany should support additional conditions', function (test) {","","        User.create(function (e, u) {","            u.posts.create({}, function (e, p) {","                u.posts({where: {id: p.id}}, function (e, posts) {","                    test.equal(posts.length, 1, 'There should be only 1 post.');","                    test.done();","                });","            });","        });","","    });","","    it('hasMany should be cached', function (test) {","        //User.create(function (e, u) {","        //    u.posts.create({}, function (e, p) {","        // find all posts for a user.","        // Finding one post with an existing author associated","        Post.all(function (err, posts) {","            // We try to get the first post with a userId != NULL","            for (var i = 0; i < posts.length; i++) {","                var post = posts[i];","                if (post.userId) {","                    // We could get the user with belongs to relationship but it is better if there is no interactions.","                    User.find(post.userId, function(err, user) {","                        User.create(function(err, voidUser) {","                            Post.create({userId: user.id}, function() {","","                                // There can't be any concurrency because we are counting requests","                                // We are first testing cases when user has posts","                                user.posts(function(err, data) {","                                    var nbInitialRequests = nbSchemaRequests;","                                    user.posts(function(err, data2) {","                                        test.equal(data.length, 2, 'There should be 2 posts.');","                                        test.equal(data.length, data2.length, 'Posts should be the same, since we are loading on the same object.');","                                        requestsAreCounted && test.equal(nbInitialRequests, nbSchemaRequests, 'There should not be any request because value is cached.');","","                                        if (schema.name === 'mongodb') { // for the moment mongodb doesn\\'t support additional conditions on hasMany relations (see above)","                                            test.done();","                                        } else {","                                            user.posts({where: {id: data[0].id}}, function(err, data) {","                                                test.equal(data.length, 1, 'There should be only one post.');","                                                requestsAreCounted && test.equal(nbInitialRequests + 1, nbSchemaRequests, 'There should be one additional request since we added conditions.');","","                                                user.posts(function(err, data) {","                                                    test.equal(data.length, 2, 'Previous get shouldn\\'t have changed cached value though, since there was additional conditions.');","                                                    requestsAreCounted && test.equal(nbInitialRequests + 1, nbSchemaRequests, 'There should not be any request because value is cached.');","","                                                    // We are now testing cases when user doesn't have any post","                                                    voidUser.posts(function(err, data) {","                                                        var nbInitialRequests = nbSchemaRequests;","                                                        voidUser.posts(function(err, data2) {","                                                            test.equal(data.length, 0, 'There shouldn\\'t be any posts (1/2).');","                                                            test.equal(data2.length, 0, 'There shouldn\\'t be any posts (2/2).');","                                                            requestsAreCounted && test.equal(nbInitialRequests, nbSchemaRequests, 'There should not be any request because value is cached.');","","                                                            voidUser.posts(true, function(err, data3) {","                                                                test.equal(data3.length, 0, 'There shouldn\\'t be any posts.');","                                                                requestsAreCounted && test.equal(nbInitialRequests + 1, nbSchemaRequests, 'There should be one additional request since we forced refresh.');","","                                                                test.done();","                                                            });","                                                        });","                                                    });","","                                                });","                                            });","                                        }","","                                    });","                                });","","                            });","                        });","                    });","                    break;","                }","            }","        });","","    });","","    // it('should handle hasOne relationship', function (test) {","    //     User.create(function (err, u) {","    //         if (err) return console.log(err);","    //     });","    // });","","    it('should support scopes', function (test) {","        var wait = 2;","","        test.ok(Post.scope, 'Scope supported');","        Post.scope('published', {where: {published: true}});","        test.ok(typeof Post.published === 'function');","        test.ok(Post.published._scope.where.published === true);","        var post = Post.published.build();","        test.ok(post.published, 'Can build');","        test.ok(post.isNewRecord());","        Post.published.create(function (err, psto) {","            if (err) return console.log(err);","            test.ok(psto.published);","            test.ok(!psto.isNewRecord());","            done();","        });","","        User.create(function (err, u) {","            if (err) return console.log(err);","            test.ok(typeof u.posts.published == 'function');","            test.ok(u.posts.published._scope.where.published);","            console.log(u.posts.published._scope);","            test.equal(u.posts.published._scope.where.userId, u.id);","            done();","        });","","        function done() {","            if (--wait === 0) test.done();","        };","    });","","    it('should return type of property', function (test) {","        test.equal(Post.whatTypeName('title'), 'String');","        test.equal(Post.whatTypeName('content'), 'Text');","        var p = new Post;","        test.equal(p.whatTypeName('title'), 'String');","        test.equal(p.whatTypeName('content'), 'Text');","        test.done();","    });","","    it('should handle ORDER clause', function (test) {","        var titles = [ { title: 'Title A', subject: \"B\" },","                       { title: 'Title Z', subject: \"A\" },","                       { title: 'Title M', subject: \"C\" },","                       { title: 'Title A', subject: \"A\" },","                       { title: 'Title B', subject: \"A\" },","                       { title: 'Title C', subject: \"D\" }];","        var isRedis = Post.schema.name === 'redis';","        var dates = isRedis ? [ 5, 9, 0, 17, 10, 9 ] : [","            new Date(1000 * 5 ),","            new Date(1000 * 9),","            new Date(1000 * 0),","            new Date(1000 * 17),","            new Date(1000 * 10),","            new Date(1000 * 9)","        ];","        titles.forEach(function (t, i) {","            Post.create({title: t.title, subject: t.subject, date: dates[i]}, done);","        });","","        var i = 0, tests = 0;","        function done(err, obj) {","            if (++i === titles.length) {","                doFilterAndSortTest();","                doFilterAndSortReverseTest();","                doStringTest();","                doNumberTest();","","                if (schema.name == 'mongoose') {","                    doMultipleSortTest();","                    doMultipleReverseSortTest();","                }","            }","        }","","        function compare(a, b) {","            if (a.title < b.title) return -1;","            if (a.title > b.title) return 1;","            return 0;","        }","","        // Post.schema.log = console.log;","","        function doStringTest() {","            tests += 1;","            Post.all({order: 'title'}, function (err, posts) {","                if (err) console.log(err);","                test.equal(posts.length, 6);","                titles.sort(compare).forEach(function (t, i) {","                    if (posts[i]) test.equal(posts[i].title, t.title);","                });","                finished();","            });","        }","","        function doNumberTest() {","            tests += 1;","            Post.all({order: 'date'}, function (err, posts) {","                if (err) console.log(err);","                test.equal(posts.length, 6);","                dates.sort(numerically).forEach(function (d, i) {","                    if (posts[i])","                    test.equal(posts[i].date.toString(), d.toString(), 'doNumberTest');","                });","                finished();","            });","        }","","        function doFilterAndSortTest() {","            tests += 1;","            Post.all({where: {date: new Date(1000 * 9)}, order: 'title', limit: 3}, function (err, posts) {","                if (err) console.log(err);","                console.log(posts.length);","                test.equal(posts.length, 2, 'Exactly 2 posts returned by query');","                [ 'Title C', 'Title Z' ].forEach(function (t, i) {","                    if (posts[i]) {","                        test.equal(posts[i].title, t, 'doFilterAndSortTest');","                    }","                });","                finished();","            });","        }","","        function doFilterAndSortReverseTest() {","            tests += 1;","            Post.all({where: {date: new Date(1000 * 9)}, order: 'title DESC', limit: 3}, function (err, posts) {","                if (err) console.log(err);","                test.equal(posts.length, 2, 'Exactly 2 posts returned by query');","                [ 'Title Z', 'Title C' ].forEach(function (t, i) {","                    if (posts[i]) {","                        test.equal(posts[i].title, t, 'doFilterAndSortReverseTest');","                    }","                });","                finished();","            });","        }","","        function doMultipleSortTest() {","            tests += 1;","            Post.all({order: \"title ASC, subject ASC\"}, function(err, posts) {","                if (err) console.log(err);","                test.equal(posts.length, 6);","                test.equal(posts[0].title, \"Title A\");","                test.equal(posts[0].subject, \"A\");","                test.equal(posts[1].title, \"Title A\");","                test.equal(posts[1].subject, \"B\");","                test.equal(posts[5].title, \"Title Z\");","                finished();","            });","        }","","        function doMultipleReverseSortTest() {","            tests += 1;","            Post.all({order: \"title ASC, subject DESC\"}, function(err, posts) {","                if (err) console.log(err);","                test.equal(posts.length, 6);","                test.equal(posts[0].title, \"Title A\");","                test.equal(posts[0].subject, \"B\");","                test.equal(posts[1].title,\"Title A\");","                test.equal(posts[1].subject, \"A\");","                test.equal(posts[5].title, \"Title Z\");","                finished();","            });","        }","","        var fin = 0;","        function finished() {","            if (++fin === tests) {","                test.done();","            }","        }","","        // TODO: do mixed test, do real dates tests, ensure that dates stored in UNIX timestamp format","","        function numerically(a, b) {","            return a - b;","        }","","    });","","    // if (","    //     !schema.name.match(/redis/) &&","    //     schema.name !== 'memory' &&","    //     schema.name !== 'neo4j' &&","    //     schema.name !== 'cradle' &&","    //     schema.name !== 'nano'","    // )","    // it('should allow advanced queying: lt, gt, lte, gte, between', function (test) {","    //     Post.destroyAll(function () {","    //         Post.create({date: new Date('Wed, 01 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Thu, 02 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Fri, 03 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Sat, 04 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Sun, 05 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Mon, 06 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Tue, 07 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Wed, 08 Feb 2012 13:56:12 GMT')}, done);","    //         Post.create({date: new Date('Thu, 09 Feb 2012 13:56:12 GMT')}, done);","    //     });","","    //     var posts = 9;","    //     function done() {","    //         if (--posts === 0) makeTest();","    //     }","","    //     function makeTest() {","    //         // gt","    //         Post.all({where: {date: {gt: new Date('Tue, 07 Feb 2012 13:56:12 GMT')}}}, function (err, posts) {","    //             test.equal(posts.length, 2, 'gt');","    //             ok();","    //         });","","    //         // gte","    //         Post.all({where: {date: {gte: new Date('Tue, 07 Feb 2012 13:56:12 GMT')}}}, function (err, posts) {","    //             test.equal(posts.length, 3, 'gte');","    //             ok();","    //         });","","    //         // lte","    //         Post.all({where: {date: {lte: new Date('Tue, 07 Feb 2012 13:56:12 GMT')}}}, function (err, posts) {","    //             test.equal(posts.length, 7, 'lte');","    //             ok();","    //         });","","    //         // lt","    //         Post.all({where: {date: {lt: new Date('Tue, 07 Feb 2012 13:56:12 GMT')}}}, function (err, posts) {","    //             test.equal(posts.length, 6, 'lt');","    //             ok();","    //         });","","    //         // between","    //         Post.all({where: {date: {between: [new Date('Tue, 05 Feb 2012 13:56:12 GMT'), new Date('Tue, 09 Feb 2012 13:56:12 GMT')]}}}, function (err, posts) {","    //             test.equal(posts.length, 5, 'between');","    //             ok();","    //         });","    //     }","","    //     var tests = 5;","    //     function ok() {","    //         if (--tests === 0) test.done();","    //     }","    // });","","","    // if (","    //     schema.name === 'mysql' ||","    //     schema.name === 'postgres'","    // )","    // it('should allow IN or NOT IN', function (test) {","    //     User.destroyAll(function () {","    //         User.create({name: 'User A', age: 21}, done);","    //         User.create({name: 'User B', age: 22}, done);","    //         User.create({name: 'User C', age: 23}, done);","    //         User.create({name: 'User D', age: 24}, done);","    //         User.create({name: 'User E', age: 25}, done);","    //     });","","    //     var users = 5;","    //     function done() {","    //         if (--users === 0) makeTest();","    //     }","","    //     function makeTest() {","    //         // IN with empty array should return nothing","    //         User.all({where: {name: {inq: []}}}, function (err, users) {","    //             test.equal(users.length, 0, 'IN with empty array returns nothing');","    //             ok();","    //         });","","    //         // NOT IN with empty array should return everything","    //         User.all({where: {name: {nin: []}}}, function (err, users) {","    //             test.equal(users.length, 5, 'NOT IN with empty array returns everything');","    //             ok();","    //         });","","    //         // IN [User A] returns user with name = User A","    //         User.all({where: {name: {inq: ['User A']}}}, function (err, users) {","    //             test.equal(users.length, 1, 'IN searching one existing value returns 1 user');","    //             test.equal(users[0].name, 'User A', 'IN [User A] returns user with name = User A');","    //             ok();","    //         });","","    //         // NOT IN [User A] returns users with name != User A","    //         User.all({where: {name: {nin: ['User A']}}}, function (err, users) {","    //             test.equal(users.length, 4, 'IN [User A] returns users with name != User A');","    //             ok();","    //         });","","    //         // IN [User A, User B] returns users with name = User A OR name = User B","    //         User.all({where: {name: {inq: ['User A', 'User B']}}}, function (err, users) {","    //             test.equal(users.length, 2, 'IN searching two existing values returns 2 users');","    //             ok();","    //         });","","    //         // NOT IN [User A, User B] returns users with name != User A AND name != User B","    //         User.all({where: {name: {nin: ['User A', 'User B']}}}, function (err, users) {","    //             test.equal(users.length, 3, 'NOT IN searching two existing values returns users with name != User A AND name != User B');","    //             ok();","    //         });","","    //         // IN works with numbers too","    //         User.all({where: {age: {inq: [21, 22]}}}, function (err, users) {","    //             test.equal(users.length, 2, 'IN works with numbers too');","    //             ok();","    //         });","","    //         // NOT IN works with numbers too","    //         User.all({where: {age: {nin: [21, 22]}}}, function (err, users) {","    //             test.equal(users.length, 3, 'NOT IN works with numbers too');","    //             ok();","    //         });","    //     }","","    //     var tests = 8;","    //     function ok() {","    //         if (--tests === 0) test.done();","    //     }","    // });","","    it('should handle order clause with direction', function (test) {","        var wait = 0;","        var emails = [","            'john@hcompany.com',","            'tom@hcompany.com',","            'admin@hcompany.com',","            'tin@hcompany.com',","            'mike@hcompany.com',","            'susan@hcompany.com',","            'test@hcompany.com'","        ];","        User.destroyAll(function () {","            emails.forEach(function (email) {","                wait += 1;","                User.create({email: email, name: 'Nick'}, done);","            });","        });","        var tests = 2;","        function done() {","            process.nextTick(function () {","                if (--wait === 0) {","                    doSortTest();","                    doReverseSortTest();","                }","            });","        }","","        function doSortTest() {","            User.all({order: 'email ASC', where: {name: 'Nick'}}, function (err, users) {","                var _emails = emails.sort();","                users.forEach(function (user, i) {","                    test.equal(_emails[i], user.email, 'ASC sorting');","                });","                testDone();","            });","        }","","        function doReverseSortTest() {","            User.all({order: 'email DESC', where: {name: 'Nick'}}, function (err, users) {","                var _emails = emails.sort().reverse();","                users.forEach(function (user, i) {","                    test.equal(_emails[i], user.email, 'DESC sorting');","                });","                testDone();","            });","        }","","        function testDone() {","            if (--tests === 0) test.done();","        }","    });","","    it('should return id in find result even after updateAttributes', function (test) {","        Post.create(function (err, post) {","            var id = post.id;","            test.ok(post.published === false);","            post.updateAttributes({title: 'hey', published: true}, function () {","                Post.find(id, function (err, post) {","                    test.ok(!!post.published, 'Update boolean field');","                    test.ok(post.id);","                    test.done();","                });","            });","        });","    });","","    it('should handle belongsTo correctly', function (test) {","        var passport = new Passport({ownerId: 16});","        // sync getter","        test.equal(passport.owner(), 16);","        // sync setter","        passport.owner(18);","        test.equal(passport.owner(), 18);","        test.done();","    });","","    it('should query one record', function (test) {","        test.expect(4);","        Post.findOne(function (err, post) {","            test.ok(post && post.id);","            Post.findOne({ where: { title: 'hey' } }, function (err, post) {","                if (err) {","                    console.log(err);","                    return test.done();","                }","                test.equal(post && post.constructor.modelName, 'Post');","                test.equal(post && post.title, 'hey');","                Post.findOne({ where: { title: 'not exists' } }, function (err, post) {","                    test.ok(post === null);","                    test.done();","                });","            });","        });","    });","","    // if (","    //     !schema.name.match(/redis/) &&","    //         schema.name !== 'memory' &&","    //         schema.name !== 'neo4j' &&","    //         schema.name !== 'cradle' &&","    //         schema.name !== 'nano'","    //     )","    // it('belongsTo should be cached', function (test) {","    //     User.findOne(function(err, user) {","","    //         var passport = new Passport({ownerId: user.id});","    //         var passport2 = new Passport({ownerId: null});","","    //         // There can't be any concurrency because we are counting requests","    //         // We are first testing cases when passport has an owner","    //         passport.owner(function(err, data) {","    //             var nbInitialRequests = nbSchemaRequests;","    //             passport.owner(function(err, data2) {","    //                 test.equal(data.id, data2.id, 'The value should remain the same');","    //                 requestsAreCounted && test.equal(nbInitialRequests, nbSchemaRequests, 'There should not be any request because value is cached.');","","    //                 // We are now testing cases when passport has not an owner","    //                 passport2.owner(function(err, data) {","    //                     var nbInitialRequests2 = nbSchemaRequests;","    //                     passport2.owner(function(err, data2) {","    //                         test.equal(data, null, 'The value should be null since there is no owner');","    //                         test.equal(data, data2, 'The value should remain the same (null)');","    //                         requestsAreCounted && test.equal(nbInitialRequests2, nbSchemaRequests, 'There should not be any request because value is cached.');","","    //                         passport2.owner(user.id);","    //                         passport2.owner(function(err, data3) {","    //                             test.equal(data3.id, user.id, 'Owner should now be the user.');","    //                             requestsAreCounted && test.equal(nbInitialRequests2 + 1, nbSchemaRequests, 'If we changed owner id, there should be one more request.');","","    //                             passport2.owner(true, function(err, data4) {","    //                                 test.equal(data3.id, data3.id, 'The value should remain the same');","    //                                 requestsAreCounted && test.equal(nbInitialRequests2 + 2, nbSchemaRequests, 'If we forced refreshing, there should be one more request.');","    //                                 test.done();","    //                             });","    //                         });","    //                     });","    //                 });","","    //             });","    //         });","    //     });","","    // });","","    if (schema.name !== 'mongoose' && schema.name !== 'neo4j')","    it('should update or create record', function (test) {","        var newData = {","            id: 1,","            title: 'New title (really new)',","            content: 'Some example content (updated)'","        };","        Post.updateOrCreate(newData, function (err, updatedPost) {","            if (err) throw err;","            test.ok(updatedPost);","            if (!updatedPost) throw Error('No post!');","","            if (schema.name !== 'mongodb') {","                test.equal(newData.id, updatedPost.toObject().id);","            }","            test.equal(newData.title, updatedPost.toObject().title);","            test.equal(newData.content, updatedPost.toObject().content);","","            Post.find(updatedPost.id, function (err, post) {","                if (err) throw err;","                if (!post) throw Error('No post!');","                if (schema.name !== 'mongodb') {","                    test.equal(newData.id, post.toObject().id);","                }","                test.equal(newData.title, post.toObject().title);","                test.equal(newData.content, post.toObject().content);","                Post.updateOrCreate({id: 100001, title: 'hey'}, function (err, post) {","                    if (schema.name !== 'mongodb') test.equal(post.id, 100001);","                    test.equal(post.title, 'hey');","                    Post.find(post.id, function (err, post) {","                        if (!post) throw Error('No post!');","                        test.done();","                    });","                });","            });","        });","    });","","    it('should work with custom setters and getters', function (test) {","        User.schema.defineForeignKey('User', 'passwd');","        User.setter.passwd = function (pass) {","            this._passwd = pass + 'salt';","        };","        var u = new User({passwd: 'qwerty'});","        test.equal(u.passwd, 'qwertysalt');","        u.save(function (err, user) {","            User.find(user.id, function (err, user) {","                test.ok(user !== u);","                test.equal(user.passwd, 'qwertysalt');","                User.all({where: {passwd: 'qwertysalt'}}, function (err, users) {","                    test.ok(users[0] !== user);","                    test.equal(users[0].passwd, 'qwertysalt');","                    User.create({passwd: 'asalat'}, function (err, usr) {","                        test.equal(usr.passwd, 'asalatsalt');","                        User.upsert({passwd: 'heyman'}, function (err, us) {","                            test.equal(us.passwd, 'heymansalt');","                            User.find(us.id, function (err, user) {","                                test.equal(user.passwd, 'heymansalt');","                                test.done();","                            });","                        });","                    });","                });","            });","        });","    });","","    it('should work with typed and untyped nested collections', function (test) {","        var post = new Post;","        var like = post.likes.push({foo: 'bar'});","        test.equal(like.constructor.name, 'ListItem');","        var related = post.related.push({hello: 'world'});","        test.ok(related.someMethod);","        post.save(function (err, p) {","            test.equal(p.likes.nextid, 2);","            p.likes.push({second: 2});","            p.likes.push({third: 3});","            p.save(function (err) {","                Post.find(p.id, function (err, pp) {","                    test.equal(pp.likes.length, 3);","                    test.ok(pp.likes[3].third);","                    test.ok(pp.likes[2].second);","                    test.ok(pp.likes[1].foo);","                    pp.likes.remove(2);","                    test.equal(pp.likes.length, 2);","                    test.ok(!pp.likes[2]);","                    pp.likes.remove(pp.likes[1]);","                    test.equal(pp.likes.length, 1);","                    test.ok(!pp.likes[1]);","                    test.ok(pp.likes[3]);","                    pp.save(function () {","                        Post.find(p.id, function (err, pp) {","                            test.equal(pp.likes.length, 1);","                            test.ok(!pp.likes[1]);","                            test.ok(pp.likes[3]);","                            test.done();","                        });","                    });","                });","            });","        });","    });","","    it('should find or create', function (test) {","        var email = 'some email ' + Math.random();","        User.findOrCreate({where: {email: email}}, function (err, u) {","            test.ok(u);","            test.ok(!u.age);","            User.findOrCreate({where: {email: email}}, {age: 21}, function (err, u2) {","                test.equals(u.id.toString(), u2.id.toString(), 'Same user ids');","                test.ok(!u2.age);","                test.done();","            });","        });","    });","","}",""],"l":{"2":1,"3":1,"5":1,"7":1,"8":1,"10":1,"11":0,"14":1,"15":0,"18":1,"20":0,"21":0,"22":0,"23":0,"25":0,"27":0,"28":0,"29":0,"30":0,"33":0,"34":0,"35":0,"38":0,"40":0,"42":0,"43":0,"44":0,"47":1,"48":0,"49":0,"54":1,"61":1,"68":1,"69":0,"70":0,"71":0,"74":0,"75":1,"76":0,"77":0,"79":0,"80":0,"81":0,"83":0,"84":0,"88":1,"89":0,"91":0,"93":0,"95":0,"105":0,"109":0,"114":0,"116":0,"121":0,"122":0,"124":0,"128":0,"134":1,"135":0,"136":0,"139":0,"140":0,"143":0,"158":0,"164":0,"168":0,"169":0,"171":0,"173":0,"176":0,"177":0,"180":0,"182":0,"183":0,"184":0,"185":0,"187":0,"193":0,"194":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"212":0,"213":0,"216":0,"220":0,"221":0,"223":0,"224":0,"225":0,"226":0,"227":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"246":0,"247":0,"250":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"322":0,"323":0,"325":0,"326":0,"329":1,"330":0,"331":0,"332":0,"333":0,"334":0,"337":0,"338":0,"339":0,"340":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"383":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":0,"397":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"411":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":0,"430":0,"431":0,"437":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"448":0,"449":0,"450":0,"451":0,"453":0,"454":0,"456":0,"462":0,"464":0,"465":0,"466":0,"467":0,"468":0,"475":0,"480":0,"482":0,"483":0,"484":0,"486":0,"487":0,"488":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"499":0,"500":0,"502":0,"503":0,"504":0,"506":0,"507":0,"508":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":0,"518":0,"519":0,"520":0,"522":0,"537":0,"550":0,"551":0,"553":0,"554":0,"555":0,"556":0,"557":0,"558":0,"559":0,"560":0,"561":0,"562":0,"563":0,"564":0,"567":0,"568":0,"569":0,"570":0,"571":0,"572":0,"573":0,"576":1,"577":0,"581":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"590":0,"591":0,"597":0,"598":0,"606":0,"607":0,"610":0,"611":1,"612":0,"613":0,"614":0,"615":0,"616":0,"618":0,"619":0,"620":0,"625":1,"626":0,"627":0,"628":0,"633":1,"634":0,"635":0,"636":0,"637":0,"638":0,"639":0,"641":0,"645":1,"646":0,"647":0,"648":0,"649":0,"650":0,"651":0,"652":0,"654":0,"658":1,"659":0,"660":0,"661":0,"662":0,"663":0,"664":0,"665":0,"666":0,"669":0,"673":1,"674":0,"675":0,"676":0,"677":0,"678":0,"679":0,"680":0,"683":0,"687":1,"688":0,"689":0,"690":0,"691":0,"692":0,"693":0,"694":0,"695":0,"696":0,"697":0,"701":1,"702":0,"703":0,"704":0,"705":0,"706":0,"707":0,"708":0,"709":0,"710":0,"711":0,"715":0,"716":1,"717":0,"718":0,"724":1,"725":0,"869":0,"870":0,"871":0,"880":0,"881":0,"882":0,"883":0,"886":0,"887":1,"888":0,"889":0,"890":0,"891":0,"896":1,"897":0,"898":0,"899":0,"900":0,"902":0,"906":1,"907":0,"908":0,"909":0,"910":0,"912":0,"916":1,"917":0,"921":0,"922":0,"923":0,"924":0,"925":0,"926":0,"927":0,"928":0,"929":0,"935":0,"936":0,"938":0,"940":0,"941":0,"942":0,"945":0,"946":0,"947":0,"948":0,"949":0,"950":0,"951":0,"952":0,"954":0,"955":0,"956":0,"957":0,"958":0,"1013":0,"1014":0,"1015":0,"1020":0,"1021":0,"1022":0,"1023":0,"1025":0,"1026":0,"1028":0,"1029":0,"1031":0,"1032":0,"1033":0,"1034":0,"1035":0,"1037":0,"1038":0,"1039":0,"1040":0,"1041":0,"1042":0,"1043":0,"1044":0,"1051":0,"1052":0,"1053":0,"1054":0,"1056":0,"1057":0,"1058":0,"1059":0,"1060":0,"1061":0,"1062":0,"1063":0,"1064":0,"1065":0,"1066":0,"1067":0,"1068":0,"1069":0,"1070":0,"1071":0,"1080":0,"1081":0,"1082":0,"1083":0,"1084":0,"1085":0,"1086":0,"1087":0,"1088":0,"1089":0,"1090":0,"1091":0,"1092":0,"1093":0,"1094":0,"1095":0,"1096":0,"1097":0,"1098":0,"1099":0,"1100":0,"1101":0,"1102":0,"1103":0,"1104":0,"1105":0,"1106":0,"1107":0,"1108":0,"1116":0,"1117":0,"1118":0,"1119":0,"1120":0,"1121":0,"1122":0,"1123":0,"1124":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/jutil.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/jutil.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":50}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":35},"end":{"line":2,"column":58}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":45},"end":{"line":5,"column":71}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":2}},"2":{"start":{"line":2,"column":4},"end":{"line":4,"column":7}},"3":{"start":{"line":3,"column":8},"end":{"line":3,"column":55}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":7}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":81}}},"branchMap":{},"code":["exports.inherits = function (newClass, baseClass) {","    Object.keys(baseClass).forEach(function (classMethod) {","        newClass[classMethod] = baseClass[classMethod];","    });","    Object.keys(baseClass.prototype).forEach(function (instanceMethod) {","        newClass.prototype[instanceMethod] = baseClass.prototype[instanceMethod];","    });","};","",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/railway.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/railway.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":1,"137":0,"138":0,"139":0,"140":0,"141":0},"b":{"1":[1,0],"2":[0,1],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"init","line":11,"loc":{"start":{"line":11,"column":17},"end":{"line":11,"column":37}}},"2":{"name":"(anonymous_2)","line":70,"loc":{"start":{"line":70,"column":31},"end":{"line":70,"column":42}}},"3":{"name":"(anonymous_3)","line":80,"loc":{"start":{"line":80,"column":28},"end":{"line":80,"column":45}}},"4":{"name":"loadSchema","line":87,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":50}}},"5":{"name":"(anonymous_5)","line":113,"loc":{"start":{"line":113,"column":33},"end":{"line":113,"column":51}}},"6":{"name":"log","line":122,"loc":{"start":{"line":122,"column":0},"end":{"line":122,"column":29}}},"7":{"name":"prepareContext","line":133,"loc":{"start":{"line":133,"column":0},"end":{"line":133,"column":63}}},"8":{"name":"(anonymous_8)","line":143,"loc":{"start":{"line":143,"column":19},"end":{"line":143,"column":31}}},"9":{"name":"(anonymous_9)","line":157,"loc":{"start":{"line":157,"column":17},"end":{"line":157,"column":29}}},"10":{"name":"(anonymous_10)","line":160,"loc":{"start":{"line":160,"column":42},"end":{"line":160,"column":54}}},"11":{"name":"(anonymous_11)","line":166,"loc":{"start":{"line":166,"column":31},"end":{"line":166,"column":43}}},"12":{"name":"(anonymous_12)","line":176,"loc":{"start":{"line":176,"column":23},"end":{"line":176,"column":35}}},"13":{"name":"(anonymous_13)","line":177,"loc":{"start":{"line":177,"column":42},"end":{"line":177,"column":54}}},"14":{"name":"(anonymous_14)","line":180,"loc":{"start":{"line":180,"column":41},"end":{"line":180,"column":54}}},"15":{"name":"(anonymous_15)","line":191,"loc":{"start":{"line":191,"column":32},"end":{"line":191,"column":63}}},"16":{"name":"(anonymous_16)","line":214,"loc":{"start":{"line":214,"column":19},"end":{"line":214,"column":49}}},"17":{"name":"(anonymous_17)","line":228,"loc":{"start":{"line":228,"column":23},"end":{"line":228,"column":39}}},"18":{"name":"(anonymous_18)","line":238,"loc":{"start":{"line":238,"column":14},"end":{"line":238,"column":37}}},"19":{"name":"argument","line":256,"loc":{"start":{"line":256,"column":4},"end":{"line":256,"column":28}}},"20":{"name":"(anonymous_20)","line":258,"loc":{"start":{"line":258,"column":59},"end":{"line":258,"column":72}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":50}},"5":{"start":{"line":7,"column":0},"end":{"line":9,"column":1}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":30}},"7":{"start":{"line":11,"column":0},"end":{"line":265,"column":2}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":29}},"9":{"start":{"line":14,"column":4},"end":{"line":23,"column":5}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":33}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":25}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":28}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":23}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":26}},"15":{"start":{"line":21,"column":8},"end":{"line":21,"column":28}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":32}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":30}},"18":{"start":{"line":27,"column":4},"end":{"line":27,"column":59}},"19":{"start":{"line":28,"column":4},"end":{"line":28,"column":38}},"20":{"start":{"line":29,"column":4},"end":{"line":29,"column":52}},"21":{"start":{"line":30,"column":4},"end":{"line":30,"column":29}},"22":{"start":{"line":31,"column":4},"end":{"line":31,"column":15}},"23":{"start":{"line":33,"column":4},"end":{"line":67,"column":5}},"24":{"start":{"line":34,"column":8},"end":{"line":49,"column":9}},"25":{"start":{"line":35,"column":12},"end":{"line":48,"column":13}},"26":{"start":{"line":36,"column":16},"end":{"line":36,"column":43}},"27":{"start":{"line":37,"column":16},"end":{"line":39,"column":17}},"28":{"start":{"line":38,"column":20},"end":{"line":38,"column":31}},"29":{"start":{"line":40,"column":16},"end":{"line":44,"column":17}},"30":{"start":{"line":41,"column":20},"end":{"line":41,"column":41}},"31":{"start":{"line":43,"column":20},"end":{"line":43,"column":37}},"32":{"start":{"line":46,"column":16},"end":{"line":46,"column":76}},"33":{"start":{"line":47,"column":16},"end":{"line":47,"column":24}},"34":{"start":{"line":51,"column":8},"end":{"line":54,"column":9}},"35":{"start":{"line":52,"column":12},"end":{"line":52,"column":93}},"36":{"start":{"line":53,"column":12},"end":{"line":53,"column":97}},"37":{"start":{"line":57,"column":8},"end":{"line":59,"column":9}},"38":{"start":{"line":58,"column":12},"end":{"line":58,"column":63}},"39":{"start":{"line":61,"column":8},"end":{"line":61,"column":73}},"40":{"start":{"line":62,"column":8},"end":{"line":62,"column":25}},"41":{"start":{"line":63,"column":8},"end":{"line":63,"column":71}},"42":{"start":{"line":63,"column":29},"end":{"line":63,"column":71}},"43":{"start":{"line":66,"column":8},"end":{"line":66,"column":48}},"44":{"start":{"line":69,"column":4},"end":{"line":75,"column":5}},"45":{"start":{"line":70,"column":8},"end":{"line":72,"column":11}},"46":{"start":{"line":71,"column":12},"end":{"line":71,"column":53}},"47":{"start":{"line":74,"column":8},"end":{"line":74,"column":49}},"48":{"start":{"line":79,"column":0},"end":{"line":79,"column":27}},"49":{"start":{"line":80,"column":0},"end":{"line":85,"column":3}},"50":{"start":{"line":81,"column":4},"end":{"line":81,"column":30}},"51":{"start":{"line":82,"column":4},"end":{"line":84,"column":5}},"52":{"start":{"line":83,"column":8},"end":{"line":83,"column":30}},"53":{"start":{"line":87,"column":0},"end":{"line":120,"column":1}},"54":{"start":{"line":88,"column":4},"end":{"line":88,"column":38}},"55":{"start":{"line":90,"column":4},"end":{"line":90,"column":63}},"56":{"start":{"line":93,"column":4},"end":{"line":93,"column":56}},"57":{"start":{"line":94,"column":4},"end":{"line":100,"column":5}},"58":{"start":{"line":95,"column":8},"end":{"line":95,"column":27}},"59":{"start":{"line":96,"column":11},"end":{"line":100,"column":5}},"60":{"start":{"line":97,"column":8},"end":{"line":97,"column":31}},"61":{"start":{"line":99,"column":8},"end":{"line":99,"column":27}},"62":{"start":{"line":102,"column":4},"end":{"line":110,"column":5}},"63":{"start":{"line":103,"column":8},"end":{"line":103,"column":58}},"64":{"start":{"line":104,"column":8},"end":{"line":106,"column":9}},"65":{"start":{"line":105,"column":12},"end":{"line":105,"column":58}},"66":{"start":{"line":108,"column":8},"end":{"line":108,"column":99}},"67":{"start":{"line":109,"column":8},"end":{"line":109,"column":29}},"68":{"start":{"line":113,"column":4},"end":{"line":119,"column":7}},"69":{"start":{"line":114,"column":8},"end":{"line":118,"column":9}},"70":{"start":{"line":115,"column":12},"end":{"line":115,"column":32}},"71":{"start":{"line":117,"column":12},"end":{"line":117,"column":28}},"72":{"start":{"line":122,"column":0},"end":{"line":131,"column":1}},"73":{"start":{"line":123,"column":4},"end":{"line":123,"column":36}},"74":{"start":{"line":124,"column":4},"end":{"line":124,"column":35}},"75":{"start":{"line":125,"column":4},"end":{"line":125,"column":79}},"76":{"start":{"line":126,"column":4},"end":{"line":130,"column":7}},"77":{"start":{"line":133,"column":0},"end":{"line":263,"column":1}},"78":{"start":{"line":134,"column":4},"end":{"line":141,"column":34}},"79":{"start":{"line":143,"column":4},"end":{"line":143,"column":34}},"80":{"start":{"line":157,"column":4},"end":{"line":171,"column":6}},"81":{"start":{"line":158,"column":8},"end":{"line":158,"column":38}},"82":{"start":{"line":159,"column":8},"end":{"line":159,"column":44}},"83":{"start":{"line":160,"column":8},"end":{"line":160,"column":57}},"84":{"start":{"line":161,"column":8},"end":{"line":161,"column":67}},"85":{"start":{"line":162,"column":8},"end":{"line":162,"column":42}},"86":{"start":{"line":163,"column":8},"end":{"line":163,"column":18}},"87":{"start":{"line":164,"column":8},"end":{"line":164,"column":29}},"88":{"start":{"line":165,"column":8},"end":{"line":165,"column":30}},"89":{"start":{"line":166,"column":8},"end":{"line":168,"column":11}},"90":{"start":{"line":167,"column":12},"end":{"line":167,"column":45}},"91":{"start":{"line":167,"column":38},"end":{"line":167,"column":45}},"92":{"start":{"line":169,"column":8},"end":{"line":169,"column":14}},"93":{"start":{"line":170,"column":8},"end":{"line":170,"column":23}},"94":{"start":{"line":176,"column":4},"end":{"line":184,"column":6}},"95":{"start":{"line":177,"column":8},"end":{"line":177,"column":57}},"96":{"start":{"line":178,"column":8},"end":{"line":178,"column":33}},"97":{"start":{"line":179,"column":8},"end":{"line":179,"column":14}},"98":{"start":{"line":180,"column":8},"end":{"line":182,"column":11}},"99":{"start":{"line":181,"column":12},"end":{"line":181,"column":42}},"100":{"start":{"line":183,"column":8},"end":{"line":183,"column":34}},"101":{"start":{"line":185,"column":4},"end":{"line":185,"column":21}},"102":{"start":{"line":186,"column":4},"end":{"line":186,"column":42}},"103":{"start":{"line":191,"column":4},"end":{"line":209,"column":6}},"104":{"start":{"line":192,"column":8},"end":{"line":192,"column":14}},"105":{"start":{"line":193,"column":8},"end":{"line":193,"column":26}},"106":{"start":{"line":194,"column":8},"end":{"line":194,"column":28}},"107":{"start":{"line":195,"column":8},"end":{"line":195,"column":29}},"108":{"start":{"line":196,"column":8},"end":{"line":203,"column":9}},"109":{"start":{"line":197,"column":12},"end":{"line":197,"column":25}},"110":{"start":{"line":199,"column":12},"end":{"line":201,"column":13}},"111":{"start":{"line":200,"column":16},"end":{"line":200,"column":27}},"112":{"start":{"line":202,"column":12},"end":{"line":202,"column":89}},"113":{"start":{"line":204,"column":8},"end":{"line":206,"column":9}},"114":{"start":{"line":205,"column":12},"end":{"line":205,"column":30}},"115":{"start":{"line":207,"column":8},"end":{"line":207,"column":39}},"116":{"start":{"line":208,"column":8},"end":{"line":208,"column":17}},"117":{"start":{"line":214,"column":4},"end":{"line":222,"column":6}},"118":{"start":{"line":215,"column":8},"end":{"line":215,"column":33}},"119":{"start":{"line":215,"column":21},"end":{"line":215,"column":33}},"120":{"start":{"line":216,"column":8},"end":{"line":219,"column":9}},"121":{"start":{"line":217,"column":12},"end":{"line":217,"column":26}},"122":{"start":{"line":218,"column":12},"end":{"line":218,"column":26}},"123":{"start":{"line":220,"column":8},"end":{"line":220,"column":37}},"124":{"start":{"line":221,"column":8},"end":{"line":221,"column":38}},"125":{"start":{"line":228,"column":4},"end":{"line":230,"column":6}},"126":{"start":{"line":229,"column":8},"end":{"line":229,"column":48}},"127":{"start":{"line":229,"column":19},"end":{"line":229,"column":48}},"128":{"start":{"line":238,"column":4},"end":{"line":240,"column":6}},"129":{"start":{"line":239,"column":8},"end":{"line":239,"column":49}},"130":{"start":{"line":239,"column":19},"end":{"line":239,"column":49}},"131":{"start":{"line":242,"column":4},"end":{"line":242,"column":57}},"132":{"start":{"line":248,"column":4},"end":{"line":252,"column":5}},"133":{"start":{"line":249,"column":8},"end":{"line":251,"column":9}},"134":{"start":{"line":250,"column":12},"end":{"line":250,"column":51}},"135":{"start":{"line":254,"column":4},"end":{"line":254,"column":15}},"136":{"start":{"line":256,"column":4},"end":{"line":262,"column":5}},"137":{"start":{"line":257,"column":8},"end":{"line":257,"column":14}},"138":{"start":{"line":258,"column":8},"end":{"line":260,"column":11}},"139":{"start":{"line":259,"column":12},"end":{"line":259,"column":47}},"140":{"start":{"line":259,"column":41},"end":{"line":259,"column":47}},"141":{"start":{"line":261,"column":8},"end":{"line":261,"column":17}}},"branchMap":{"1":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":17},"end":{"line":5,"column":30}},{"start":{"line":5,"column":34},"end":{"line":5,"column":49}}]},"2":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":0},"end":{"line":7,"column":0}},{"start":{"line":7,"column":0},"end":{"line":7,"column":0}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"4":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":32}},{"start":{"line":14,"column":37},"end":{"line":14,"column":73}},{"start":{"line":14,"column":77},"end":{"line":14,"column":119}}]},"5":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":20},"end":{"line":27,"column":24}},{"start":{"line":27,"column":28},"end":{"line":27,"column":36}}]},"6":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":38},"end":{"line":29,"column":45}},{"start":{"line":29,"column":49},"end":{"line":29,"column":51}}]},"7":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"8":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":8}},{"start":{"line":34,"column":8},"end":{"line":34,"column":8}}]},"9":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":16},"end":{"line":37,"column":16}},{"start":{"line":37,"column":16},"end":{"line":37,"column":16}}]},"10":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":16},"end":{"line":40,"column":16}},{"start":{"line":40,"column":16},"end":{"line":40,"column":16}}]},"11":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"12":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]},"13":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":25}},{"start":{"line":57,"column":29},"end":{"line":57,"column":55}}]},"14":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":28},"end":{"line":61,"column":34}},{"start":{"line":61,"column":38},"end":{"line":61,"column":51}},{"start":{"line":61,"column":55},"end":{"line":61,"column":63}}]},"15":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"16":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":4}},{"start":{"line":69,"column":4},"end":{"line":69,"column":4}}]},"17":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"18":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":22},"end":{"line":93,"column":26}},{"start":{"line":93,"column":30},"end":{"line":93,"column":38}}]},"19":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"20":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":11},"end":{"line":96,"column":11}},{"start":{"line":96,"column":11},"end":{"line":96,"column":11}}]},"21":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":4}},{"start":{"line":102,"column":4},"end":{"line":102,"column":4}}]},"22":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":8}},{"start":{"line":104,"column":8},"end":{"line":104,"column":8}}]},"23":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"24":{"line":125,"type":"cond-expr","locations":[{"start":{"line":125,"column":49},"end":{"line":125,"column":50}},{"start":{"line":125,"column":53},"end":{"line":125,"column":61}}]},"25":{"line":143,"type":"binary-expr","locations":[{"start":{"line":143,"column":11},"end":{"line":143,"column":15}},{"start":{"line":143,"column":19},"end":{"line":143,"column":33}}]},"26":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":19},"end":{"line":159,"column":37}},{"start":{"line":159,"column":41},"end":{"line":159,"column":43}}]},"27":{"line":160,"type":"binary-expr","locations":[{"start":{"line":160,"column":18},"end":{"line":160,"column":38}},{"start":{"line":160,"column":42},"end":{"line":160,"column":56}}]},"28":{"line":161,"type":"binary-expr","locations":[{"start":{"line":161,"column":28},"end":{"line":161,"column":32}},{"start":{"line":161,"column":36},"end":{"line":161,"column":47}},{"start":{"line":161,"column":51},"end":{"line":161,"column":59}}]},"29":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":12},"end":{"line":167,"column":12}},{"start":{"line":167,"column":12},"end":{"line":167,"column":12}}]},"30":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":18},"end":{"line":177,"column":38}},{"start":{"line":177,"column":42},"end":{"line":177,"column":56}}]},"31":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":8},"end":{"line":196,"column":8}},{"start":{"line":196,"column":8},"end":{"line":196,"column":8}}]},"32":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":12},"end":{"line":199,"column":12}},{"start":{"line":199,"column":12},"end":{"line":199,"column":12}}]},"33":{"line":202,"type":"binary-expr","locations":[{"start":{"line":202,"column":17},"end":{"line":202,"column":23}},{"start":{"line":202,"column":27},"end":{"line":202,"column":36}}]},"34":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":8},"end":{"line":204,"column":8}},{"start":{"line":204,"column":8},"end":{"line":204,"column":8}}]},"35":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":8},"end":{"line":215,"column":8}},{"start":{"line":215,"column":8},"end":{"line":215,"column":8}}]},"36":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":8},"end":{"line":216,"column":8}},{"start":{"line":216,"column":8},"end":{"line":216,"column":8}}]},"37":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":12},"end":{"line":216,"column":38}},{"start":{"line":216,"column":42},"end":{"line":216,"column":66}},{"start":{"line":216,"column":70},"end":{"line":216,"column":94}}]},"38":{"line":220,"type":"binary-expr","locations":[{"start":{"line":220,"column":22},"end":{"line":220,"column":26}},{"start":{"line":220,"column":30},"end":{"line":220,"column":36}}]},"39":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":8},"end":{"line":229,"column":8}},{"start":{"line":229,"column":8},"end":{"line":229,"column":8}}]},"40":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":8},"end":{"line":239,"column":8}},{"start":{"line":239,"column":8},"end":{"line":239,"column":8}}]},"41":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":17},"end":{"line":242,"column":28}},{"start":{"line":242,"column":32},"end":{"line":242,"column":50}},{"start":{"line":242,"column":54},"end":{"line":242,"column":56}}]},"42":{"line":248,"type":"if","locations":[{"start":{"line":248,"column":4},"end":{"line":248,"column":4}},{"start":{"line":248,"column":4},"end":{"line":248,"column":4}}]},"43":{"line":248,"type":"binary-expr","locations":[{"start":{"line":248,"column":8},"end":{"line":248,"column":20}},{"start":{"line":248,"column":24},"end":{"line":248,"column":56}}]},"44":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":12},"end":{"line":259,"column":12}},{"start":{"line":259,"column":12},"end":{"line":259,"column":12}}]},"45":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":16},"end":{"line":259,"column":18}},{"start":{"line":259,"column":22},"end":{"line":259,"column":39}}]}},"code":["var fs = require('fs');","var path = require('path');","var Schema = require('./schema').Schema;","","var existsSync = fs.existsSync || path.existsSync;","","if (global.railway) {","    railway.orm._schemas = [];","}","","module.exports = function init(root) {","    var railway, app, models;","","    if (typeof root !== 'object' || (root.constructor.name !== 'Compound' && root.constructor.name !== 'CompoundServer')) {","        railway = global.railway;","        app = global.app;","        models = app.models;","    } else {","        railway = root;","        app = railway.app;","        root = railway.root;","        models = railway.models;","    }","","    railway.orm._schemas = [];","","    var confFile = (root || app.root) + '/config/database';","    var appConf = app.get('database');","    var config = railway.orm.config = appConf || {};","    var env = app.set('env');","    var schema;","","    if (!railway.parent) {","        if (!appConf) {","            try {","                var cf = require(confFile);","                if (cf instanceof Array) {","                    cf = cf[0];","                }","                if (typeof cf === 'function') {","                    config = cf(railway);","                } else {","                    config = cf[env];","                }","            } catch (e) {","                console.log('Could not load config/database.{js|json|yml}');","                throw e;","            }","        }","","        if (!config) {","            console.log('No environment ' + env + ' found in config/database.{js|json|yml}');","            throw new Error('No environment ' + env + ' found in config/database.{js|json|yml}');","        }","","        // when driver name started with point - look for driver in app root (relative path)","        if (config.driver && config.driver.match(/^\\./)) {","            config.driver = path.join(app.root, config.driver);","        }","","        schema = new Schema(config && config.driver || 'memory', config);","        schema.log = log;","        if (!schema.adapter) throw new Error('Adapter is not defined');","","    } else {","        schema = railway.parent.orm._schemas[0];","    }","","    if (schema.waitForConnect) {","        schema.on('connected', function() {","            loadSchema(schema, railway, app, models);","        });","    } else {","        loadSchema(schema, railway, app, models);","    }","","// check validations and display warning","","var displayWarning = false;","Object.keys(models).forEach(function (model) {","    var Model = models[model];","    if (Model._validations) {","        displayWarning = true;","    }","});","","function loadSchema(schema, railway, app, models) {","    railway.orm._schemas.push(schema);","","    var context = prepareContext(models, railway, app, schema);","","    // run schema first","    var schemaFile = (root || app.root) + '/db/schema.';","    if (existsSync(schemaFile + 'js')) {","        schemaFile += 'js';","    } else if (existsSync(schemaFile + 'coffee')) {","        schemaFile += 'coffee';","    } else {","        schemaFile = false;","    }","","    if (schemaFile) {","        var code = fs.readFileSync(schemaFile).toString();","        if (schemaFile.match(/\\.coffee$/)) {","            code = require('coffee-script').compile(code);","        }","        /*jshint evil: true */","        var fn = new Function('context', 'require', 'with(context){(function(){' + code + '})()}');","        fn(context, require);","    }","","    // autoupdate if set app.enable('autoupdate')  or freeze schemas by default","    railway.orm._schemas.forEach(function (schema) {","        if(app.enabled('autoupdate')){","            schema.autoupdate();","        } else {","            schema.freeze();","        }","    });","}","","function log(str, startTime) {","    var $ = railway.utils.stylize.$;","    var m = Date.now() - startTime;","    railway.utils.debug(str + $(' [' + (m < 10 ? m : $(m).red) + ' ms]').bold);","    app.emit('app-event', {","        type: 'query',","        param: str,","        time: m","    });","}","","function prepareContext(models, railway, app, defSchema, done) {","    var ctx = {app: app},","        _models = {},","        settings = {},","        cname,","        schema,","        connected = 0,","        wait = 0,","        nonJugglingSchema = false;","","    done = done || function () {};","","    /**","     * Multiple schemas support","     * example:","     * schema('redis', {url:'...'}, function () {","     *     describe models using redis connection","     *     ...","     * });","     * schema(function () {","     *     describe models stored in memory","     *     ...","     * });","     */","    ctx.schema = function () {","        var name = argument('string');","        var opts = argument('object') || {};","        var def = argument('function') || function () {};","        schema = new Schema(name || opts.driver || 'memory', opts);","        railway.orm._schemas.push(schema);","        wait += 1;","        ctx.gotSchema = true;","        schema.on('log', log);","        schema.on('connected', function () {","            if (wait === ++connected) done();","        });","        def();","        schema = false;","    };","","    /**","     * Use custom schema driver","     */","    ctx.customSchema = function () {","        var def = argument('function') || function () {};","        nonJugglingSchema = true;","        def();","        Object.keys(ctx.exports).forEach(function (m) {","            ctx.define(m, ctx.exports[m]);","        });","        nonJugglingSchema = false;","    };","    ctx.exports = {};","    ctx.module = { exports: ctx.exports };","","    /**","     * Define a class in current schema","     */","    ctx.describe = ctx.define = function (className, callback) {","        var m;","        cname = className;","        _models[cname] = {};","        settings[cname] = {};","        if (nonJugglingSchema) {","            m = callback;","        } else {","            if ('function' === typeof callback) {","                callback();","            }","            m = (schema || defSchema).define(className, _models[cname], settings[cname]);","        }","        if (global.railway) {","            global[cname] = m;","        }","        models[cname] = ctx[cname] = m;","        return m;","    };","","    /**","     * Define a property in current class","     */","    ctx.property = function (name, type, params) {","        if (!params) params = {};","        if (typeof type !== 'function' && typeof type === 'object' && !(type instanceof Array)) {","            params = type;","            type = String;","        }","        params.type = type || String;","        _models[cname][name] = params;","    };","","    /**","     * Set custom table name for current class","     * @param name - name of table","     */","    ctx.setTableName = function (name) {","        if (cname) settings[cname].table = name;","    };","","    /**","     * Set configuration param","     *","     * @param name - name of param.","     * @param value - value.","     */","    ctx.set = function (name, value) {","        if (cname) settings[cname][name] = value;","    };","","    ctx.pathTo = railway.map && railway.map.pathTo || {};","","    /**","     * If the Schema has additional types, add them to the context","     * e.g. MySQL has an additional Point type","     */","    if (Schema.types && Object.keys(Schema.types).length) {","        for (var typeName in Schema.types) {","            ctx[typeName] = Schema.types[typeName];","        }","    }","","    return ctx;","","    function argument(type) {","        var r;","        [].forEach.call(arguments.callee.caller.arguments, function (a) {","            if (!r && typeof a === type) r = a;","        });","        return r;","    }","}","","};",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"11":1,"12":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"25":0,"27":0,"28":0,"29":0,"30":0,"31":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"40":0,"41":0,"43":0,"46":0,"47":0,"51":0,"52":0,"53":0,"57":0,"58":0,"61":0,"62":0,"63":0,"66":0,"69":0,"70":0,"71":0,"74":0,"79":0,"80":0,"81":0,"82":0,"83":0,"87":1,"88":0,"90":0,"93":0,"94":0,"95":0,"96":0,"97":0,"99":0,"102":0,"103":0,"104":0,"105":0,"108":0,"109":0,"113":0,"114":0,"115":0,"117":0,"122":1,"123":0,"124":0,"125":0,"126":0,"133":1,"134":0,"143":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"169":0,"170":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"183":0,"185":0,"186":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"199":0,"200":0,"202":0,"204":0,"205":0,"207":0,"208":0,"214":0,"215":0,"216":0,"217":0,"218":0,"220":0,"221":0,"228":0,"229":0,"238":0,"239":0,"242":0,"248":0,"249":0,"250":0,"254":0,"256":1,"257":0,"258":0,"259":0,"261":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/utils.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/utils.js","s":{"1":1,"2":1,"3":2,"4":2,"5":2,"6":2},"b":{},"f":{"1":2},"fnMap":{"1":{"name":"safeRequire","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":130}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":24}}},"branchMap":{},"code":["exports.safeRequire = safeRequire;","","function safeRequire(module) {","    try {","        return require(module);","    } catch (e) {","        console.log('Run \"npm install jugglingdb ' + module + '\" command to use jugglingdb using ' + module + ' database engine');","        process.exit(1);","    }","}","",""],"l":{"1":1,"3":1,"4":2,"5":2,"7":2,"8":2}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/cradle.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/cradle.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":1,"58":0,"59":1,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1,"115":1,"116":0,"117":1,"118":0,"119":0,"120":1,"121":0,"122":1,"123":0,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":1,"131":0,"132":0,"133":1,"134":0,"135":0,"136":1,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":1,"156":0,"157":1,"158":0,"159":0,"160":1,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":1,"173":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},"fnMap":{"1":{"name":"CradleAdapter","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}}},"2":{"name":"createdbif","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":38}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":18},"end":{"line":17,"column":41}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":37},"end":{"line":19,"column":48}}},"5":{"name":"naturalize","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":33}}},"6":{"name":"idealize","line":30,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}}},"7":{"name":"stringify","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":25}}},"8":{"name":"errorHandler","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":38}}},"9":{"name":"(anonymous_9)","line":39,"loc":{"start":{"line":39,"column":11},"end":{"line":39,"column":30}}},"10":{"name":"(anonymous_10)","line":45,"loc":{"start":{"line":45,"column":26},"end":{"line":45,"column":40}}},"11":{"name":"synchronize","line":55,"loc":{"start":{"line":55,"column":0},"end":{"line":55,"column":48}}},"12":{"name":"(anonymous_12)","line":58,"loc":{"start":{"line":58,"column":45},"end":{"line":58,"column":64}}},"13":{"name":"applyFilter","line":67,"loc":{"start":{"line":67,"column":0},"end":{"line":67,"column":29}}},"14":{"name":"(anonymous_14)","line":72,"loc":{"start":{"line":72,"column":11},"end":{"line":72,"column":26}}},"15":{"name":"(anonymous_15)","line":74,"loc":{"start":{"line":74,"column":21},"end":{"line":74,"column":36}}},"16":{"name":"test","line":82,"loc":{"start":{"line":82,"column":4},"end":{"line":82,"column":34}}},"17":{"name":"numerically","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":27}}},"18":{"name":"literally","line":95,"loc":{"start":{"line":95,"column":0},"end":{"line":95,"column":25}}},"19":{"name":"filtering","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":49}}},"20":{"name":"(anonymous_20)","line":125,"loc":{"start":{"line":125,"column":21},"end":{"line":125,"column":39}}},"21":{"name":"(anonymous_21)","line":149,"loc":{"start":{"line":149,"column":21},"end":{"line":149,"column":48}}},"22":{"name":"(anonymous_22)","line":179,"loc":{"start":{"line":179,"column":30},"end":{"line":179,"column":41}}},"23":{"name":"(anonymous_23)","line":185,"loc":{"start":{"line":185,"column":37},"end":{"line":185,"column":48}}},"24":{"name":"(anonymous_24)","line":191,"loc":{"start":{"line":191,"column":33},"end":{"line":191,"column":49}}},"25":{"name":"(anonymous_25)","line":195,"loc":{"start":{"line":195,"column":33},"end":{"line":195,"column":65}}},"26":{"name":"(anonymous_26)","line":199,"loc":{"start":{"line":199,"column":30},"end":{"line":199,"column":48}}},"27":{"name":"(anonymous_27)","line":205,"loc":{"start":{"line":205,"column":31},"end":{"line":205,"column":63}}},"28":{"name":"(anonymous_28)","line":213,"loc":{"start":{"line":213,"column":43},"end":{"line":213,"column":79}}},"29":{"name":"(anonymous_29)","line":217,"loc":{"start":{"line":217,"column":30},"end":{"line":217,"column":48}}},"30":{"name":"(anonymous_30)","line":223,"loc":{"start":{"line":223,"column":41},"end":{"line":223,"column":73}}},"31":{"name":"(anonymous_31)","line":226,"loc":{"start":{"line":226,"column":6},"end":{"line":226,"column":26}}},"32":{"name":"(anonymous_32)","line":239,"loc":{"start":{"line":239,"column":33},"end":{"line":239,"column":63}}},"33":{"name":"(anonymous_33)","line":242,"loc":{"start":{"line":242,"column":30},"end":{"line":242,"column":48}}},"34":{"name":"(anonymous_34)","line":248,"loc":{"start":{"line":248,"column":31},"end":{"line":248,"column":61}}},"35":{"name":"(anonymous_35)","line":251,"loc":{"start":{"line":251,"column":30},"end":{"line":251,"column":48}}},"36":{"name":"(anonymous_36)","line":257,"loc":{"start":{"line":257,"column":32},"end":{"line":257,"column":65}}},"37":{"name":"(anonymous_37)","line":262,"loc":{"start":{"line":262,"column":7},"end":{"line":262,"column":26}}},"38":{"name":"(anonymous_38)","line":268,"loc":{"start":{"line":268,"column":33},"end":{"line":268,"column":73}}},"39":{"name":"(anonymous_39)","line":285,"loc":{"start":{"line":285,"column":7},"end":{"line":285,"column":18}}},"40":{"name":"(anonymous_40)","line":286,"loc":{"start":{"line":286,"column":107},"end":{"line":286,"column":125}}},"41":{"name":"(anonymous_41)","line":287,"loc":{"start":{"line":287,"column":31},"end":{"line":287,"column":45}}},"42":{"name":"(anonymous_42)","line":301,"loc":{"start":{"line":301,"column":30},"end":{"line":301,"column":64}}},"43":{"name":"(anonymous_43)","line":312,"loc":{"start":{"line":312,"column":34},"end":{"line":312,"column":64}}},"44":{"name":"(anonymous_44)","line":315,"loc":{"start":{"line":315,"column":7},"end":{"line":315,"column":27}}},"45":{"name":"(anonymous_45)","line":321,"loc":{"start":{"line":321,"column":37},"end":{"line":321,"column":63}}},"46":{"name":"(anonymous_46)","line":326,"loc":{"start":{"line":326,"column":7},"end":{"line":326,"column":26}}},"47":{"name":"(anonymous_47)","line":327,"loc":{"start":{"line":327,"column":32},"end":{"line":327,"column":46}}},"48":{"name":"(anonymous_48)","line":330,"loc":{"start":{"line":330,"column":34},"end":{"line":330,"column":53}}},"49":{"name":"(anonymous_49)","line":333,"loc":{"start":{"line":333,"column":33},"end":{"line":333,"column":47}}},"50":{"name":"(anonymous_50)","line":337,"loc":{"start":{"line":337,"column":32},"end":{"line":337,"column":46}}},"51":{"name":"(anonymous_51)","line":347,"loc":{"start":{"line":347,"column":32},"end":{"line":347,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":50}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"3":{"start":{"line":11,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":12,"column":4},"end":{"line":12,"column":22}},"5":{"start":{"line":13,"column":4},"end":{"line":13,"column":25}},"6":{"start":{"line":16,"column":0},"end":{"line":22,"column":1}},"7":{"start":{"line":17,"column":4},"end":{"line":21,"column":7}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":30}},"9":{"start":{"line":18,"column":16},"end":{"line":18,"column":30}},"10":{"start":{"line":19,"column":8},"end":{"line":20,"column":28}},"11":{"start":{"line":19,"column":23},"end":{"line":19,"column":65}},"12":{"start":{"line":19,"column":50},"end":{"line":19,"column":61}},"13":{"start":{"line":20,"column":15},"end":{"line":20,"column":26}},"14":{"start":{"line":24,"column":0},"end":{"line":29,"column":1}},"15":{"start":{"line":25,"column":4},"end":{"line":25,"column":24}},"16":{"start":{"line":27,"column":4},"end":{"line":27,"column":51}},"17":{"start":{"line":27,"column":18},"end":{"line":27,"column":51}},"18":{"start":{"line":28,"column":4},"end":{"line":28,"column":16}},"19":{"start":{"line":30,"column":0},"end":{"line":33,"column":1}},"20":{"start":{"line":31,"column":4},"end":{"line":31,"column":23}},"21":{"start":{"line":32,"column":4},"end":{"line":32,"column":16}},"22":{"start":{"line":34,"column":0},"end":{"line":36,"column":1}},"23":{"start":{"line":35,"column":4},"end":{"line":35,"column":41}},"24":{"start":{"line":38,"column":0},"end":{"line":53,"column":1}},"25":{"start":{"line":39,"column":4},"end":{"line":52,"column":6}},"26":{"start":{"line":40,"column":8},"end":{"line":51,"column":9}},"27":{"start":{"line":41,"column":12},"end":{"line":41,"column":39}},"28":{"start":{"line":42,"column":12},"end":{"line":42,"column":26}},"29":{"start":{"line":44,"column":12},"end":{"line":50,"column":13}},"30":{"start":{"line":45,"column":16},"end":{"line":47,"column":19}},"31":{"start":{"line":46,"column":20},"end":{"line":46,"column":40}},"32":{"start":{"line":49,"column":16},"end":{"line":49,"column":36}},"33":{"start":{"line":55,"column":0},"end":{"line":65,"column":1}},"34":{"start":{"line":56,"column":4},"end":{"line":56,"column":42}},"35":{"start":{"line":56,"column":31},"end":{"line":56,"column":42}},"36":{"start":{"line":57,"column":4},"end":{"line":64,"column":5}},"37":{"start":{"line":58,"column":8},"end":{"line":63,"column":11}},"38":{"start":{"line":59,"column":12},"end":{"line":59,"column":34}},"39":{"start":{"line":59,"column":20},"end":{"line":59,"column":34}},"40":{"start":{"line":60,"column":12},"end":{"line":60,"column":35}},"41":{"start":{"line":61,"column":12},"end":{"line":61,"column":30}},"42":{"start":{"line":62,"column":12},"end":{"line":62,"column":51}},"43":{"start":{"line":67,"column":0},"end":{"line":89,"column":1}},"44":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"45":{"start":{"line":69,"column":8},"end":{"line":69,"column":28}},"46":{"start":{"line":71,"column":4},"end":{"line":71,"column":41}},"47":{"start":{"line":72,"column":4},"end":{"line":80,"column":6}},"48":{"start":{"line":73,"column":8},"end":{"line":73,"column":24}},"49":{"start":{"line":74,"column":8},"end":{"line":78,"column":11}},"50":{"start":{"line":75,"column":12},"end":{"line":77,"column":13}},"51":{"start":{"line":76,"column":16},"end":{"line":76,"column":29}},"52":{"start":{"line":79,"column":8},"end":{"line":79,"column":20}},"53":{"start":{"line":82,"column":4},"end":{"line":88,"column":5}},"54":{"start":{"line":83,"column":8},"end":{"line":85,"column":9}},"55":{"start":{"line":84,"column":12},"end":{"line":84,"column":40}},"56":{"start":{"line":87,"column":8},"end":{"line":87,"column":32}},"57":{"start":{"line":91,"column":0},"end":{"line":93,"column":1}},"58":{"start":{"line":92,"column":3},"end":{"line":92,"column":34}},"59":{"start":{"line":95,"column":0},"end":{"line":97,"column":1}},"60":{"start":{"line":96,"column":3},"end":{"line":96,"column":34}},"61":{"start":{"line":99,"column":0},"end":{"line":144,"column":1}},"62":{"start":{"line":100,"column":3},"end":{"line":109,"column":4}},"63":{"start":{"line":101,"column":6},"end":{"line":103,"column":7}},"64":{"start":{"line":102,"column":10},"end":{"line":102,"column":22}},"65":{"start":{"line":104,"column":6},"end":{"line":106,"column":7}},"66":{"start":{"line":105,"column":10},"end":{"line":105,"column":28}},"67":{"start":{"line":108,"column":6},"end":{"line":108,"column":91}},"68":{"start":{"line":111,"column":3},"end":{"line":113,"column":4}},"69":{"start":{"line":112,"column":6},"end":{"line":112,"column":56}},"70":{"start":{"line":116,"column":3},"end":{"line":142,"column":4}},"71":{"start":{"line":117,"column":6},"end":{"line":117,"column":45}},"72":{"start":{"line":118,"column":6},"end":{"line":118,"column":28}},"73":{"start":{"line":119,"column":6},"end":{"line":119,"column":32}},"74":{"start":{"line":120,"column":6},"end":{"line":120,"column":26}},"75":{"start":{"line":121,"column":6},"end":{"line":123,"column":7}},"76":{"start":{"line":122,"column":9},"end":{"line":122,"column":33}},"77":{"start":{"line":125,"column":6},"end":{"line":135,"column":9}},"78":{"start":{"line":126,"column":9},"end":{"line":126,"column":44}},"79":{"start":{"line":127,"column":9},"end":{"line":130,"column":10}},"80":{"start":{"line":128,"column":12},"end":{"line":128,"column":50}},"81":{"start":{"line":129,"column":12},"end":{"line":129,"column":46}},"82":{"start":{"line":129,"column":31},"end":{"line":129,"column":46}},"83":{"start":{"line":131,"column":9},"end":{"line":131,"column":25}},"84":{"start":{"line":132,"column":9},"end":{"line":134,"column":10}},"85":{"start":{"line":133,"column":12},"end":{"line":133,"column":31}},"86":{"start":{"line":136,"column":6},"end":{"line":140,"column":7}},"87":{"start":{"line":137,"column":9},"end":{"line":137,"column":50}},"88":{"start":{"line":139,"column":9},"end":{"line":139,"column":48}},"89":{"start":{"line":141,"column":6},"end":{"line":141,"column":39}},"90":{"start":{"line":141,"column":19},"end":{"line":141,"column":39}},"91":{"start":{"line":143,"column":3},"end":{"line":143,"column":14}},"92":{"start":{"line":149,"column":0},"end":{"line":183,"column":2}},"93":{"start":{"line":150,"column":4},"end":{"line":150,"column":24}},"94":{"start":{"line":150,"column":17},"end":{"line":150,"column":24}},"95":{"start":{"line":153,"column":4},"end":{"line":153,"column":33}},"96":{"start":{"line":154,"column":4},"end":{"line":174,"column":5}},"97":{"start":{"line":155,"column":8},"end":{"line":155,"column":55}},"98":{"start":{"line":156,"column":8},"end":{"line":156,"column":50}},"99":{"start":{"line":157,"column":8},"end":{"line":160,"column":10}},"100":{"start":{"line":161,"column":8},"end":{"line":167,"column":9}},"101":{"start":{"line":162,"column":12},"end":{"line":162,"column":30}},"102":{"start":{"line":163,"column":12},"end":{"line":163,"column":61}},"103":{"start":{"line":164,"column":12},"end":{"line":166,"column":13}},"104":{"start":{"line":165,"column":16},"end":{"line":165,"column":65}},"105":{"start":{"line":168,"column":8},"end":{"line":168,"column":64}},"106":{"start":{"line":170,"column":8},"end":{"line":170,"column":36}},"107":{"start":{"line":171,"column":8},"end":{"line":171,"column":36}},"108":{"start":{"line":172,"column":8},"end":{"line":172,"column":44}},"109":{"start":{"line":173,"column":8},"end":{"line":173,"column":42}},"110":{"start":{"line":175,"column":4},"end":{"line":175,"column":146}},"111":{"start":{"line":177,"column":4},"end":{"line":182,"column":11}},"112":{"start":{"line":180,"column":10},"end":{"line":180,"column":60}},"113":{"start":{"line":181,"column":10},"end":{"line":181,"column":37}},"114":{"start":{"line":185,"column":0},"end":{"line":186,"column":2}},"115":{"start":{"line":191,"column":0},"end":{"line":193,"column":2}},"116":{"start":{"line":192,"column":4},"end":{"line":192,"column":48}},"117":{"start":{"line":195,"column":0},"end":{"line":203,"column":2}},"118":{"start":{"line":196,"column":4},"end":{"line":202,"column":6}},"119":{"start":{"line":200,"column":10},"end":{"line":200,"column":21}},"120":{"start":{"line":205,"column":0},"end":{"line":211,"column":2}},"121":{"start":{"line":206,"column":3},"end":{"line":210,"column":5}},"122":{"start":{"line":213,"column":0},"end":{"line":221,"column":2}},"123":{"start":{"line":214,"column":4},"end":{"line":220,"column":6}},"124":{"start":{"line":218,"column":10},"end":{"line":218,"column":28}},"125":{"start":{"line":223,"column":0},"end":{"line":234,"column":2}},"126":{"start":{"line":224,"column":3},"end":{"line":233,"column":5}},"127":{"start":{"line":227,"column":9},"end":{"line":231,"column":10}},"128":{"start":{"line":228,"column":12},"end":{"line":228,"column":47}},"129":{"start":{"line":230,"column":12},"end":{"line":230,"column":66}},"130":{"start":{"line":239,"column":0},"end":{"line":246,"column":2}},"131":{"start":{"line":240,"column":4},"end":{"line":245,"column":6}},"132":{"start":{"line":243,"column":10},"end":{"line":243,"column":20}},"133":{"start":{"line":248,"column":0},"end":{"line":255,"column":2}},"134":{"start":{"line":249,"column":4},"end":{"line":254,"column":6}},"135":{"start":{"line":252,"column":10},"end":{"line":252,"column":28}},"136":{"start":{"line":257,"column":0},"end":{"line":266,"column":2}},"137":{"start":{"line":258,"column":4},"end":{"line":265,"column":6}},"138":{"start":{"line":263,"column":10},"end":{"line":263,"column":26}},"139":{"start":{"line":268,"column":0},"end":{"line":299,"column":2}},"140":{"start":{"line":269,"column":4},"end":{"line":269,"column":20}},"141":{"start":{"line":270,"column":4},"end":{"line":270,"column":18}},"142":{"start":{"line":271,"column":4},"end":{"line":274,"column":5}},"143":{"start":{"line":272,"column":8},"end":{"line":272,"column":38}},"144":{"start":{"line":273,"column":8},"end":{"line":273,"column":35}},"145":{"start":{"line":276,"column":4},"end":{"line":276,"column":20}},"146":{"start":{"line":277,"column":4},"end":{"line":277,"column":34}},"147":{"start":{"line":279,"column":4},"end":{"line":298,"column":7}},"148":{"start":{"line":286,"column":8},"end":{"line":297,"column":23}},"149":{"start":{"line":287,"column":12},"end":{"line":289,"column":15}},"150":{"start":{"line":288,"column":16},"end":{"line":288,"column":37}},"151":{"start":{"line":290,"column":12},"end":{"line":290,"column":72}},"152":{"start":{"line":292,"column":12},"end":{"line":296,"column":13}},"153":{"start":{"line":293,"column":16},"end":{"line":293,"column":35}},"154":{"start":{"line":295,"column":16},"end":{"line":295,"column":29}},"155":{"start":{"line":301,"column":0},"end":{"line":307,"column":2}},"156":{"start":{"line":302,"column":3},"end":{"line":306,"column":5}},"157":{"start":{"line":312,"column":0},"end":{"line":319,"column":2}},"158":{"start":{"line":313,"column":4},"end":{"line":318,"column":6}},"159":{"start":{"line":316,"column":9},"end":{"line":316,"column":23}},"160":{"start":{"line":321,"column":0},"end":{"line":345,"column":2}},"161":{"start":{"line":322,"column":3},"end":{"line":344,"column":5}},"162":{"start":{"line":327,"column":10},"end":{"line":329,"column":13}},"163":{"start":{"line":328,"column":13},"end":{"line":328,"column":27}},"164":{"start":{"line":330,"column":10},"end":{"line":342,"column":24}},"165":{"start":{"line":331,"column":13},"end":{"line":331,"column":29}},"166":{"start":{"line":331,"column":21},"end":{"line":331,"column":29}},"167":{"start":{"line":333,"column":13},"end":{"line":335,"column":27}},"168":{"start":{"line":334,"column":16},"end":{"line":334,"column":60}},"169":{"start":{"line":337,"column":13},"end":{"line":339,"column":16}},"170":{"start":{"line":338,"column":16},"end":{"line":338,"column":43}},"171":{"start":{"line":341,"column":13},"end":{"line":341,"column":42}},"172":{"start":{"line":347,"column":0},"end":{"line":349,"column":2}},"173":{"start":{"line":348,"column":4},"end":{"line":348,"column":47}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"4":{"line":35,"type":"cond-expr","locations":[{"start":{"line":35,"column":18},"end":{"line":35,"column":33}},{"start":{"line":35,"column":36},"end":{"line":35,"column":40}}]},"5":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":8}},{"start":{"line":40,"column":8},"end":{"line":40,"column":8}}]},"6":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":44,"column":12}},{"start":{"line":44,"column":12},"end":{"line":44,"column":12}}]},"7":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"8":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"9":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":7},"end":{"line":57,"column":27}},{"start":{"line":57,"column":31},"end":{"line":57,"column":63}}]},"10":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":12}},{"start":{"line":59,"column":12},"end":{"line":59,"column":12}}]},"11":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"12":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":12},"end":{"line":75,"column":12}},{"start":{"line":75,"column":12},"end":{"line":75,"column":12}}]},"13":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":8},"end":{"line":83,"column":8}},{"start":{"line":83,"column":8},"end":{"line":83,"column":8}}]},"14":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":12},"end":{"line":83,"column":37}},{"start":{"line":83,"column":41},"end":{"line":83,"column":48}},{"start":{"line":83,"column":52},"end":{"line":83,"column":89}}]},"15":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":3},"end":{"line":100,"column":3}},{"start":{"line":100,"column":3},"end":{"line":100,"column":3}}]},"16":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":6},"end":{"line":101,"column":6}},{"start":{"line":101,"column":6},"end":{"line":101,"column":6}}]},"17":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":6},"end":{"line":104,"column":6}},{"start":{"line":104,"column":6},"end":{"line":104,"column":6}}]},"18":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":3},"end":{"line":111,"column":3}},{"start":{"line":111,"column":3},"end":{"line":111,"column":3}}]},"19":{"line":112,"type":"cond-expr","locations":[{"start":{"line":112,"column":18},"end":{"line":112,"column":49}},{"start":{"line":112,"column":52},"end":{"line":112,"column":55}}]},"20":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":3},"end":{"line":116,"column":3}},{"start":{"line":116,"column":3},"end":{"line":116,"column":3}}]},"21":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":6},"end":{"line":121,"column":6}},{"start":{"line":121,"column":6},"end":{"line":121,"column":6}}]},"22":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":9},"end":{"line":127,"column":9}},{"start":{"line":127,"column":9},"end":{"line":127,"column":9}}]},"23":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":12},"end":{"line":129,"column":12}},{"start":{"line":129,"column":12},"end":{"line":129,"column":12}}]},"24":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":9},"end":{"line":132,"column":9}},{"start":{"line":132,"column":9},"end":{"line":132,"column":9}}]},"25":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":6},"end":{"line":136,"column":6}},{"start":{"line":136,"column":6},"end":{"line":136,"column":6}}]},"26":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":6},"end":{"line":141,"column":6}},{"start":{"line":141,"column":6},"end":{"line":141,"column":6}}]},"27":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":4}},{"start":{"line":150,"column":4},"end":{"line":150,"column":4}}]},"28":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":4},"end":{"line":154,"column":4}},{"start":{"line":154,"column":4},"end":{"line":154,"column":4}}]},"29":{"line":155,"type":"binary-expr","locations":[{"start":{"line":155,"column":19},"end":{"line":155,"column":39}},{"start":{"line":155,"column":43},"end":{"line":155,"column":54}}]},"30":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":19},"end":{"line":156,"column":39}},{"start":{"line":156,"column":43},"end":{"line":156,"column":49}}]},"31":{"line":157,"type":"binary-expr","locations":[{"start":{"line":157,"column":22},"end":{"line":157,"column":45}},{"start":{"line":157,"column":49},"end":{"line":160,"column":9}}]},"32":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":8},"end":{"line":161,"column":8}},{"start":{"line":161,"column":8},"end":{"line":161,"column":8}}]},"33":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":12},"end":{"line":164,"column":12}},{"start":{"line":164,"column":12},"end":{"line":164,"column":12}}]},"34":{"line":168,"type":"binary-expr","locations":[{"start":{"line":168,"column":23},"end":{"line":168,"column":47}},{"start":{"line":168,"column":51},"end":{"line":168,"column":63}}]},"35":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":9},"end":{"line":227,"column":9}},{"start":{"line":227,"column":9},"end":{"line":227,"column":9}}]},"36":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":4},"end":{"line":271,"column":4}},{"start":{"line":271,"column":4},"end":{"line":271,"column":4}}]},"37":{"line":272,"type":"binary-expr","locations":[{"start":{"line":272,"column":16},"end":{"line":272,"column":28}},{"start":{"line":272,"column":32},"end":{"line":272,"column":37}}]},"38":{"line":273,"type":"binary-expr","locations":[{"start":{"line":273,"column":16},"end":{"line":273,"column":27}},{"start":{"line":273,"column":30},"end":{"line":273,"column":34}}]},"39":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":12}},{"start":{"line":292,"column":12},"end":{"line":292,"column":12}}]},"40":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":13},"end":{"line":331,"column":13}},{"start":{"line":331,"column":13},"end":{"line":331,"column":13}}]}},"code":["var safeRequire = require('../utils').safeRequire;","","/**"," * Module dependencies"," */","var cradle = safeRequire('cradle');","","/**"," * Private functions for internal use"," */","function CradleAdapter(client) {","    this._models = {};","    this.client = client;","}","","function createdbif(client, callback) {","    client.exists(function (err, exists) {","        if(err) callback(err);","        if (!exists) { client.create(function() { callback(); }); }","        else { callback(); }","    });","}","","function naturalize(data, table) {","    data.nature = table;","    //TODO: maybe this is not a really good idea","    if(data.date) data.date = data.date.toString();","    return data;","}","function idealize(data) {","    data.id = data._id;","    return data;","}","function stringify(data) {","    return data ? data.toString() : data;","}","","function errorHandler(callback, func) {","    return function(err, res) {","        if (err) {","            console.log('cradle', err);","            callback(err);","        } else {","            if(func) {","                func(res, function(res) {","                    callback(null, res);","                });","            } else {","                callback(null, res);","            }","        }","    };","}","","function synchronize(functions, args, callback) {","    if(functions.length === 0) callback();","    if(functions.length > 0 && args.length === functions.length) {","        functions[0](args[0][0], args[0][1], function(err, res) {","            if(err) callback(err);","            functions.splice(0, 1);","            args.splice(0, 1);","            synchronize(functions, args, callback);","        });","    }","}","","function applyFilter(filter) {","    if (typeof filter.where === 'function') {","        return filter.where;","    }","    var keys = Object.keys(filter.where);","    return function (obj) {","        var pass = true;","        keys.forEach(function (key) {","            if (!test(filter.where[key], obj[key])) {","                pass = false;","            }","        });","        return pass;","    };","","    function test(example, value) {","        if (typeof value === 'string' && example && example.constructor.name === 'RegExp') {","            return value.match(example);","        }","        // not strict equality","        return example == value;","    }","}","","function numerically(a, b) {","   return a[this[0]] - b[this[0]];","}","","function literally(a, b) {","   return a[this[0]] > b[this[0]];","}","","function filtering(res, model, filter, instance) {","   if (model) {","      if (filter === null) {","          filter = {};","      }","      if (filter.where === null) {","          filter.where = {};","      }","      // use table() function on fake instance","      filter.where.nature = CradleAdapter.prototype.table.call({_models: instance}, model);","   }","   // do we need some filtration?","   if (filter.where) {","      res = res ? res.filter(applyFilter(filter)) : res;","   }","","   // do we need some sorting?","   if (filter.order) {","      var props = instance[model].properties;","      var allNumeric = true;","      var orders = filter.order;","      var reverse = false;","      if (typeof filter.order === \"string\") {","         orders = [filter.order];","      }","","      orders.forEach(function (key, i) {","         var m = key.match(/\\s+(A|DE)SC$/i);","         if (m) {","            key = key.replace(/\\s+(A|DE)SC/i, '');","            if (m[1] === 'DE') reverse = true;","         }","         orders[i] = key;","         if (props[key].type.name !== 'Number') {","            allNumeric = false;","         }","      });","      if (allNumeric) {","         res = res.sort(numerically.bind(orders));","      } else {","         res = res.sort(literally.bind(orders));","      }","      if (reverse) res = res.reverse();","   }","   return res;","}","","/**"," * Connection/Disconnection"," */","exports.initialize = function(schema, callback) {","    if (!cradle) return;","","    // when using cradle if we dont wait for the schema to be connected, the models fails to load correctly.","    schema.waitForConnect = true;","    if (!schema.settings.url) {","        var host = schema.settings.host || 'localhost';","        var port = schema.settings.port || '5984';","        var options = schema.settings.options || {","           cache: true,","           raw: false","        };","        if (schema.settings.username) {","            options.auth = {};","            options.auth.username = schema.settings.username;","            if (schema.settings.password) {","                options.auth.password = schema.settings.password;","            }","        }","        var database = schema.settings.database || 'jugglingdb';","","        schema.settings.host = host;","        schema.settings.port = port;","        schema.settings.database = database;","        schema.settings.options = options;","    }","    schema.client = new(cradle.Connection)(schema.settings.host, schema.settings.port,schema.settings.options).database(schema.settings.database);","","    createdbif(","       schema.client,","       errorHandler(callback, function() {","          schema.adapter = new CradleAdapter(schema.client);","          process.nextTick(callback);","       }));","};","","CradleAdapter.prototype.disconnect = function() {","};","","/**"," * Write methods"," */","CradleAdapter.prototype.define = function(descr) {","    this._models[descr.model.modelName] = descr;","};","","CradleAdapter.prototype.create = function(model, data, callback) {","    this.client.save(","       stringify(data.id),","       naturalize(data, this.table(model)),","       errorHandler(callback, function(res, cb) {","          cb(res.id);","       })","    );","};","","CradleAdapter.prototype.save = function(model, data, callback) {","   this.client.save(","       stringify(data.id),","       naturalize(data, this.table(model)),","       errorHandler(callback)","   );","};","","CradleAdapter.prototype.updateAttributes = function(model, id, data, callback) {","    this.client.merge(","       stringify(id),","       data,","       errorHandler(callback, function(doc, cb) {","          cb(idealize(doc));","       })","    );","};","","CradleAdapter.prototype.updateOrCreate = function(model, data, callback) {","   this.client.get(","      stringify(data.id),","      function (err, doc) {","         if (err) {","            this.create(model, data, callback);","         } else {","            this.updateAttributes(model, data.id, data, callback);","         }","      }.bind(this)","   );","};","","/**"," * Read methods"," */","CradleAdapter.prototype.exists = function(model, id, callback) {","    this.client.get(","       stringify(id), ","       errorHandler(callback, function(doc, cb) {","          cb(!!doc);   ","       })","    );","};","","CradleAdapter.prototype.find = function(model, id, callback) {","    this.client.get(","       stringify(id),","       errorHandler(callback, function(doc, cb) {","          cb(idealize(doc));","       })","    );","};","","CradleAdapter.prototype.count = function(model, callback, where) {","    this.models(","       model,","       {where: where},","       callback,","       function(docs, cb) {","          cb(docs.length);","       }","    );","};","","CradleAdapter.prototype.models = function(model, filter, callback, func) {","    var limit = 200;","    var skip  = 0;","    if (filter !== null) {","        limit = filter.limit || limit;","        skip  = filter.skip ||skip;","    }","","    var self = this;","    var table = this.table(model);","","    self.client.save('_design/'+table, {","        views : {","            all : {","                map : 'function(doc) { if (doc.nature == \"'+table+'\") { emit(doc._id, doc); } }'","            }","        }","    }, function() {","        self.client.view(table+'/all', {include_docs:true, limit:limit, skip:skip}, errorHandler(callback, function(res, cb) {","            var docs = res.map(function(doc) {","                return idealize(doc);","            });","            var filtered = filtering(docs, model, filter, this._models);","","            if ('function' === typeof func) {","                func(filtered, cb);","            } else {","                cb(filtered);","            }","        }.bind(self)));","    });","};","","CradleAdapter.prototype.all = function(model, filter, callback) {","   this.models(","       model,","       filter,","       callback","   );","};","","/**"," * Detroy methods"," */","CradleAdapter.prototype.destroy = function(model, id, callback) {","    this.client.remove(","       stringify(id),","       function (err, doc) {","         callback(err);","       }","    );","};","","CradleAdapter.prototype.destroyAll = function(model, callback) {","   this.models(","       model,","       null,","       callback,","       function(docs, cb) {","          var docIds = docs.map(function(doc) {","             return doc.id;                     ","          });","          this.client.get(docIds, function(err, res) {","             if(err) cb(err);","","             var funcs = res.map(function(doc) {","                return this.client.remove.bind(this.client);","             }.bind(this));","","             var args = res.map(function(doc) {","                return [doc._id, doc._rev];","             });","","             synchronize(funcs, args, cb);","          }.bind(this));","       }.bind(this)","   );","};","","CradleAdapter.prototype.table = function(model) {","    return this._models[model].model.tableName;","};",""],"l":{"1":1,"6":1,"11":1,"12":0,"13":0,"16":1,"17":0,"18":0,"19":0,"20":0,"24":1,"25":0,"27":0,"28":0,"30":1,"31":0,"32":0,"34":1,"35":0,"38":1,"39":0,"40":0,"41":0,"42":0,"44":0,"45":0,"46":0,"49":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"67":1,"68":0,"69":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"79":0,"82":1,"83":0,"84":0,"87":0,"91":1,"92":0,"95":1,"96":0,"99":1,"100":0,"101":0,"102":0,"104":0,"105":0,"108":0,"111":0,"112":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"125":0,"126":0,"127":0,"128":0,"129":0,"131":0,"132":0,"133":0,"136":0,"137":0,"139":0,"141":0,"143":0,"149":1,"150":0,"153":0,"154":0,"155":0,"156":0,"157":0,"161":0,"162":0,"163":0,"164":0,"165":0,"168":0,"170":0,"171":0,"172":0,"173":0,"175":0,"177":0,"180":0,"181":0,"185":1,"191":1,"192":0,"195":1,"196":0,"200":0,"205":1,"206":0,"213":1,"214":0,"218":0,"223":1,"224":0,"227":0,"228":0,"230":0,"239":1,"240":0,"243":0,"248":1,"249":0,"252":0,"257":1,"258":0,"263":0,"268":1,"269":0,"270":0,"271":0,"272":0,"273":0,"276":0,"277":0,"279":0,"286":0,"287":0,"288":0,"290":0,"292":0,"293":0,"295":0,"301":1,"302":0,"312":1,"313":0,"316":0,"321":1,"322":0,"327":0,"328":0,"330":0,"331":0,"333":0,"334":0,"337":0,"338":0,"341":0,"347":1,"348":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/http.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/http.js","s":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":1,"108":0,"109":1,"110":0,"111":1,"112":0,"113":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"fnMap":{"1":{"name":"initializeSchema","line":1,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":65}}},"2":{"name":"WebService","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":22}}},"3":{"name":"installPostProcessor","line":12,"loc":{"start":{"line":12,"column":44},"end":{"line":12,"column":81}}},"4":{"name":"(anonymous_4)","line":14,"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":59}}},"5":{"name":"(anonymous_5)","line":20,"loc":{"start":{"line":20,"column":24},"end":{"line":20,"column":40}}},"6":{"name":"preProcess","line":33,"loc":{"start":{"line":33,"column":34},"end":{"line":33,"column":60}}},"7":{"name":"(anonymous_7)","line":35,"loc":{"start":{"line":35,"column":30},"end":{"line":35,"column":44}}},"8":{"name":"postProcess","line":43,"loc":{"start":{"line":43,"column":35},"end":{"line":43,"column":69}}},"9":{"name":"postProcessMultiple","line":50,"loc":{"start":{"line":50,"column":43},"end":{"line":50,"column":85}}},"10":{"name":"defineModel","line":62,"loc":{"start":{"line":62,"column":30},"end":{"line":62,"column":58}}},"11":{"name":"getResourceUrl","line":68,"loc":{"start":{"line":68,"column":38},"end":{"line":68,"column":69}}},"12":{"name":"(anonymous_12)","line":74,"loc":{"start":{"line":74,"column":35},"end":{"line":74,"column":47}}},"13":{"name":"create","line":84,"loc":{"start":{"line":84,"column":30},"end":{"line":84,"column":69}}},"14":{"name":"(anonymous_14)","line":87,"loc":{"start":{"line":87,"column":54},"end":{"line":87,"column":69}}},"15":{"name":"(anonymous_15)","line":97,"loc":{"start":{"line":97,"column":38},"end":{"line":97,"column":71}}},"16":{"name":"(anonymous_16)","line":99,"loc":{"start":{"line":99,"column":32},"end":{"line":99,"column":55}}},"17":{"name":"(anonymous_17)","line":103,"loc":{"start":{"line":103,"column":36},"end":{"line":103,"column":55}}},"18":{"name":"save","line":111,"loc":{"start":{"line":111,"column":28},"end":{"line":111,"column":65}}},"19":{"name":"(anonymous_19)","line":116,"loc":{"start":{"line":116,"column":70},"end":{"line":116,"column":85}}},"20":{"name":"exists","line":126,"loc":{"start":{"line":126,"column":30},"end":{"line":126,"column":67}}},"21":{"name":"(anonymous_21)","line":127,"loc":{"start":{"line":127,"column":63},"end":{"line":127,"column":78}}},"22":{"name":"find","line":138,"loc":{"start":{"line":138,"column":28},"end":{"line":138,"column":63}}},"23":{"name":"(anonymous_23)","line":140,"loc":{"start":{"line":140,"column":63},"end":{"line":140,"column":78}}},"24":{"name":"destroy","line":150,"loc":{"start":{"line":150,"column":31},"end":{"line":150,"column":69}}},"25":{"name":"(anonymous_25)","line":154,"loc":{"start":{"line":154,"column":65},"end":{"line":154,"column":80}}},"26":{"name":"all","line":164,"loc":{"start":{"line":164,"column":27},"end":{"line":164,"column":65}}},"27":{"name":"(anonymous_27)","line":166,"loc":{"start":{"line":166,"column":104},"end":{"line":166,"column":119}}},"28":{"name":"destroyAll","line":176,"loc":{"start":{"line":176,"column":34},"end":{"line":176,"column":71}}},"29":{"name":"count","line":180,"loc":{"start":{"line":180,"column":29},"end":{"line":180,"column":68}}},"30":{"name":"(anonymous_30)","line":184,"loc":{"start":{"line":184,"column":40},"end":{"line":184,"column":76}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":38}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":31}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":22}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":20}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":18}},"8":{"start":{"line":12,"column":0},"end":{"line":31,"column":2}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":19}},"10":{"start":{"line":14,"column":4},"end":{"line":18,"column":7}},"11":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"12":{"start":{"line":16,"column":12},"end":{"line":16,"column":31}},"13":{"start":{"line":20,"column":4},"end":{"line":28,"column":6}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":31}},"15":{"start":{"line":22,"column":8},"end":{"line":27,"column":9}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":34}},"17":{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},"18":{"start":{"line":25,"column":16},"end":{"line":25,"column":56}},"19":{"start":{"line":30,"column":4},"end":{"line":30,"column":40}},"20":{"start":{"line":33,"column":0},"end":{"line":41,"column":2}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":20}},"22":{"start":{"line":35,"column":4},"end":{"line":39,"column":7}},"23":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"24":{"start":{"line":37,"column":12},"end":{"line":37,"column":36}},"25":{"start":{"line":40,"column":4},"end":{"line":40,"column":18}},"26":{"start":{"line":43,"column":0},"end":{"line":48,"column":2}},"27":{"start":{"line":44,"column":4},"end":{"line":44,"column":58}},"28":{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},"29":{"start":{"line":46,"column":8},"end":{"line":46,"column":28}},"30":{"start":{"line":50,"column":0},"end":{"line":60,"column":2}},"31":{"start":{"line":51,"column":4},"end":{"line":51,"column":58}},"32":{"start":{"line":52,"column":4},"end":{"line":59,"column":5}},"33":{"start":{"line":53,"column":8},"end":{"line":53,"column":30}},"34":{"start":{"line":54,"column":8},"end":{"line":58,"column":9}},"35":{"start":{"line":55,"column":12},"end":{"line":57,"column":13}},"36":{"start":{"line":56,"column":16},"end":{"line":56,"column":39}},"37":{"start":{"line":62,"column":0},"end":{"line":66,"column":2}},"38":{"start":{"line":63,"column":4},"end":{"line":63,"column":34}},"39":{"start":{"line":64,"column":4},"end":{"line":64,"column":37}},"40":{"start":{"line":65,"column":4},"end":{"line":65,"column":28}},"41":{"start":{"line":68,"column":0},"end":{"line":72,"column":2}},"42":{"start":{"line":69,"column":4},"end":{"line":69,"column":52}},"43":{"start":{"line":70,"column":4},"end":{"line":70,"column":90}},"44":{"start":{"line":70,"column":14},"end":{"line":70,"column":90}},"45":{"start":{"line":71,"column":4},"end":{"line":71,"column":15}},"46":{"start":{"line":74,"column":0},"end":{"line":82,"column":2}},"47":{"start":{"line":75,"column":4},"end":{"line":78,"column":5}},"48":{"start":{"line":76,"column":8},"end":{"line":76,"column":68}},"49":{"start":{"line":77,"column":8},"end":{"line":77,"column":68}},"50":{"start":{"line":79,"column":4},"end":{"line":79,"column":17}},"51":{"start":{"line":80,"column":4},"end":{"line":80,"column":41}},"52":{"start":{"line":81,"column":4},"end":{"line":81,"column":15}},"53":{"start":{"line":84,"column":0},"end":{"line":95,"column":2}},"54":{"start":{"line":85,"column":4},"end":{"line":85,"column":33}},"55":{"start":{"line":86,"column":4},"end":{"line":86,"column":39}},"56":{"start":{"line":87,"column":4},"end":{"line":93,"column":15}},"57":{"start":{"line":88,"column":8},"end":{"line":92,"column":9}},"58":{"start":{"line":89,"column":12},"end":{"line":89,"column":40}},"59":{"start":{"line":91,"column":12},"end":{"line":91,"column":32}},"60":{"start":{"line":97,"column":0},"end":{"line":109,"column":2}},"61":{"start":{"line":98,"column":4},"end":{"line":98,"column":19}},"62":{"start":{"line":99,"column":4},"end":{"line":108,"column":7}},"63":{"start":{"line":100,"column":8},"end":{"line":107,"column":9}},"64":{"start":{"line":101,"column":12},"end":{"line":101,"column":44}},"65":{"start":{"line":103,"column":12},"end":{"line":106,"column":15}},"66":{"start":{"line":104,"column":16},"end":{"line":104,"column":29}},"67":{"start":{"line":105,"column":16},"end":{"line":105,"column":36}},"68":{"start":{"line":111,"column":0},"end":{"line":124,"column":2}},"69":{"start":{"line":112,"column":4},"end":{"line":112,"column":21}},"70":{"start":{"line":113,"column":4},"end":{"line":113,"column":33}},"71":{"start":{"line":114,"column":4},"end":{"line":114,"column":24}},"72":{"start":{"line":115,"column":4},"end":{"line":115,"column":39}},"73":{"start":{"line":116,"column":4},"end":{"line":123,"column":15}},"74":{"start":{"line":117,"column":8},"end":{"line":122,"column":9}},"75":{"start":{"line":118,"column":12},"end":{"line":118,"column":47}},"76":{"start":{"line":119,"column":12},"end":{"line":119,"column":37}},"77":{"start":{"line":121,"column":12},"end":{"line":121,"column":32}},"78":{"start":{"line":126,"column":0},"end":{"line":136,"column":2}},"79":{"start":{"line":127,"column":4},"end":{"line":135,"column":7}},"80":{"start":{"line":128,"column":8},"end":{"line":134,"column":9}},"81":{"start":{"line":129,"column":12},"end":{"line":129,"column":33}},"82":{"start":{"line":130,"column":15},"end":{"line":134,"column":9}},"83":{"start":{"line":131,"column":12},"end":{"line":131,"column":34}},"84":{"start":{"line":133,"column":12},"end":{"line":133,"column":32}},"85":{"start":{"line":138,"column":0},"end":{"line":148,"column":2}},"86":{"start":{"line":139,"column":4},"end":{"line":139,"column":21}},"87":{"start":{"line":140,"column":4},"end":{"line":147,"column":7}},"88":{"start":{"line":141,"column":8},"end":{"line":146,"column":9}},"89":{"start":{"line":142,"column":12},"end":{"line":142,"column":47}},"90":{"start":{"line":143,"column":12},"end":{"line":143,"column":37}},"91":{"start":{"line":145,"column":12},"end":{"line":145,"column":32}},"92":{"start":{"line":150,"column":0},"end":{"line":162,"column":2}},"93":{"start":{"line":151,"column":4},"end":{"line":151,"column":21}},"94":{"start":{"line":152,"column":4},"end":{"line":152,"column":33}},"95":{"start":{"line":153,"column":4},"end":{"line":153,"column":27}},"96":{"start":{"line":154,"column":4},"end":{"line":161,"column":15}},"97":{"start":{"line":155,"column":8},"end":{"line":160,"column":9}},"98":{"start":{"line":157,"column":12},"end":{"line":157,"column":37}},"99":{"start":{"line":159,"column":12},"end":{"line":159,"column":32}},"100":{"start":{"line":164,"column":0},"end":{"line":174,"column":2}},"101":{"start":{"line":165,"column":4},"end":{"line":165,"column":21}},"102":{"start":{"line":166,"column":4},"end":{"line":173,"column":7}},"103":{"start":{"line":167,"column":8},"end":{"line":172,"column":9}},"104":{"start":{"line":168,"column":12},"end":{"line":168,"column":55}},"105":{"start":{"line":169,"column":12},"end":{"line":169,"column":37}},"106":{"start":{"line":171,"column":12},"end":{"line":171,"column":32}},"107":{"start":{"line":176,"column":0},"end":{"line":178,"column":2}},"108":{"start":{"line":177,"column":4},"end":{"line":177,"column":37}},"109":{"start":{"line":180,"column":0},"end":{"line":182,"column":2}},"110":{"start":{"line":181,"column":4},"end":{"line":181,"column":37}},"111":{"start":{"line":184,"column":0},"end":{"line":187,"column":2}},"112":{"start":{"line":185,"column":4},"end":{"line":185,"column":17}},"113":{"start":{"line":186,"column":4},"end":{"line":186,"column":37}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":8}},{"start":{"line":15,"column":8},"end":{"line":15,"column":8}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":12}},{"start":{"line":24,"column":12},"end":{"line":24,"column":12}}]},"3":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":36,"column":8}},{"start":{"line":36,"column":8},"end":{"line":36,"column":8}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":4}},{"start":{"line":45,"column":4},"end":{"line":45,"column":4}}]},"5":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":21}},{"start":{"line":45,"column":25},"end":{"line":45,"column":29}}]},"6":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"7":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":55,"column":12}},{"start":{"line":55,"column":12},"end":{"line":55,"column":12}}]},"8":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":4}},{"start":{"line":70,"column":4},"end":{"line":70,"column":4}}]},"9":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"10":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":88,"column":8}},{"start":{"line":88,"column":8},"end":{"line":88,"column":8}}]},"11":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"12":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":8},"end":{"line":117,"column":8}},{"start":{"line":117,"column":8},"end":{"line":117,"column":8}}]},"13":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":8}},{"start":{"line":128,"column":8},"end":{"line":128,"column":8}}]},"14":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":15},"end":{"line":130,"column":15}},{"start":{"line":130,"column":15},"end":{"line":130,"column":15}}]},"15":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":8}},{"start":{"line":141,"column":8},"end":{"line":141,"column":8}}]},"16":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":155,"column":8}},{"start":{"line":155,"column":8},"end":{"line":155,"column":8}}]},"17":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":8},"end":{"line":167,"column":8}},{"start":{"line":167,"column":8},"end":{"line":167,"column":8}}]}},"code":["exports.initialize = function initializeSchema(schema, callback) {","    schema.adapter = new WebService();","    process.nextTick(callback);","};","","function WebService() {","    this._models = {};","    this.cache = {};","    this.ids = {};","}","","WebService.prototype.installPostProcessor = function installPostProcessor(descr) {","    var dates = [];","    Object.keys(descr.properties).forEach(function(column) {","        if (descr.properties[column].type.name === 'Date') {","            dates.push(column);","        }","    });","","    var postProcessor = function(model) {","        var max = dates.length;","        for (var i = 0; i < max; i++) {","            var column = dates[i];","            if (model[column]) {","                model[column] = new Date(model[column]);","            }","        }","    };","","    descr.postProcessor = postProcessor;","};","","WebService.prototype.preProcess = function preProcess(data) {","    var result = {};","    Object.keys(data).forEach(function(key) {","        if (data[key] !== null) {","            result[key] = data[key];","        }","    });","    return result;","};","","WebService.prototype.postProcess = function postProcess(model, data) {","    var postProcessor = this._models[model].postProcessor;","    if (postProcessor && data) {","        postProcessor(data);","    }","};","","WebService.prototype.postProcessMultiple = function postProcessMultiple(model, data) {","    var postProcessor = this._models[model].postProcessor;","    if (postProcessor) {","        var max = data.length;","        for (var i = 0; i < max; i++) {","            if (data[i]) {","                postProcessor(data[i]);","            }","        }","    }","};","","WebService.prototype.define = function defineModel(descr) {","    var m = descr.model.modelName;","    this.installPostProcessor(descr);","    this._models[m] = descr;","};","","WebService.prototype.getResourceUrl = function getResourceUrl(model) {","    var url = this._models[model].settings.restPath;","    if (!url) throw new Error('Resource url (restPath) for ' + model + ' is not defined');","    return url;","};","","WebService.prototype.getBlankReq = function () {","    if (!this.csrfToken) {","        this.csrfToken = $('meta[name=csrf-token]').attr('content');","        this.csrfParam = $('meta[name=csrf-param]').attr('content');","    }","    var req = {};","    req[this.csrfParam] = this.csrfToken;","    return req;","};","","WebService.prototype.create = function create(model, data, callback) {","    var req = this.getBlankReq();","    req[model] = this.preProcess(data);","    $.post(this.getResourceUrl(model) + '.json', req, function (res) {","        if (res.code === 200) {","            callback(null, res.data.id);","        } else {","            callback(res.error);","        }","    }, 'json');","    // this.cache[model][id] = data;","};","","WebService.prototype.updateOrCreate = function (model, data, callback) {","    var mem = this;","    this.exists(model, data.id, function (err, exists) {","        if (exists) {","            mem.save(model, data, callback);","        } else {","            mem.create(model, data, function (err, id) {","                data.id = id;","                callback(err, data);","            });","        }","    });","};","","WebService.prototype.save = function save(model, data, callback) {","    var _this = this;","    var req = this.getBlankReq();","    req._method = 'PUT';","    req[model] = this.preProcess(data);","    $.post(this.getResourceUrl(model) + '/' + data.id + '.json', req, function (res) {","        if (res.code === 200) {","            _this.postProcess(model, res.data);","            callback(null, res.data);","        } else {","            callback(res.error);","        }","    }, 'json');","};","","WebService.prototype.exists = function exists(model, id, callback) {","    $.getJSON(this.getResourceUrl(model) + '/' + id + '.json', function (res) {","        if (res.code === 200) {","            callback(null, true);","        } else if (res.code === 404) {","            callback(null, false);","        } else {","            callback(res.error);","        }","    });","};","","WebService.prototype.find = function find(model, id, callback) {","    var _this = this;","    $.getJSON(this.getResourceUrl(model) + '/' + id + '.json', function (res) {","        if (res.code === 200) {","            _this.postProcess(model, res.data);","            callback(null, res.data);","        } else {","            callback(res.error);","        }","    });","};","","WebService.prototype.destroy = function destroy(model, id, callback) {","    var _this = this;","    var req = this.getBlankReq();","    req._method = 'DELETE';","    $.post(this.getResourceUrl(model) + '/' + id + '.json', req, function (res) {","        if (res.code === 200) {","            //delete _this.cache[model][id];","            callback(null, res.data);","        } else {","            callback(res.error);","        }","    }, 'json');","};","","WebService.prototype.all = function all(model, filter, callback) {","    var _this = this;","    $.getJSON(this.getResourceUrl(model) + '.json?query=' + encodeURIComponent(JSON.stringify(filter)), function (res) {","        if (res.code === 200) {","            _this.postProcessMultiple(model, res.data);","            callback(null, res.data);","        } else {","            callback(res.error);","        }","    });","};","","WebService.prototype.destroyAll = function destroyAll(model, callback) {","    throw new Error('Not supported');","};","","WebService.prototype.count = function count(model, callback, where) {","    throw new Error('Not supported');","};","","WebService.prototype.updateAttributes = function(model, id, data, callback) {","    data.id = id;","    this.save(model, data, callback);","};","",""],"l":{"1":1,"2":0,"3":0,"6":1,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"15":0,"16":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"30":0,"33":1,"34":0,"35":0,"36":0,"37":0,"40":0,"43":1,"44":0,"45":0,"46":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"62":1,"63":0,"64":0,"65":0,"68":1,"69":0,"70":0,"71":0,"74":1,"75":0,"76":0,"77":0,"79":0,"80":0,"81":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":0,"91":0,"97":1,"98":0,"99":0,"100":0,"101":0,"103":0,"104":0,"105":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"121":0,"126":1,"127":0,"128":0,"129":0,"130":0,"131":0,"133":0,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"145":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"157":0,"159":0,"164":1,"165":0,"166":0,"167":0,"168":0,"169":0,"171":0,"176":1,"177":0,"180":1,"181":0,"184":1,"185":0,"186":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/memory.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/memory.js","s":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":1,"134":0,"135":0,"136":0,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":1,"152":0,"153":0,"154":0,"155":1,"156":0,"157":1,"158":0,"159":0,"160":1,"161":0,"162":1,"163":0,"164":0,"165":0,"166":0,"167":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},"fnMap":{"1":{"name":"initializeSchema","line":1,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":65}}},"2":{"name":"Memory","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":19}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":27},"end":{"line":20,"column":46}}},"4":{"name":"defineModel","line":28,"loc":{"start":{"line":28,"column":26},"end":{"line":28,"column":54}}},"5":{"name":"create","line":35,"loc":{"start":{"line":35,"column":26},"end":{"line":35,"column":65}}},"6":{"name":"(anonymous_6)","line":39,"loc":{"start":{"line":39,"column":21},"end":{"line":39,"column":32}}},"7":{"name":"(anonymous_7)","line":44,"loc":{"start":{"line":44,"column":34},"end":{"line":44,"column":67}}},"8":{"name":"(anonymous_8)","line":46,"loc":{"start":{"line":46,"column":32},"end":{"line":46,"column":55}}},"9":{"name":"(anonymous_9)","line":50,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":55}}},"10":{"name":"save","line":58,"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":61}}},"11":{"name":"(anonymous_11)","line":60,"loc":{"start":{"line":60,"column":21},"end":{"line":60,"column":33}}},"12":{"name":"exists","line":65,"loc":{"start":{"line":65,"column":26},"end":{"line":65,"column":63}}},"13":{"name":"(anonymous_13)","line":67,"loc":{"start":{"line":67,"column":21},"end":{"line":67,"column":33}}},"14":{"name":"find","line":72,"loc":{"start":{"line":72,"column":24},"end":{"line":72,"column":59}}},"15":{"name":"(anonymous_15)","line":74,"loc":{"start":{"line":74,"column":21},"end":{"line":74,"column":33}}},"16":{"name":"destroy","line":79,"loc":{"start":{"line":79,"column":27},"end":{"line":79,"column":65}}},"17":{"name":"(anonymous_17)","line":84,"loc":{"start":{"line":84,"column":26},"end":{"line":84,"column":48}}},"18":{"name":"(anonymous_18)","line":88,"loc":{"start":{"line":88,"column":30},"end":{"line":88,"column":45}}},"19":{"name":"all","line":108,"loc":{"start":{"line":108,"column":23},"end":{"line":108,"column":61}}},"20":{"name":"(anonymous_20)","line":111,"loc":{"start":{"line":111,"column":51},"end":{"line":111,"column":66}}},"21":{"name":"(anonymous_21)","line":124,"loc":{"start":{"line":124,"column":27},"end":{"line":124,"column":45}}},"22":{"name":"(anonymous_22)","line":148,"loc":{"start":{"line":148,"column":21},"end":{"line":148,"column":33}}},"23":{"name":"sorting","line":156,"loc":{"start":{"line":156,"column":4},"end":{"line":156,"column":27}}},"24":{"name":"applyFilter","line":168,"loc":{"start":{"line":168,"column":0},"end":{"line":168,"column":29}}},"25":{"name":"(anonymous_25)","line":173,"loc":{"start":{"line":173,"column":11},"end":{"line":173,"column":26}}},"26":{"name":"(anonymous_26)","line":175,"loc":{"start":{"line":175,"column":21},"end":{"line":175,"column":36}}},"27":{"name":"test","line":183,"loc":{"start":{"line":183,"column":4},"end":{"line":183,"column":34}}},"28":{"name":"destroyAll","line":206,"loc":{"start":{"line":206,"column":30},"end":{"line":206,"column":67}}},"29":{"name":"(anonymous_29)","line":208,"loc":{"start":{"line":208,"column":43},"end":{"line":208,"column":57}}},"30":{"name":"count","line":215,"loc":{"start":{"line":215,"column":25},"end":{"line":215,"column":64}}},"31":{"name":"(anonymous_31)","line":219,"loc":{"start":{"line":219,"column":27},"end":{"line":219,"column":41}}},"32":{"name":"(anonymous_32)","line":221,"loc":{"start":{"line":221,"column":39},"end":{"line":221,"column":54}}},"33":{"name":"(anonymous_33)","line":229,"loc":{"start":{"line":229,"column":21},"end":{"line":229,"column":33}}},"34":{"name":"updateAttributes","line":234,"loc":{"start":{"line":234,"column":36},"end":{"line":234,"column":83}}},"35":{"name":"(anonymous_35)","line":240,"loc":{"start":{"line":240,"column":31},"end":{"line":240,"column":43}}},"36":{"name":"(anonymous_36)","line":244,"loc":{"start":{"line":244,"column":24},"end":{"line":244,"column":43}}},"37":{"name":"(anonymous_37)","line":249,"loc":{"start":{"line":249,"column":25},"end":{"line":249,"column":42}}},"38":{"name":"merge","line":253,"loc":{"start":{"line":253,"column":0},"end":{"line":253,"column":29}}},"39":{"name":"(anonymous_39)","line":255,"loc":{"start":{"line":255,"column":32},"end":{"line":255,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":34}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":37}},"4":{"start":{"line":6,"column":0},"end":{"line":18,"column":1}},"5":{"start":{"line":7,"column":4},"end":{"line":17,"column":5}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":34}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":29}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":33}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":35}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":24}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":22}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":26}},"14":{"start":{"line":20,"column":0},"end":{"line":26,"column":2}},"15":{"start":{"line":21,"column":4},"end":{"line":25,"column":5}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":42}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":35}},"18":{"start":{"line":28,"column":0},"end":{"line":33,"column":2}},"19":{"start":{"line":29,"column":4},"end":{"line":29,"column":34}},"20":{"start":{"line":30,"column":4},"end":{"line":30,"column":28}},"21":{"start":{"line":31,"column":4},"end":{"line":31,"column":35}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":20}},"23":{"start":{"line":35,"column":0},"end":{"line":42,"column":2}},"24":{"start":{"line":36,"column":4},"end":{"line":36,"column":42}},"25":{"start":{"line":37,"column":4},"end":{"line":37,"column":17}},"26":{"start":{"line":38,"column":4},"end":{"line":38,"column":61}},"27":{"start":{"line":39,"column":4},"end":{"line":41,"column":7}},"28":{"start":{"line":40,"column":8},"end":{"line":40,"column":27}},"29":{"start":{"line":44,"column":0},"end":{"line":56,"column":2}},"30":{"start":{"line":45,"column":4},"end":{"line":45,"column":19}},"31":{"start":{"line":46,"column":4},"end":{"line":55,"column":7}},"32":{"start":{"line":47,"column":8},"end":{"line":54,"column":9}},"33":{"start":{"line":48,"column":12},"end":{"line":48,"column":44}},"34":{"start":{"line":50,"column":12},"end":{"line":53,"column":15}},"35":{"start":{"line":51,"column":16},"end":{"line":51,"column":29}},"36":{"start":{"line":52,"column":16},"end":{"line":52,"column":36}},"37":{"start":{"line":58,"column":0},"end":{"line":63,"column":2}},"38":{"start":{"line":59,"column":4},"end":{"line":59,"column":66}},"39":{"start":{"line":60,"column":4},"end":{"line":62,"column":7}},"40":{"start":{"line":61,"column":8},"end":{"line":61,"column":29}},"41":{"start":{"line":65,"column":0},"end":{"line":70,"column":2}},"42":{"start":{"line":66,"column":4},"end":{"line":66,"column":34}},"43":{"start":{"line":67,"column":4},"end":{"line":69,"column":18}},"44":{"start":{"line":68,"column":8},"end":{"line":68,"column":61}},"45":{"start":{"line":72,"column":0},"end":{"line":77,"column":2}},"46":{"start":{"line":73,"column":4},"end":{"line":73,"column":34}},"47":{"start":{"line":74,"column":4},"end":{"line":76,"column":18}},"48":{"start":{"line":75,"column":8},"end":{"line":75,"column":93}},"49":{"start":{"line":79,"column":0},"end":{"line":82,"column":2}},"50":{"start":{"line":80,"column":4},"end":{"line":80,"column":45}},"51":{"start":{"line":81,"column":4},"end":{"line":81,"column":31}},"52":{"start":{"line":84,"column":0},"end":{"line":106,"column":2}},"53":{"start":{"line":85,"column":4},"end":{"line":85,"column":27}},"54":{"start":{"line":85,"column":15},"end":{"line":85,"column":27}},"55":{"start":{"line":86,"column":4},"end":{"line":86,"column":28}},"56":{"start":{"line":87,"column":4},"end":{"line":87,"column":47}},"57":{"start":{"line":88,"column":4},"end":{"line":104,"column":7}},"58":{"start":{"line":89,"column":8},"end":{"line":89,"column":28}},"59":{"start":{"line":90,"column":8},"end":{"line":92,"column":9}},"60":{"start":{"line":91,"column":12},"end":{"line":91,"column":19}},"61":{"start":{"line":93,"column":8},"end":{"line":102,"column":9}},"62":{"start":{"line":94,"column":12},"end":{"line":101,"column":13}},"63":{"start":{"line":96,"column":16},"end":{"line":96,"column":72}},"64":{"start":{"line":97,"column":16},"end":{"line":97,"column":22}},"65":{"start":{"line":99,"column":16},"end":{"line":99,"column":35}},"66":{"start":{"line":100,"column":16},"end":{"line":100,"column":22}},"67":{"start":{"line":103,"column":8},"end":{"line":103,"column":24}},"68":{"start":{"line":105,"column":4},"end":{"line":105,"column":16}},"69":{"start":{"line":108,"column":0},"end":{"line":166,"column":2}},"70":{"start":{"line":109,"column":4},"end":{"line":109,"column":20}},"71":{"start":{"line":110,"column":4},"end":{"line":110,"column":34}},"72":{"start":{"line":111,"column":4},"end":{"line":113,"column":18}},"73":{"start":{"line":112,"column":8},"end":{"line":112,"column":58}},"74":{"start":{"line":115,"column":4},"end":{"line":146,"column":5}},"75":{"start":{"line":118,"column":8},"end":{"line":134,"column":9}},"76":{"start":{"line":119,"column":12},"end":{"line":119,"column":55}},"77":{"start":{"line":120,"column":12},"end":{"line":120,"column":38}},"78":{"start":{"line":121,"column":12},"end":{"line":123,"column":13}},"79":{"start":{"line":122,"column":16},"end":{"line":122,"column":40}},"80":{"start":{"line":124,"column":12},"end":{"line":132,"column":15}},"81":{"start":{"line":125,"column":16},"end":{"line":125,"column":32}},"82":{"start":{"line":126,"column":16},"end":{"line":126,"column":51}},"83":{"start":{"line":127,"column":16},"end":{"line":130,"column":17}},"84":{"start":{"line":128,"column":20},"end":{"line":128,"column":58}},"85":{"start":{"line":129,"column":20},"end":{"line":129,"column":66}},"86":{"start":{"line":129,"column":53},"end":{"line":129,"column":66}},"87":{"start":{"line":131,"column":16},"end":{"line":131,"column":61}},"88":{"start":{"line":133,"column":12},"end":{"line":133,"column":53}},"89":{"start":{"line":137,"column":8},"end":{"line":139,"column":9}},"90":{"start":{"line":138,"column":12},"end":{"line":138,"column":70}},"91":{"start":{"line":142,"column":8},"end":{"line":142,"column":39}},"92":{"start":{"line":143,"column":8},"end":{"line":143,"column":52}},"93":{"start":{"line":144,"column":8},"end":{"line":144,"column":69}},"94":{"start":{"line":148,"column":4},"end":{"line":154,"column":7}},"95":{"start":{"line":149,"column":8},"end":{"line":153,"column":9}},"96":{"start":{"line":150,"column":12},"end":{"line":150,"column":79}},"97":{"start":{"line":152,"column":12},"end":{"line":152,"column":34}},"98":{"start":{"line":156,"column":4},"end":{"line":165,"column":5}},"99":{"start":{"line":157,"column":8},"end":{"line":163,"column":9}},"100":{"start":{"line":158,"column":12},"end":{"line":162,"column":13}},"101":{"start":{"line":159,"column":16},"end":{"line":159,"column":41}},"102":{"start":{"line":160,"column":20},"end":{"line":162,"column":13}},"103":{"start":{"line":161,"column":16},"end":{"line":161,"column":42}},"104":{"start":{"line":164,"column":8},"end":{"line":164,"column":17}},"105":{"start":{"line":168,"column":0},"end":{"line":204,"column":1}},"106":{"start":{"line":169,"column":4},"end":{"line":171,"column":5}},"107":{"start":{"line":170,"column":8},"end":{"line":170,"column":28}},"108":{"start":{"line":172,"column":4},"end":{"line":172,"column":41}},"109":{"start":{"line":173,"column":4},"end":{"line":181,"column":6}},"110":{"start":{"line":174,"column":8},"end":{"line":174,"column":24}},"111":{"start":{"line":175,"column":8},"end":{"line":179,"column":11}},"112":{"start":{"line":176,"column":12},"end":{"line":178,"column":13}},"113":{"start":{"line":177,"column":16},"end":{"line":177,"column":29}},"114":{"start":{"line":180,"column":8},"end":{"line":180,"column":20}},"115":{"start":{"line":183,"column":4},"end":{"line":203,"column":5}},"116":{"start":{"line":184,"column":8},"end":{"line":186,"column":9}},"117":{"start":{"line":185,"column":12},"end":{"line":185,"column":40}},"118":{"start":{"line":187,"column":8},"end":{"line":187,"column":61}},"119":{"start":{"line":187,"column":44},"end":{"line":187,"column":61}},"120":{"start":{"line":188,"column":8},"end":{"line":188,"column":59}},"121":{"start":{"line":188,"column":42},"end":{"line":188,"column":59}},"122":{"start":{"line":189,"column":8},"end":{"line":200,"column":9}},"123":{"start":{"line":190,"column":12},"end":{"line":192,"column":13}},"124":{"start":{"line":191,"column":16},"end":{"line":191,"column":38}},"125":{"start":{"line":193,"column":12},"end":{"line":199,"column":13}},"126":{"start":{"line":194,"column":16},"end":{"line":194,"column":41}},"127":{"start":{"line":194,"column":28},"end":{"line":194,"column":41}},"128":{"start":{"line":195,"column":16},"end":{"line":197,"column":17}},"129":{"start":{"line":196,"column":20},"end":{"line":196,"column":61}},"130":{"start":{"line":196,"column":49},"end":{"line":196,"column":61}},"131":{"start":{"line":198,"column":16},"end":{"line":198,"column":29}},"132":{"start":{"line":202,"column":8},"end":{"line":202,"column":112}},"133":{"start":{"line":206,"column":0},"end":{"line":213,"column":2}},"134":{"start":{"line":207,"column":4},"end":{"line":207,"column":34}},"135":{"start":{"line":208,"column":4},"end":{"line":210,"column":18}},"136":{"start":{"line":209,"column":8},"end":{"line":209,"column":37}},"137":{"start":{"line":211,"column":4},"end":{"line":211,"column":27}},"138":{"start":{"line":212,"column":4},"end":{"line":212,"column":31}},"139":{"start":{"line":215,"column":0},"end":{"line":232,"column":2}},"140":{"start":{"line":216,"column":4},"end":{"line":216,"column":46}},"141":{"start":{"line":217,"column":4},"end":{"line":217,"column":34}},"142":{"start":{"line":218,"column":4},"end":{"line":228,"column":5}},"143":{"start":{"line":219,"column":8},"end":{"line":227,"column":11}},"144":{"start":{"line":220,"column":12},"end":{"line":220,"column":26}},"145":{"start":{"line":221,"column":12},"end":{"line":225,"column":15}},"146":{"start":{"line":222,"column":16},"end":{"line":224,"column":17}},"147":{"start":{"line":223,"column":20},"end":{"line":223,"column":31}},"148":{"start":{"line":226,"column":12},"end":{"line":226,"column":22}},"149":{"start":{"line":229,"column":4},"end":{"line":231,"column":7}},"150":{"start":{"line":230,"column":8},"end":{"line":230,"column":36}},"151":{"start":{"line":234,"column":0},"end":{"line":238,"column":2}},"152":{"start":{"line":235,"column":4},"end":{"line":235,"column":17}},"153":{"start":{"line":236,"column":4},"end":{"line":236,"column":61}},"154":{"start":{"line":237,"column":4},"end":{"line":237,"column":44}},"155":{"start":{"line":240,"column":0},"end":{"line":242,"column":2}},"156":{"start":{"line":241,"column":4},"end":{"line":241,"column":28}},"157":{"start":{"line":244,"column":0},"end":{"line":247,"column":2}},"158":{"start":{"line":245,"column":4},"end":{"line":245,"column":29}},"159":{"start":{"line":246,"column":4},"end":{"line":246,"column":29}},"160":{"start":{"line":249,"column":0},"end":{"line":251,"column":2}},"161":{"start":{"line":250,"column":4},"end":{"line":250,"column":47}},"162":{"start":{"line":253,"column":0},"end":{"line":259,"column":1}},"163":{"start":{"line":254,"column":4},"end":{"line":254,"column":29}},"164":{"start":{"line":254,"column":15},"end":{"line":254,"column":29}},"165":{"start":{"line":255,"column":4},"end":{"line":257,"column":7}},"166":{"start":{"line":256,"column":8},"end":{"line":256,"column":32}},"167":{"start":{"line":258,"column":4},"end":{"line":258,"column":16}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"3":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":13},"end":{"line":36,"column":20}},{"start":{"line":36,"column":24},"end":{"line":36,"column":41}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"5":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":23},"end":{"line":75,"column":46}},{"start":{"line":75,"column":50},"end":{"line":75,"column":91}}]},"6":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":4}},{"start":{"line":85,"column":4},"end":{"line":85,"column":4}}]},"7":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":90,"column":8}},{"start":{"line":90,"column":8},"end":{"line":90,"column":8}}]},"8":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":12},"end":{"line":90,"column":38}},{"start":{"line":90,"column":42},"end":{"line":90,"column":54}}]},"9":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":8},"end":{"line":93,"column":8}},{"start":{"line":93,"column":8},"end":{"line":93,"column":8}}]},"10":{"line":94,"type":"switch","locations":[{"start":{"line":95,"column":16},"end":{"line":97,"column":22}},{"start":{"line":98,"column":16},"end":{"line":100,"column":22}}]},"11":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]},"12":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"13":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":12},"end":{"line":121,"column":12}},{"start":{"line":121,"column":12},"end":{"line":121,"column":12}}]},"14":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":16},"end":{"line":127,"column":16}},{"start":{"line":127,"column":16},"end":{"line":127,"column":16}}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":20},"end":{"line":129,"column":20}},{"start":{"line":129,"column":20},"end":{"line":129,"column":20}}]},"16":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":8},"end":{"line":137,"column":8}},{"start":{"line":137,"column":8},"end":{"line":137,"column":8}}]},"17":{"line":138,"type":"cond-expr","locations":[{"start":{"line":138,"column":28},"end":{"line":138,"column":61}},{"start":{"line":138,"column":64},"end":{"line":138,"column":69}}]},"18":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":22},"end":{"line":142,"column":33}},{"start":{"line":142,"column":37},"end":{"line":142,"column":38}}]},"19":{"line":143,"type":"binary-expr","locations":[{"start":{"line":143,"column":23},"end":{"line":143,"column":35}},{"start":{"line":143,"column":39},"end":{"line":143,"column":51}}]},"20":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":8}},{"start":{"line":149,"column":8},"end":{"line":149,"column":8}}]},"21":{"line":149,"type":"binary-expr","locations":[{"start":{"line":149,"column":12},"end":{"line":149,"column":18}},{"start":{"line":149,"column":22},"end":{"line":149,"column":36}}]},"22":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":12},"end":{"line":158,"column":12}},{"start":{"line":158,"column":12},"end":{"line":158,"column":12}}]},"23":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":20},"end":{"line":160,"column":20}},{"start":{"line":160,"column":20},"end":{"line":160,"column":20}}]},"24":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":4}},{"start":{"line":169,"column":4},"end":{"line":169,"column":4}}]},"25":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":12},"end":{"line":176,"column":12}},{"start":{"line":176,"column":12},"end":{"line":176,"column":12}}]},"26":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":8},"end":{"line":184,"column":8}},{"start":{"line":184,"column":8},"end":{"line":184,"column":8}}]},"27":{"line":184,"type":"binary-expr","locations":[{"start":{"line":184,"column":12},"end":{"line":184,"column":37}},{"start":{"line":184,"column":41},"end":{"line":184,"column":48}},{"start":{"line":184,"column":52},"end":{"line":184,"column":89}}]},"28":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":8},"end":{"line":187,"column":8}},{"start":{"line":187,"column":8},"end":{"line":187,"column":8}}]},"29":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":8},"end":{"line":188,"column":8}},{"start":{"line":188,"column":8},"end":{"line":188,"column":8}}]},"30":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":8},"end":{"line":189,"column":8}},{"start":{"line":189,"column":8},"end":{"line":189,"column":8}}]},"31":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":12},"end":{"line":190,"column":12}},{"start":{"line":190,"column":12},"end":{"line":190,"column":12}}]},"32":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":12},"end":{"line":193,"column":12}},{"start":{"line":193,"column":12},"end":{"line":193,"column":12}}]},"33":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":16},"end":{"line":194,"column":16}},{"start":{"line":194,"column":16},"end":{"line":194,"column":16}}]},"34":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":20},"end":{"line":196,"column":20}},{"start":{"line":196,"column":20},"end":{"line":196,"column":20}}]},"35":{"line":202,"type":"cond-expr","locations":[{"start":{"line":202,"column":35},"end":{"line":202,"column":53}},{"start":{"line":202,"column":56},"end":{"line":202,"column":63}}]},"36":{"line":202,"type":"cond-expr","locations":[{"start":{"line":202,"column":86},"end":{"line":202,"column":102}},{"start":{"line":202,"column":105},"end":{"line":202,"column":110}}]},"37":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":4},"end":{"line":218,"column":4}},{"start":{"line":218,"column":4},"end":{"line":218,"column":4}}]},"38":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":16},"end":{"line":222,"column":16}},{"start":{"line":222,"column":16},"end":{"line":222,"column":16}}]},"39":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":4},"end":{"line":254,"column":4}},{"start":{"line":254,"column":4},"end":{"line":254,"column":4}}]}},"code":["exports.initialize = function initializeSchema(schema, callback) {","    schema.adapter = new Memory();","    schema.adapter.connect(callback);","};","","function Memory(m) {","    if (m) {","        this.isTransaction = true;","        this.cache = m.cache;","        this.ids = m.ids;","        this._models = m._models;","    } else {","        this.isTransaction = false;","        this.cache = {};","        this.ids = {};","        this._models = {};","    }","}","","Memory.prototype.connect = function(callback) {","    if (this.isTransaction) {","        this.onTransactionExec = callback;","    } else {","        process.nextTick(callback);","    }","};","","Memory.prototype.define = function defineModel(descr) {","    var m = descr.model.modelName;","    this._models[m] = descr;","    this.cache[this.table(m)] = {};","    this.ids[m] = 1;","};","","Memory.prototype.create = function create(model, data, callback) {","    var id = data.id || this.ids[model]++;","    data.id = id;","    this.cache[this.table(model)][id] = JSON.stringify(data);","    process.nextTick(function() {","        callback(null, id);","    });","};","","Memory.prototype.updateOrCreate = function (model, data, callback) {","    var mem = this;","    this.exists(model, data.id, function (err, exists) {","        if (exists) {","            mem.save(model, data, callback);","        } else {","            mem.create(model, data, function (err, id) {","                data.id = id;","                callback(err, data);","            });","        }","    });","};","","Memory.prototype.save = function save(model, data, callback) {","    this.cache[this.table(model)][data.id] = JSON.stringify(data);","    process.nextTick(function () {","        callback(null, data);","    });","};","","Memory.prototype.exists = function exists(model, id, callback) {","    var table = this.table(model);","    process.nextTick(function () {","        callback(null, this.cache[table].hasOwnProperty(id));","    }.bind(this));","};","","Memory.prototype.find = function find(model, id, callback) {","    var table = this.table(model);","    process.nextTick(function () {","        callback(null, id in this.cache[table] && this.fromDb(model, this.cache[table][id]));","    }.bind(this));","};","","Memory.prototype.destroy = function destroy(model, id, callback) {","    delete this.cache[this.table(model)][id];","    process.nextTick(callback);","};","","Memory.prototype.fromDb = function(model, data) {","    if (!data) return null;","    data = JSON.parse(data);","    var props = this._models[model].properties;","    Object.keys(data).forEach(function (key) {","        var val = data[key];","        if (typeof val === 'undefined' || val === null) {","            return;","        }","        if (props[key]) {","            switch(props[key].type.name) {","                case 'Date':","                val = new Date(val.toString().replace(/GMT.*$/, 'GMT'));","                break;","                case 'Boolean':","                val = Boolean(val);","                break;","            }","        }","        data[key] = val;","    });","    return data;","};","","Memory.prototype.all = function all(model, filter, callback) {","    var self = this;","    var table = this.table(model);","    var nodes = Object.keys(this.cache[table]).map(function (key) {","        return this.fromDb(model, this.cache[table][key]);","    }.bind(this));","","    if (filter) {","","        // do we need some sorting?","        if (filter.order) {","            var props = this._models[model].properties;","            var orders = filter.order;","            if (typeof filter.order === \"string\") {","                orders = [filter.order];","            }","            orders.forEach(function (key, i) {","                var reverse = 1;","                var m = key.match(/\\s+(A|DE)SC$/i);","                if (m) {","                    key = key.replace(/\\s+(A|DE)SC/i, '');","                    if (m[1].toLowerCase() === 'de') reverse = -1;","                }","                orders[i] = {\"key\": key, \"reverse\": reverse};","            });","            nodes = nodes.sort(sorting.bind(orders));","        }","","        // do we need some filtration?","        if (filter.where) {","            nodes = nodes ? nodes.filter(applyFilter(filter)) : nodes;","        }","","        // limit/skip","        filter.skip = filter.skip || 0;","        filter.limit = filter.limit || nodes.length;","        nodes = nodes.slice(filter.skip, filter.skip + filter.limit);","","    }","","    process.nextTick(function () {","        if (filter && filter.include) {","            self._models[model].model.include(nodes, filter.include, callback);","        } else {","            callback(null, nodes);","        }","    });","","    function sorting(a, b) {","        for (var i=0, l=this.length; i<l; i++) {","            if (a[this[i].key] > b[this[i].key]) {","                return 1*this[i].reverse;","            } else  if (a[this[i].key] < b[this[i].key]) {","                return -1*this[i].reverse;","            }","        }","        return 0;","    }","};","","function applyFilter(filter) {","    if (typeof filter.where === 'function') {","        return filter.where;","    }","    var keys = Object.keys(filter.where);","    return function (obj) {","        var pass = true;","        keys.forEach(function (key) {","            if (!test(filter.where[key], obj[key])) {","                pass = false;","            }","        });","        return pass;","    };","","    function test(example, value) {","        if (typeof value === 'string' && example && example.constructor.name === 'RegExp') {","            return value.match(example);","        }","        if (typeof example === 'undefined') return undefined;","        if (typeof value === 'undefined') return undefined;","        if (typeof example === 'object') {","            if (example === null) {","                return value === null;","            }","            if (example.inq) {","                if (!value) return false;","                for (var i = 0; i < example.inq.length; i += 1) {","                    if (example.inq[i] == value) return true;","                }","                return false;","            }","        }","        // not strict equality","        return (example !== null ? example.toString() : example) == (value !== null ? value.toString() : value);","    }","}","","Memory.prototype.destroyAll = function destroyAll(model, callback) {","    var table = this.table(model);","    Object.keys(this.cache[table]).forEach(function (id) {","        delete this.cache[table][id];","    }.bind(this));","    this.cache[table] = {};","    process.nextTick(callback);","};","","Memory.prototype.count = function count(model, callback, where) {","    var cache = this.cache[this.table(model)];","    var data = Object.keys(cache);","    if (where) {","        data = data.filter(function (id) {","            var ok = true;","            Object.keys(where).forEach(function (key) {","                if (JSON.parse(cache[id])[key] != where[key]) {","                    ok = false;","                }","            });","            return ok;","        });","    }","    process.nextTick(function () {","        callback(null, data.length);","    });","};","","Memory.prototype.updateAttributes = function updateAttributes(model, id, data, cb) {","    data.id = id;","    var base = JSON.parse(this.cache[this.table(model)][id]);","    this.save(model, merge(base, data), cb);","};","","Memory.prototype.transaction = function () {","    return new Memory(this);","};","","Memory.prototype.exec = function(callback) {","    this.onTransactionExec();","    setTimeout(callback, 50);","};","","Memory.prototype.table = function (model) {","    return this._models[model].model.tableName;","};","","function merge(base, update) {","    if (!base) return update;","    Object.keys(update).forEach(function (key) {","        base[key] = update[key];","    });","    return base;","}","",""],"l":{"1":1,"2":0,"3":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"15":0,"16":0,"20":1,"21":0,"22":0,"24":0,"28":1,"29":0,"30":0,"31":0,"32":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"44":1,"45":0,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"58":1,"59":0,"60":0,"61":0,"65":1,"66":0,"67":0,"68":0,"72":1,"73":0,"74":0,"75":0,"79":1,"80":0,"81":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"93":0,"94":0,"96":0,"97":0,"99":0,"100":0,"103":0,"105":0,"108":1,"109":0,"110":0,"111":0,"112":0,"115":0,"118":0,"119":0,"120":0,"121":0,"122":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"131":0,"133":0,"137":0,"138":0,"142":0,"143":0,"144":0,"148":0,"149":0,"150":0,"152":0,"156":1,"157":0,"158":0,"159":0,"160":0,"161":0,"164":0,"168":1,"169":0,"170":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"180":0,"183":1,"184":0,"185":0,"187":0,"188":0,"189":0,"190":0,"191":0,"193":0,"194":0,"195":0,"196":0,"198":0,"202":0,"206":1,"207":0,"208":0,"209":0,"211":0,"212":0,"215":1,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"226":0,"229":0,"230":0,"234":1,"235":0,"236":0,"237":0,"240":1,"241":0,"244":1,"245":0,"246":0,"249":1,"250":0,"253":1,"254":0,"255":0,"256":0,"258":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/neo4j.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/neo4j.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":1,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":1,"148":0,"149":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"156":1,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":1,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":1,"192":0,"193":0,"194":1,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":1,"205":0,"206":0,"207":0,"208":0,"209":0,"210":1,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":1,"219":0,"220":0,"221":0,"222":1,"223":0,"224":0,"225":1,"226":0,"227":0,"228":0,"229":1,"230":0,"231":1,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":1,"243":0,"244":0,"245":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0,0],"64":[0,0],"65":[0,0,0,0],"66":[0,0],"67":[0,0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0,0],"75":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0},"fnMap":{"1":{"name":"initializeSchema","line":8,"loc":{"start":{"line":8,"column":21},"end":{"line":8,"column":65}}},"2":{"name":"Neo4j","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":23}}},"3":{"name":"defineModel","line":20,"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":53}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":36},"end":{"line":26,"column":62}}},"5":{"name":"(anonymous_5)","line":29,"loc":{"start":{"line":29,"column":18},"end":{"line":29,"column":39}}},"6":{"name":"(anonymous_6)","line":30,"loc":{"start":{"line":30,"column":59},"end":{"line":30,"column":80}}},"7":{"name":"mixClassMethods","line":42,"loc":{"start":{"line":42,"column":34},"end":{"line":42,"column":76}}},"8":{"name":"(anonymous_8)","line":45,"loc":{"start":{"line":45,"column":36},"end":{"line":45,"column":52}}},"9":{"name":"(anonymous_9)","line":51,"loc":{"start":{"line":51,"column":27},"end":{"line":51,"column":65}}},"10":{"name":"cypherQuery","line":52,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":53}}},"11":{"name":"(anonymous_11)","line":61,"loc":{"start":{"line":61,"column":44},"end":{"line":61,"column":56}}},"12":{"name":"(anonymous_12)","line":65,"loc":{"start":{"line":65,"column":29},"end":{"line":65,"column":52}}},"13":{"name":"relationshipExists","line":79,"loc":{"start":{"line":79,"column":29},"end":{"line":79,"column":88}}},"14":{"name":"(anonymous_14)","line":80,"loc":{"start":{"line":80,"column":23},"end":{"line":80,"column":44}}},"15":{"name":"(anonymous_15)","line":82,"loc":{"start":{"line":82,"column":52},"end":{"line":82,"column":73}}},"16":{"name":"(anonymous_16)","line":87,"loc":{"start":{"line":87,"column":33},"end":{"line":87,"column":46}}},"17":{"name":"createRelationshipTo","line":98,"loc":{"start":{"line":98,"column":31},"end":{"line":98,"column":87}}},"18":{"name":"(anonymous_18)","line":100,"loc":{"start":{"line":100,"column":22},"end":{"line":100,"column":43}}},"19":{"name":"(anonymous_19)","line":106,"loc":{"start":{"line":106,"column":22},"end":{"line":106,"column":43}}},"20":{"name":"ok","line":112,"loc":{"start":{"line":112,"column":8},"end":{"line":112,"column":22}}},"21":{"name":"createRelationshipFrom","line":119,"loc":{"start":{"line":119,"column":33},"end":{"line":119,"column":91}}},"22":{"name":"(anonymous_22)","line":124,"loc":{"start":{"line":124,"column":31},"end":{"line":124,"column":67}}},"23":{"name":"(anonymous_23)","line":125,"loc":{"start":{"line":125,"column":59},"end":{"line":125,"column":82}}},"24":{"name":"mixInstanceMethods","line":134,"loc":{"start":{"line":134,"column":37},"end":{"line":134,"column":72}}},"25":{"name":"isInRelationWith","line":142,"loc":{"start":{"line":142,"column":29},"end":{"line":142,"column":81}}},"26":{"name":"find","line":147,"loc":{"start":{"line":147,"column":23},"end":{"line":147,"column":51}}},"27":{"name":"(anonymous_27)","line":151,"loc":{"start":{"line":151,"column":36},"end":{"line":151,"column":57}}},"28":{"name":"create","line":160,"loc":{"start":{"line":160,"column":25},"end":{"line":160,"column":64}}},"29":{"name":"(anonymous_29)","line":166,"loc":{"start":{"line":166,"column":14},"end":{"line":166,"column":29}}},"30":{"name":"(anonymous_30)","line":171,"loc":{"start":{"line":171,"column":41},"end":{"line":171,"column":56}}},"31":{"name":"(anonymous_31)","line":173,"loc":{"start":{"line":173,"column":44},"end":{"line":173,"column":59}}},"32":{"name":"updateIndexes","line":181,"loc":{"start":{"line":181,"column":32},"end":{"line":181,"column":72}}},"33":{"name":"(anonymous_33)","line":185,"loc":{"start":{"line":185,"column":31},"end":{"line":185,"column":46}}},"34":{"name":"done","line":195,"loc":{"start":{"line":195,"column":4},"end":{"line":195,"column":23}}},"35":{"name":"save","line":203,"loc":{"start":{"line":203,"column":23},"end":{"line":203,"column":60}}},"36":{"name":"(anonymous_36)","line":205,"loc":{"start":{"line":205,"column":23},"end":{"line":205,"column":44}}},"37":{"name":"(anonymous_37)","line":210,"loc":{"start":{"line":210,"column":18},"end":{"line":210,"column":33}}},"38":{"name":"(anonymous_38)","line":212,"loc":{"start":{"line":212,"column":44},"end":{"line":212,"column":59}}},"39":{"name":"exists","line":222,"loc":{"start":{"line":222,"column":25},"end":{"line":222,"column":62}}},"40":{"name":"find","line":227,"loc":{"start":{"line":227,"column":23},"end":{"line":227,"column":58}}},"41":{"name":"(anonymous_41)","line":229,"loc":{"start":{"line":229,"column":18},"end":{"line":229,"column":39}}},"42":{"name":"readFromDb","line":237,"loc":{"start":{"line":237,"column":29},"end":{"line":237,"column":62}}},"43":{"name":"(anonymous_43)","line":241,"loc":{"start":{"line":241,"column":30},"end":{"line":241,"column":45}}},"44":{"name":"destroy","line":251,"loc":{"start":{"line":251,"column":26},"end":{"line":251,"column":64}}},"45":{"name":"(anonymous_45)","line":253,"loc":{"start":{"line":253,"column":18},"end":{"line":253,"column":39}}},"46":{"name":"(anonymous_46)","line":255,"loc":{"start":{"line":255,"column":20},"end":{"line":255,"column":35}}},"47":{"name":"all","line":262,"loc":{"start":{"line":262,"column":22},"end":{"line":262,"column":60}}},"48":{"name":"(anonymous_48)","line":263,"loc":{"start":{"line":263,"column":58},"end":{"line":263,"column":80}}},"49":{"name":"(anonymous_49)","line":265,"loc":{"start":{"line":265,"column":30},"end":{"line":265,"column":45}}},"50":{"name":"(anonymous_50)","line":275,"loc":{"start":{"line":275,"column":35},"end":{"line":275,"column":51}}},"51":{"name":"all","line":285,"loc":{"start":{"line":285,"column":27},"end":{"line":285,"column":57}}},"52":{"name":"(anonymous_52)","line":286,"loc":{"start":{"line":286,"column":58},"end":{"line":286,"column":80}}},"53":{"name":"applyFilter","line":291,"loc":{"start":{"line":291,"column":0},"end":{"line":291,"column":29}}},"54":{"name":"(anonymous_54)","line":296,"loc":{"start":{"line":296,"column":11},"end":{"line":296,"column":26}}},"55":{"name":"(anonymous_55)","line":298,"loc":{"start":{"line":298,"column":21},"end":{"line":298,"column":36}}},"56":{"name":"test","line":306,"loc":{"start":{"line":306,"column":4},"end":{"line":306,"column":34}}},"57":{"name":"destroyAll","line":318,"loc":{"start":{"line":318,"column":29},"end":{"line":318,"column":66}}},"58":{"name":"(anonymous_58)","line":320,"loc":{"start":{"line":320,"column":25},"end":{"line":320,"column":52}}},"59":{"name":"(anonymous_59)","line":323,"loc":{"start":{"line":323,"column":63},"end":{"line":323,"column":79}}},"60":{"name":"done","line":328,"loc":{"start":{"line":328,"column":4},"end":{"line":328,"column":23}}},"61":{"name":"count","line":336,"loc":{"start":{"line":336,"column":24},"end":{"line":336,"column":63}}},"62":{"name":"(anonymous_62)","line":337,"loc":{"start":{"line":337,"column":36},"end":{"line":337,"column":63}}},"63":{"name":"updateAttributes","line":342,"loc":{"start":{"line":342,"column":35},"end":{"line":342,"column":82}}},"64":{"name":"(anonymous_64)","line":344,"loc":{"start":{"line":344,"column":18},"end":{"line":344,"column":39}}},"65":{"name":"(anonymous_65)","line":349,"loc":{"start":{"line":349,"column":24},"end":{"line":349,"column":41}}},"66":{"name":"cleanup","line":353,"loc":{"start":{"line":353,"column":0},"end":{"line":353,"column":23}}},"67":{"name":"(anonymous_67)","line":357,"loc":{"start":{"line":357,"column":30},"end":{"line":357,"column":45}}},"68":{"name":"merge","line":372,"loc":{"start":{"line":372,"column":0},"end":{"line":372,"column":29}}},"69":{"name":"(anonymous_69)","line":373,"loc":{"start":{"line":373,"column":32},"end":{"line":373,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":50}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"3":{"start":{"line":8,"column":0},"end":{"line":12,"column":2}},"4":{"start":{"line":9,"column":4},"end":{"line":9,"column":65}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":46}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":31}},"7":{"start":{"line":14,"column":0},"end":{"line":18,"column":1}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":22}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":25}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}},"11":{"start":{"line":20,"column":0},"end":{"line":24,"column":2}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":56}},"13":{"start":{"line":22,"column":4},"end":{"line":22,"column":69}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":48}},"15":{"start":{"line":26,"column":0},"end":{"line":40,"column":2}},"16":{"start":{"line":27,"column":4},"end":{"line":27,"column":25}},"17":{"start":{"line":28,"column":4},"end":{"line":28,"column":77}},"18":{"start":{"line":29,"column":4},"end":{"line":39,"column":6}},"19":{"start":{"line":30,"column":8},"end":{"line":38,"column":11}},"20":{"start":{"line":31,"column":12},"end":{"line":31,"column":36}},"21":{"start":{"line":31,"column":21},"end":{"line":31,"column":36}},"22":{"start":{"line":32,"column":12},"end":{"line":37,"column":13}},"23":{"start":{"line":33,"column":16},"end":{"line":33,"column":39}},"24":{"start":{"line":34,"column":16},"end":{"line":34,"column":45}},"25":{"start":{"line":36,"column":16},"end":{"line":36,"column":31}},"26":{"start":{"line":42,"column":0},"end":{"line":132,"column":2}},"27":{"start":{"line":43,"column":4},"end":{"line":43,"column":19}},"28":{"start":{"line":45,"column":4},"end":{"line":49,"column":7}},"29":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"30":{"start":{"line":47,"column":12},"end":{"line":47,"column":45}},"31":{"start":{"line":51,"column":4},"end":{"line":70,"column":6}},"32":{"start":{"line":52,"column":8},"end":{"line":69,"column":10}},"33":{"start":{"line":53,"column":12},"end":{"line":58,"column":13}},"34":{"start":{"line":54,"column":16},"end":{"line":54,"column":28}},"35":{"start":{"line":55,"column":16},"end":{"line":55,"column":28}},"36":{"start":{"line":56,"column":19},"end":{"line":58,"column":13}},"37":{"start":{"line":57,"column":16},"end":{"line":57,"column":34}},"38":{"start":{"line":60,"column":12},"end":{"line":60,"column":22}},"39":{"start":{"line":61,"column":12},"end":{"line":63,"column":15}},"40":{"start":{"line":62,"column":16},"end":{"line":62,"column":35}},"41":{"start":{"line":65,"column":12},"end":{"line":68,"column":18}},"42":{"start":{"line":66,"column":16},"end":{"line":66,"column":44}},"43":{"start":{"line":66,"column":25},"end":{"line":66,"column":44}},"44":{"start":{"line":67,"column":16},"end":{"line":67,"column":49}},"45":{"start":{"line":79,"column":4},"end":{"line":96,"column":6}},"46":{"start":{"line":80,"column":8},"end":{"line":95,"column":11}},"47":{"start":{"line":81,"column":12},"end":{"line":81,"column":36}},"48":{"start":{"line":81,"column":21},"end":{"line":81,"column":36}},"49":{"start":{"line":82,"column":12},"end":{"line":94,"column":15}},"50":{"start":{"line":83,"column":16},"end":{"line":83,"column":46}},"51":{"start":{"line":83,"column":31},"end":{"line":83,"column":46}},"52":{"start":{"line":84,"column":16},"end":{"line":84,"column":42}},"53":{"start":{"line":84,"column":32},"end":{"line":84,"column":42}},"54":{"start":{"line":85,"column":16},"end":{"line":85,"column":34}},"55":{"start":{"line":86,"column":16},"end":{"line":92,"column":17}},"56":{"start":{"line":87,"column":20},"end":{"line":91,"column":23}},"57":{"start":{"line":88,"column":24},"end":{"line":90,"column":25}},"58":{"start":{"line":89,"column":28},"end":{"line":89,"column":41}},"59":{"start":{"line":93,"column":16},"end":{"line":93,"column":38}},"60":{"start":{"line":98,"column":4},"end":{"line":117,"column":6}},"61":{"start":{"line":99,"column":8},"end":{"line":99,"column":29}},"62":{"start":{"line":100,"column":8},"end":{"line":105,"column":11}},"63":{"start":{"line":101,"column":12},"end":{"line":101,"column":42}},"64":{"start":{"line":101,"column":27},"end":{"line":101,"column":42}},"65":{"start":{"line":102,"column":12},"end":{"line":102,"column":38}},"66":{"start":{"line":102,"column":28},"end":{"line":102,"column":38}},"67":{"start":{"line":103,"column":12},"end":{"line":103,"column":28}},"68":{"start":{"line":104,"column":12},"end":{"line":104,"column":17}},"69":{"start":{"line":106,"column":8},"end":{"line":111,"column":11}},"70":{"start":{"line":107,"column":12},"end":{"line":107,"column":42}},"71":{"start":{"line":107,"column":27},"end":{"line":107,"column":42}},"72":{"start":{"line":108,"column":12},"end":{"line":108,"column":38}},"73":{"start":{"line":108,"column":28},"end":{"line":108,"column":38}},"74":{"start":{"line":109,"column":12},"end":{"line":109,"column":26}},"75":{"start":{"line":110,"column":12},"end":{"line":110,"column":17}},"76":{"start":{"line":112,"column":8},"end":{"line":116,"column":9}},"77":{"start":{"line":113,"column":12},"end":{"line":115,"column":13}},"78":{"start":{"line":114,"column":16},"end":{"line":114,"column":79}},"79":{"start":{"line":119,"column":4},"end":{"line":121,"column":5}},"80":{"start":{"line":120,"column":8},"end":{"line":120,"column":59}},"81":{"start":{"line":124,"column":4},"end":{"line":131,"column":5}},"82":{"start":{"line":125,"column":8},"end":{"line":130,"column":11}},"83":{"start":{"line":126,"column":12},"end":{"line":126,"column":42}},"84":{"start":{"line":126,"column":27},"end":{"line":126,"column":42}},"85":{"start":{"line":127,"column":12},"end":{"line":127,"column":38}},"86":{"start":{"line":127,"column":28},"end":{"line":127,"column":38}},"87":{"start":{"line":128,"column":12},"end":{"line":128,"column":46}},"88":{"start":{"line":128,"column":24},"end":{"line":128,"column":46}},"89":{"start":{"line":129,"column":12},"end":{"line":129,"column":63}},"90":{"start":{"line":134,"column":0},"end":{"line":145,"column":2}},"91":{"start":{"line":135,"column":4},"end":{"line":135,"column":19}},"92":{"start":{"line":142,"column":4},"end":{"line":144,"column":6}},"93":{"start":{"line":143,"column":8},"end":{"line":143,"column":85}},"94":{"start":{"line":147,"column":0},"end":{"line":158,"column":2}},"95":{"start":{"line":148,"column":4},"end":{"line":157,"column":5}},"96":{"start":{"line":149,"column":8},"end":{"line":149,"column":39}},"97":{"start":{"line":151,"column":8},"end":{"line":156,"column":22}},"98":{"start":{"line":152,"column":12},"end":{"line":154,"column":13}},"99":{"start":{"line":153,"column":16},"end":{"line":153,"column":38}},"100":{"start":{"line":155,"column":12},"end":{"line":155,"column":32}},"101":{"start":{"line":160,"column":0},"end":{"line":179,"column":2}},"102":{"start":{"line":161,"column":4},"end":{"line":161,"column":34}},"103":{"start":{"line":162,"column":4},"end":{"line":162,"column":26}},"104":{"start":{"line":163,"column":4},"end":{"line":163,"column":40}},"105":{"start":{"line":164,"column":4},"end":{"line":164,"column":30}},"106":{"start":{"line":165,"column":4},"end":{"line":165,"column":31}},"107":{"start":{"line":166,"column":4},"end":{"line":178,"column":18}},"108":{"start":{"line":167,"column":8},"end":{"line":169,"column":9}},"109":{"start":{"line":168,"column":12},"end":{"line":168,"column":33}},"110":{"start":{"line":170,"column":8},"end":{"line":170,"column":35}},"111":{"start":{"line":171,"column":8},"end":{"line":177,"column":22}},"112":{"start":{"line":172,"column":12},"end":{"line":172,"column":42}},"113":{"start":{"line":172,"column":21},"end":{"line":172,"column":42}},"114":{"start":{"line":173,"column":12},"end":{"line":176,"column":15}},"115":{"start":{"line":174,"column":16},"end":{"line":174,"column":46}},"116":{"start":{"line":174,"column":25},"end":{"line":174,"column":46}},"117":{"start":{"line":175,"column":16},"end":{"line":175,"column":40}},"118":{"start":{"line":181,"column":0},"end":{"line":201,"column":2}},"119":{"start":{"line":182,"column":4},"end":{"line":182,"column":47}},"120":{"start":{"line":183,"column":4},"end":{"line":183,"column":17}},"121":{"start":{"line":184,"column":4},"end":{"line":184,"column":34}},"122":{"start":{"line":185,"column":4},"end":{"line":190,"column":7}},"123":{"start":{"line":186,"column":8},"end":{"line":189,"column":9}},"124":{"start":{"line":187,"column":12},"end":{"line":187,"column":22}},"125":{"start":{"line":188,"column":12},"end":{"line":188,"column":57}},"126":{"start":{"line":192,"column":4},"end":{"line":192,"column":11}},"127":{"start":{"line":194,"column":4},"end":{"line":194,"column":22}},"128":{"start":{"line":195,"column":4},"end":{"line":200,"column":5}},"129":{"start":{"line":196,"column":8},"end":{"line":196,"column":29}},"130":{"start":{"line":197,"column":8},"end":{"line":199,"column":9}},"131":{"start":{"line":198,"column":12},"end":{"line":198,"column":22}},"132":{"start":{"line":203,"column":0},"end":{"line":220,"column":2}},"133":{"start":{"line":204,"column":4},"end":{"line":204,"column":20}},"134":{"start":{"line":205,"column":4},"end":{"line":219,"column":7}},"135":{"start":{"line":207,"column":8},"end":{"line":207,"column":23}},"136":{"start":{"line":208,"column":8},"end":{"line":208,"column":38}},"137":{"start":{"line":208,"column":17},"end":{"line":208,"column":38}},"138":{"start":{"line":209,"column":8},"end":{"line":209,"column":34}},"139":{"start":{"line":210,"column":8},"end":{"line":218,"column":11}},"140":{"start":{"line":211,"column":12},"end":{"line":211,"column":42}},"141":{"start":{"line":211,"column":21},"end":{"line":211,"column":42}},"142":{"start":{"line":212,"column":12},"end":{"line":217,"column":15}},"143":{"start":{"line":213,"column":16},"end":{"line":213,"column":49}},"144":{"start":{"line":213,"column":25},"end":{"line":213,"column":49}},"145":{"start":{"line":215,"column":16},"end":{"line":215,"column":39}},"146":{"start":{"line":216,"column":16},"end":{"line":216,"column":42}},"147":{"start":{"line":222,"column":0},"end":{"line":225,"column":2}},"148":{"start":{"line":223,"column":4},"end":{"line":223,"column":26}},"149":{"start":{"line":224,"column":4},"end":{"line":224,"column":28}},"150":{"start":{"line":227,"column":0},"end":{"line":235,"column":2}},"151":{"start":{"line":228,"column":4},"end":{"line":228,"column":26}},"152":{"start":{"line":229,"column":4},"end":{"line":234,"column":18}},"153":{"start":{"line":230,"column":8},"end":{"line":232,"column":9}},"154":{"start":{"line":231,"column":12},"end":{"line":231,"column":30}},"155":{"start":{"line":233,"column":8},"end":{"line":233,"column":65}},"156":{"start":{"line":237,"column":0},"end":{"line":249,"column":2}},"157":{"start":{"line":238,"column":4},"end":{"line":238,"column":27}},"158":{"start":{"line":238,"column":15},"end":{"line":238,"column":27}},"159":{"start":{"line":239,"column":4},"end":{"line":239,"column":17}},"160":{"start":{"line":240,"column":4},"end":{"line":240,"column":47}},"161":{"start":{"line":241,"column":4},"end":{"line":247,"column":7}},"162":{"start":{"line":242,"column":8},"end":{"line":246,"column":9}},"163":{"start":{"line":243,"column":12},"end":{"line":243,"column":43}},"164":{"start":{"line":245,"column":12},"end":{"line":245,"column":33}},"165":{"start":{"line":248,"column":4},"end":{"line":248,"column":15}},"166":{"start":{"line":251,"column":0},"end":{"line":260,"column":2}},"167":{"start":{"line":252,"column":4},"end":{"line":252,"column":21}},"168":{"start":{"line":253,"column":4},"end":{"line":259,"column":7}},"169":{"start":{"line":254,"column":8},"end":{"line":254,"column":38}},"170":{"start":{"line":254,"column":17},"end":{"line":254,"column":38}},"171":{"start":{"line":255,"column":8},"end":{"line":258,"column":29}},"172":{"start":{"line":256,"column":12},"end":{"line":256,"column":42}},"173":{"start":{"line":256,"column":21},"end":{"line":256,"column":42}},"174":{"start":{"line":257,"column":12},"end":{"line":257,"column":34}},"175":{"start":{"line":262,"column":0},"end":{"line":283,"column":2}},"176":{"start":{"line":263,"column":4},"end":{"line":282,"column":18}},"177":{"start":{"line":264,"column":8},"end":{"line":269,"column":9}},"178":{"start":{"line":265,"column":12},"end":{"line":268,"column":26}},"179":{"start":{"line":266,"column":16},"end":{"line":266,"column":37}},"180":{"start":{"line":267,"column":16},"end":{"line":267,"column":56}},"181":{"start":{"line":270,"column":8},"end":{"line":280,"column":9}},"182":{"start":{"line":271,"column":12},"end":{"line":271,"column":70}},"183":{"start":{"line":272,"column":12},"end":{"line":279,"column":13}},"184":{"start":{"line":273,"column":16},"end":{"line":273,"column":53}},"185":{"start":{"line":274,"column":16},"end":{"line":274,"column":53}},"186":{"start":{"line":275,"column":16},"end":{"line":277,"column":19}},"187":{"start":{"line":276,"column":20},"end":{"line":276,"column":43}},"188":{"start":{"line":278,"column":16},"end":{"line":278,"column":60}},"189":{"start":{"line":278,"column":36},"end":{"line":278,"column":60}},"190":{"start":{"line":281,"column":8},"end":{"line":281,"column":29}},"191":{"start":{"line":285,"column":0},"end":{"line":289,"column":2}},"192":{"start":{"line":286,"column":4},"end":{"line":288,"column":7}},"193":{"start":{"line":287,"column":8},"end":{"line":287,"column":29}},"194":{"start":{"line":291,"column":0},"end":{"line":316,"column":1}},"195":{"start":{"line":292,"column":4},"end":{"line":294,"column":5}},"196":{"start":{"line":293,"column":8},"end":{"line":293,"column":28}},"197":{"start":{"line":295,"column":4},"end":{"line":295,"column":47}},"198":{"start":{"line":296,"column":4},"end":{"line":304,"column":5}},"199":{"start":{"line":297,"column":8},"end":{"line":297,"column":24}},"200":{"start":{"line":298,"column":8},"end":{"line":302,"column":11}},"201":{"start":{"line":299,"column":12},"end":{"line":301,"column":13}},"202":{"start":{"line":300,"column":16},"end":{"line":300,"column":29}},"203":{"start":{"line":303,"column":8},"end":{"line":303,"column":20}},"204":{"start":{"line":306,"column":4},"end":{"line":315,"column":5}},"205":{"start":{"line":307,"column":8},"end":{"line":309,"column":9}},"206":{"start":{"line":308,"column":12},"end":{"line":308,"column":40}},"207":{"start":{"line":310,"column":8},"end":{"line":312,"column":9}},"208":{"start":{"line":311,"column":12},"end":{"line":311,"column":59}},"209":{"start":{"line":314,"column":8},"end":{"line":314,"column":32}},"210":{"start":{"line":318,"column":0},"end":{"line":334,"column":2}},"211":{"start":{"line":319,"column":4},"end":{"line":319,"column":27}},"212":{"start":{"line":320,"column":4},"end":{"line":326,"column":7}},"213":{"start":{"line":321,"column":8},"end":{"line":321,"column":38}},"214":{"start":{"line":321,"column":17},"end":{"line":321,"column":38}},"215":{"start":{"line":322,"column":8},"end":{"line":322,"column":33}},"216":{"start":{"line":323,"column":8},"end":{"line":325,"column":11}},"217":{"start":{"line":324,"column":12},"end":{"line":324,"column":36}},"218":{"start":{"line":328,"column":4},"end":{"line":333,"column":5}},"219":{"start":{"line":329,"column":8},"end":{"line":329,"column":29}},"220":{"start":{"line":330,"column":8},"end":{"line":332,"column":9}},"221":{"start":{"line":331,"column":12},"end":{"line":331,"column":28}},"222":{"start":{"line":336,"column":0},"end":{"line":340,"column":2}},"223":{"start":{"line":337,"column":4},"end":{"line":339,"column":7}},"224":{"start":{"line":338,"column":8},"end":{"line":338,"column":58}},"225":{"start":{"line":342,"column":0},"end":{"line":347,"column":2}},"226":{"start":{"line":343,"column":4},"end":{"line":343,"column":17}},"227":{"start":{"line":344,"column":4},"end":{"line":346,"column":18}},"228":{"start":{"line":345,"column":8},"end":{"line":345,"column":53}},"229":{"start":{"line":349,"column":0},"end":{"line":351,"column":2}},"230":{"start":{"line":350,"column":4},"end":{"line":350,"column":47}},"231":{"start":{"line":353,"column":0},"end":{"line":370,"column":1}},"232":{"start":{"line":354,"column":4},"end":{"line":354,"column":27}},"233":{"start":{"line":354,"column":15},"end":{"line":354,"column":27}},"234":{"start":{"line":356,"column":4},"end":{"line":356,"column":17}},"235":{"start":{"line":357,"column":4},"end":{"line":368,"column":7}},"236":{"start":{"line":358,"column":8},"end":{"line":358,"column":26}},"237":{"start":{"line":359,"column":8},"end":{"line":367,"column":9}},"238":{"start":{"line":362,"column":15},"end":{"line":367,"column":9}},"239":{"start":{"line":365,"column":15},"end":{"line":367,"column":9}},"240":{"start":{"line":366,"column":12},"end":{"line":366,"column":25}},"241":{"start":{"line":369,"column":4},"end":{"line":369,"column":15}},"242":{"start":{"line":372,"column":0},"end":{"line":377,"column":1}},"243":{"start":{"line":373,"column":4},"end":{"line":375,"column":7}},"244":{"start":{"line":374,"column":8},"end":{"line":374,"column":32}},"245":{"start":{"line":376,"column":4},"end":{"line":376,"column":16}}},"branchMap":{"1":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":31,"column":12}},{"start":{"line":31,"column":12},"end":{"line":31,"column":12}}]},"2":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":32,"column":12}},{"start":{"line":32,"column":12},"end":{"line":32,"column":12}}]},"3":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"4":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":12},"end":{"line":53,"column":12}},{"start":{"line":53,"column":12},"end":{"line":53,"column":12}}]},"5":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":19},"end":{"line":56,"column":19}},{"start":{"line":56,"column":19},"end":{"line":56,"column":19}}]},"6":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":16},"end":{"line":66,"column":16}},{"start":{"line":66,"column":16},"end":{"line":66,"column":16}}]},"7":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":81,"column":12}},{"start":{"line":81,"column":12},"end":{"line":81,"column":12}}]},"8":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":16},"end":{"line":83,"column":16}},{"start":{"line":83,"column":16},"end":{"line":83,"column":16}}]},"9":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":20},"end":{"line":83,"column":23}},{"start":{"line":83,"column":27},"end":{"line":83,"column":29}}]},"10":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":16},"end":{"line":84,"column":16}},{"start":{"line":84,"column":16},"end":{"line":84,"column":16}}]},"11":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":20},"end":{"line":84,"column":23}},{"start":{"line":84,"column":27},"end":{"line":84,"column":30}}]},"12":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":16},"end":{"line":86,"column":16}},{"start":{"line":86,"column":16},"end":{"line":86,"column":16}}]},"13":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":20},"end":{"line":86,"column":24}},{"start":{"line":86,"column":28},"end":{"line":86,"column":40}}]},"14":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":24},"end":{"line":88,"column":24}},{"start":{"line":88,"column":24},"end":{"line":88,"column":24}}]},"15":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":28},"end":{"line":88,"column":47}},{"start":{"line":88,"column":51},"end":{"line":88,"column":66}}]},"16":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":16},"end":{"line":93,"column":18}},{"start":{"line":93,"column":23},"end":{"line":93,"column":37}}]},"17":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":12},"end":{"line":101,"column":12}},{"start":{"line":101,"column":12},"end":{"line":101,"column":12}}]},"18":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":16},"end":{"line":101,"column":19}},{"start":{"line":101,"column":23},"end":{"line":101,"column":25}}]},"19":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":12}},{"start":{"line":102,"column":12},"end":{"line":102,"column":12}}]},"20":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":16},"end":{"line":102,"column":19}},{"start":{"line":102,"column":23},"end":{"line":102,"column":26}}]},"21":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":12}},{"start":{"line":107,"column":12},"end":{"line":107,"column":12}}]},"22":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":16},"end":{"line":107,"column":19}},{"start":{"line":107,"column":23},"end":{"line":107,"column":25}}]},"23":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12}},{"start":{"line":108,"column":12},"end":{"line":108,"column":12}}]},"24":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":19}},{"start":{"line":108,"column":23},"end":{"line":108,"column":26}}]},"25":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":12},"end":{"line":113,"column":12}},{"start":{"line":113,"column":12},"end":{"line":113,"column":12}}]},"26":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":16},"end":{"line":113,"column":24}},{"start":{"line":113,"column":28},"end":{"line":113,"column":34}}]},"27":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":12},"end":{"line":126,"column":12}},{"start":{"line":126,"column":12},"end":{"line":126,"column":12}}]},"28":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":16},"end":{"line":126,"column":19}},{"start":{"line":126,"column":23},"end":{"line":126,"column":25}}]},"29":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"30":{"line":127,"type":"binary-expr","locations":[{"start":{"line":127,"column":16},"end":{"line":127,"column":19}},{"start":{"line":127,"column":23},"end":{"line":127,"column":26}}]},"31":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":12},"end":{"line":128,"column":12}},{"start":{"line":128,"column":12},"end":{"line":128,"column":12}}]},"32":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":31},"end":{"line":128,"column":33}},{"start":{"line":128,"column":37},"end":{"line":128,"column":45}}]},"33":{"line":143,"type":"binary-expr","locations":[{"start":{"line":143,"column":53},"end":{"line":143,"column":59}},{"start":{"line":143,"column":63},"end":{"line":143,"column":66}}]},"34":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":4}},{"start":{"line":148,"column":4},"end":{"line":148,"column":4}}]},"35":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":12},"end":{"line":152,"column":12}},{"start":{"line":152,"column":12},"end":{"line":152,"column":12}}]},"36":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":8},"end":{"line":167,"column":8}},{"start":{"line":167,"column":8},"end":{"line":167,"column":8}}]},"37":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":12},"end":{"line":172,"column":12}},{"start":{"line":172,"column":12},"end":{"line":172,"column":12}}]},"38":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":16},"end":{"line":174,"column":16}},{"start":{"line":174,"column":16},"end":{"line":174,"column":16}}]},"39":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":8}},{"start":{"line":186,"column":8},"end":{"line":186,"column":8}}]},"40":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":12},"end":{"line":186,"column":28}},{"start":{"line":186,"column":32},"end":{"line":186,"column":46}}]},"41":{"line":196,"type":"binary-expr","locations":[{"start":{"line":196,"column":16},"end":{"line":196,"column":21}},{"start":{"line":196,"column":25},"end":{"line":196,"column":28}}]},"42":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":8},"end":{"line":197,"column":8}},{"start":{"line":197,"column":8},"end":{"line":197,"column":8}}]},"43":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":8},"end":{"line":208,"column":8}},{"start":{"line":208,"column":8},"end":{"line":208,"column":8}}]},"44":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":12},"end":{"line":211,"column":12}},{"start":{"line":211,"column":12},"end":{"line":211,"column":12}}]},"45":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":16},"end":{"line":213,"column":16}},{"start":{"line":213,"column":16},"end":{"line":213,"column":16}}]},"46":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":8},"end":{"line":230,"column":8}},{"start":{"line":230,"column":8},"end":{"line":230,"column":8}}]},"47":{"line":230,"type":"binary-expr","locations":[{"start":{"line":230,"column":12},"end":{"line":230,"column":16}},{"start":{"line":230,"column":20},"end":{"line":230,"column":29}}]},"48":{"line":233,"type":"binary-expr","locations":[{"start":{"line":233,"column":45},"end":{"line":233,"column":49}},{"start":{"line":233,"column":53},"end":{"line":233,"column":62}}]},"49":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":4},"end":{"line":238,"column":4}},{"start":{"line":238,"column":4},"end":{"line":238,"column":4}}]},"50":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":8},"end":{"line":242,"column":8}},{"start":{"line":242,"column":8},"end":{"line":242,"column":8}}]},"51":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":12},"end":{"line":242,"column":22}},{"start":{"line":242,"column":26},"end":{"line":242,"column":57}}]},"52":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":8},"end":{"line":254,"column":8}},{"start":{"line":254,"column":8},"end":{"line":254,"column":8}}]},"53":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":12},"end":{"line":256,"column":12}},{"start":{"line":256,"column":12},"end":{"line":256,"column":12}}]},"54":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":8},"end":{"line":264,"column":8}},{"start":{"line":264,"column":8},"end":{"line":264,"column":8}}]},"55":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":8},"end":{"line":270,"column":8}},{"start":{"line":270,"column":8},"end":{"line":270,"column":8}}]},"56":{"line":271,"type":"cond-expr","locations":[{"start":{"line":271,"column":28},"end":{"line":271,"column":61}},{"start":{"line":271,"column":64},"end":{"line":271,"column":69}}]},"57":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":12},"end":{"line":272,"column":12}},{"start":{"line":272,"column":12},"end":{"line":272,"column":12}}]},"58":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":16},"end":{"line":278,"column":16}},{"start":{"line":278,"column":16},"end":{"line":278,"column":16}}]},"59":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":4},"end":{"line":292,"column":4}},{"start":{"line":292,"column":4},"end":{"line":292,"column":4}}]},"60":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":27},"end":{"line":295,"column":39}},{"start":{"line":295,"column":43},"end":{"line":295,"column":45}}]},"61":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":12},"end":{"line":299,"column":12}},{"start":{"line":299,"column":12},"end":{"line":299,"column":12}}]},"62":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":8},"end":{"line":307,"column":8}},{"start":{"line":307,"column":8},"end":{"line":307,"column":8}}]},"63":{"line":307,"type":"binary-expr","locations":[{"start":{"line":307,"column":12},"end":{"line":307,"column":37}},{"start":{"line":307,"column":41},"end":{"line":307,"column":48}},{"start":{"line":307,"column":52},"end":{"line":307,"column":89}}]},"64":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8}},{"start":{"line":310,"column":8},"end":{"line":310,"column":8}}]},"65":{"line":310,"type":"binary-expr","locations":[{"start":{"line":310,"column":12},"end":{"line":310,"column":37}},{"start":{"line":310,"column":41},"end":{"line":310,"column":74}},{"start":{"line":310,"column":78},"end":{"line":310,"column":105}},{"start":{"line":310,"column":109},"end":{"line":310,"column":144}}]},"66":{"line":321,"type":"if","locations":[{"start":{"line":321,"column":8},"end":{"line":321,"column":8}},{"start":{"line":321,"column":8},"end":{"line":321,"column":8}}]},"67":{"line":323,"type":"binary-expr","locations":[{"start":{"line":323,"column":8},"end":{"line":323,"column":18}},{"start":{"line":323,"column":22},"end":{"line":323,"column":40}},{"start":{"line":323,"column":44},"end":{"line":325,"column":10}}]},"68":{"line":329,"type":"binary-expr","locations":[{"start":{"line":329,"column":16},"end":{"line":329,"column":21}},{"start":{"line":329,"column":25},"end":{"line":329,"column":28}}]},"69":{"line":330,"type":"if","locations":[{"start":{"line":330,"column":8},"end":{"line":330,"column":8}},{"start":{"line":330,"column":8},"end":{"line":330,"column":8}}]},"70":{"line":338,"type":"cond-expr","locations":[{"start":{"line":338,"column":35},"end":{"line":338,"column":52}},{"start":{"line":338,"column":55},"end":{"line":338,"column":56}}]},"71":{"line":354,"type":"if","locations":[{"start":{"line":354,"column":4},"end":{"line":354,"column":4}},{"start":{"line":354,"column":4},"end":{"line":354,"column":4}}]},"72":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":8},"end":{"line":359,"column":8}},{"start":{"line":359,"column":8},"end":{"line":359,"column":8}}]},"73":{"line":362,"type":"if","locations":[{"start":{"line":362,"column":15},"end":{"line":362,"column":15}},{"start":{"line":362,"column":15},"end":{"line":362,"column":15}}]},"74":{"line":362,"type":"binary-expr","locations":[{"start":{"line":362,"column":19},"end":{"line":362,"column":20}},{"start":{"line":362,"column":24},"end":{"line":362,"column":54}},{"start":{"line":362,"column":58},"end":{"line":362,"column":72}}]},"75":{"line":365,"type":"if","locations":[{"start":{"line":365,"column":15},"end":{"line":365,"column":15}},{"start":{"line":365,"column":15},"end":{"line":365,"column":15}}]}},"code":["var safeRequire = require('../utils').safeRequire;","","/**"," * Module dependencies"," */","var neo4j = safeRequire('neo4j');","","exports.initialize = function initializeSchema(schema, callback) {","    schema.client = new neo4j.GraphDatabase(schema.settings.url);","    schema.adapter = new Neo4j(schema.client);","    process.nextTick(callback);","};","","function Neo4j(client) {","    this._models = {};","    this.client = client;","    this.cache = {};","}","","Neo4j.prototype.define = function defineModel(descr) {","    this.mixClassMethods(descr.model, descr.properties);","    this.mixInstanceMethods(descr.model.prototype, descr.properties);","    this._models[descr.model.modelName] = descr;","};","","Neo4j.prototype.createIndexHelper = function (cls, indexName) {","    var db = this.client;","    var method = 'findBy' + indexName[0].toUpperCase() + indexName.substr(1);","    cls[method] = function (value, cb) {","        db.getIndexedNode(cls.tableName, indexName, value, function (err, node) {","            if (err) return cb(err);","            if (node) {","                node.data.id = node.id;","                cb(null, new cls(node.data));","            } else {","                cb(null, null);","            }","        });","    };","};","","Neo4j.prototype.mixClassMethods = function mixClassMethods(cls, properties) {","    var neo = this;","","    Object.keys(properties).forEach(function (name) {","        if (properties[name].index) {","            neo.createIndexHelper(cls, name);","        }","    });","","    cls.setupCypherQuery = function (name, queryStr, rowHandler) {","        cls[name] = function cypherQuery(params, cb) {","            if (typeof params === 'function') {","                cb = params;","                params = [];","            } else if (params.constructor.name !== 'Array') {","                params = [params];","            }","","            var i = 0;","            var q = queryStr.replace(/\\?/g, function () {","                return params[i++];","            });","","            neo.client.query(function (err, result) {","                if (err) return cb(err, []);","                cb(null, result.map(rowHandler));","            }, q);","        };","    };","","    /**","     * @param from - id of object to check relation from","     * @param to - id of object to check relation to","     * @param type - type of relation","     * @param direction - all | incoming | outgoing","     * @param cb - callback (err, rel || false)","     */","    cls.relationshipExists = function relationshipExists(from, to, type, direction, cb) {","        neo.node(from, function (err, node) {","            if (err) return cb(err);","            node._getRelationships(direction, type, function (err, rels) {","                if (err && cb) return cb(err);","                if (err && !cb) throw err;","                var found = false;","                if (rels && rels.forEach) {","                    rels.forEach(function (r) {","                        if (r.start.id === from && r.end.id === to) {","                            found = true;","                        }","                    });","                }","                cb  && cb(err, found);","            });","        });","    };","","    cls.createRelationshipTo = function createRelationshipTo(id1, id2, type, data, cb) {","        var fromNode, toNode;","        neo.node(id1, function (err, node) {","            if (err && cb) return cb(err);","            if (err && !cb) throw err;","            fromNode = node;","            ok();","        });","        neo.node(id2, function (err, node) {","            if (err && cb) return cb(err);","            if (err && !cb) throw err;","            toNode = node;","            ok();","        });","        function ok() {","            if (fromNode && toNode) {","                fromNode.createRelationshipTo(toNode, type, cleanup(data), cb);","            }","        }","    };","","    cls.createRelationshipFrom = function createRelationshipFrom(id1, id2, type, data, cb) {","        cls.createRelationshipTo(id2, id1, type, data, cb);","    }","","    // only create relationship if it is not exists","    cls.ensureRelationshipTo = function (id1, id2, type, data, cb) {","        cls.relationshipExists(id1, id2, type, 'outgoing', function (err, exists) {","            if (err && cb) return cb(err);","            if (err && !cb) throw err;","            if (exists) return cb && cb(null);","            cls.createRelationshipTo(id1, id2, type, data, cb);","        });","    }","};","","Neo4j.prototype.mixInstanceMethods = function mixInstanceMethods(proto) {","    var neo = this;","","    /**","     * @param obj - Object or id of object to check relation with","     * @param type - type of relation","     * @param cb - callback (err, rel || false)","     */","    proto.isInRelationWith = function isInRelationWith(obj, type, direction, cb) {","        this.constructor.relationshipExists(this.id, obj.id || obj, type, 'all', cb);","    };","};","","Neo4j.prototype.node = function find(id, callback) {","    if (this.cache[id]) {","        callback(null, this.cache[id]);","    } else {","        this.client.getNodeById(id, function (err, node) {","            if (node) {","                this.cache[id] = node;","            }","            callback(err, node);","        }.bind(this));","    }","};","","Neo4j.prototype.create = function create(model, data, callback) {","    var table = this.table(model);","    data.nodeType = table;","    var node = this.client.createNode();","    node.data = cleanup(data);","    node.data.nodeType = table;","    node.save(function (err) {","        if (err) {","            return callback(err);","        }","        this.cache[node.id] = node;","        node.index(table, 'id', node.id, function (err) {","            if (err) return callback(err);","            this.updateIndexes(model, node, function (err) {","                if (err) return callback(err);","                callback(null, node.id);","            });","        }.bind(this));","    }.bind(this));","};","","Neo4j.prototype.updateIndexes = function updateIndexes(model, node, cb) {","    var props = this._models[model].properties;","    var wait = 1;","    var table = this.table(model);","    Object.keys(props).forEach(function (key) {","        if (props[key].index && node.data[key]) {","            wait += 1;","            node.index(table, key, node.data[key], done);","        }","    });","","    done();","","    var error = false;","    function done(err) {","        error = error || err;","        if (--wait === 0) {","            cb(error);","        }","    }","};","","Neo4j.prototype.save = function save(model, data, callback) {","    var self = this;","    this.node(data.id, function (err, node) {","        //delete id property since that's redundant and we use the node.id","        delete data.id;","        if (err) return callback(err);","        node.data = cleanup(data);","        node.save(function (err) {","            if (err) return callback(err);","            self.updateIndexes(model, node, function (err) {","                if (err) return console.log(err);","                //map node id to the id property being sent back","                node.data.id = node.id;","                callback(null, node.data);","            });","        });","    });","};","","Neo4j.prototype.exists = function exists(model, id, callback) {","    delete this.cache[id];","    this.node(id, callback);","};","","Neo4j.prototype.find = function find(model, id, callback) {","    delete this.cache[id];","    this.node(id, function (err, node) {","        if (node && node.data) {","            node.data.id = id;","        }","        callback(err, this.readFromDb(model, node && node.data));","    }.bind(this));","};","","Neo4j.prototype.readFromDb = function readFromDb(model, data) {","    if (!data) return data;","    var res = {};","    var props = this._models[model].properties;","    Object.keys(data).forEach(function (key) {","        if (props[key] && props[key].type.name === 'Date') {","            res[key] = new Date(data[key]);","        } else {","            res[key] = data[key];","        }","    });","    return res;","};","","Neo4j.prototype.destroy = function destroy(model, id, callback) {","    var force = true;","    this.node(id, function (err, node) {","        if (err) return callback(err);","        node.delete(function (err) {","            if (err) return callback(err);","            delete this.cache[id];","        }.bind(this), force);","    });","};","","Neo4j.prototype.all = function all(model, filter, callback) {","    this.client.queryNodeIndex(this.table(model), 'id:*', function (err, nodes) {","        if (nodes) {","            nodes = nodes.map(function (obj) {","                obj.data.id = obj.id;","                return this.readFromDb(model, obj.data);","            }.bind(this));","        }","        if (filter) {","            nodes = nodes ? nodes.filter(applyFilter(filter)) : nodes;","            if (filter.order) {","                var key = filter.order.split(' ')[0];","                var dir = filter.order.split(' ')[1];","                nodes = nodes.sort(function (a, b) {","                    return a[key] > b[key];","                });","                if (dir === 'DESC') nodes = nodes.reverse();","            }","        }","        callback(err, nodes);","    }.bind(this));","};","","Neo4j.prototype.allNodes = function all(model, callback) {","    this.client.queryNodeIndex(this.table(model), 'id:*', function (err, nodes) {","        callback(err, nodes);","    });","};","","function applyFilter(filter) {","    if (typeof filter.where === 'function') {","        return filter.where;","    }","    var keys = Object.keys(filter.where || {});","    return function (obj) {","        var pass = true;","        keys.forEach(function (key) {","            if (!test(filter.where[key], obj[key])) {","                pass = false;","            }","        });","        return pass;","    }","","    function test(example, value) {","        if (typeof value === 'string' && example && example.constructor.name === 'RegExp') {","            return value.match(example);","        }","        if (typeof value === 'object' && value.constructor.name === 'Date' && typeof example === 'object' && example.constructor.name === 'Date') {","            return example.toString() === value.toString();","        }","        // not strict equality","        return example == value;","    }","}","","Neo4j.prototype.destroyAll = function destroyAll(model, callback) {","    var wait, error = null;","    this.allNodes(model, function (err, collection) {","        if (err) return callback(err);","        wait = collection.length;","        collection && collection.forEach && collection.forEach(function (node) {","            node.delete(done, true);","        });","    });","","    function done(err) {","        error = error || err;","        if (--wait === 0) {","            callback(error);","        }","    }","};","","Neo4j.prototype.count = function count(model, callback, conds) {","    this.all(model, {where: conds}, function (err, collection) {","        callback(err, collection ? collection.length : 0);","    });","};","","Neo4j.prototype.updateAttributes = function updateAttributes(model, id, data, cb) {","    data.id = id;","    this.node(id, function (err, node) {","        this.save(model, merge(node.data, data), cb);","    }.bind(this));","};","","Neo4j.prototype.table = function (model) {","    return this._models[model].model.tableName;","};","","function cleanup(data) {","    if (!data) return null;","    ","    var res = {};","    Object.keys(data).forEach(function (key) {","        var v = data[key];","        if (v === null) {","            // skip","            // console.log('skip null', key);","        } else if (v && v.constructor.name === 'Array' && v.length === 0) {","            // skip","            // console.log('skip blank array', key);","        } else if (typeof v !== 'undefined') {","            res[key] = v;","        }","    });","    return res;","}","","function merge(base, update) {","    Object.keys(update).forEach(function (key) {","        base[key] = update[key];","    });","    return base;","}",""],"l":{"1":1,"6":1,"8":1,"9":0,"10":0,"11":0,"14":1,"15":0,"16":0,"17":0,"20":1,"21":0,"22":0,"23":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"36":0,"42":1,"43":0,"45":0,"46":0,"47":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"60":0,"61":0,"62":0,"65":0,"66":0,"67":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"93":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"106":0,"107":0,"108":0,"109":0,"110":0,"112":1,"113":0,"114":0,"119":0,"120":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"134":1,"135":0,"142":0,"143":0,"147":1,"148":0,"149":0,"151":0,"152":0,"153":0,"155":0,"160":1,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"181":1,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"192":0,"194":0,"195":1,"196":0,"197":0,"198":0,"203":1,"204":0,"205":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"215":0,"216":0,"222":1,"223":0,"224":0,"227":1,"228":0,"229":0,"230":0,"231":0,"233":0,"237":1,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"245":0,"248":0,"251":1,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"262":1,"263":0,"264":0,"265":0,"266":0,"267":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"278":0,"281":0,"285":1,"286":0,"287":0,"291":1,"292":0,"293":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"303":0,"306":1,"307":0,"308":0,"310":0,"311":0,"314":0,"318":1,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"328":1,"329":0,"330":0,"331":0,"336":1,"337":0,"338":0,"342":1,"343":0,"344":0,"345":0,"349":1,"350":0,"353":1,"354":0,"356":0,"357":0,"358":0,"359":0,"362":0,"365":0,"366":0,"369":0,"372":1,"373":0,"374":0,"376":0}},"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/riak.js":{"path":"/home/travis/build/npmtest/node-npmtest-jugglingdb/node_modules/jugglingdb/lib/adapters/riak.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"initializeSchema","line":9,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":65}}},"2":{"name":"Riak","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":41}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":22},"end":{"line":26,"column":55}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":24},"end":{"line":30,"column":57}}},"6":{"name":"(anonymous_6)","line":32,"loc":{"start":{"line":32,"column":27},"end":{"line":32,"column":42}}},"7":{"name":"(anonymous_7)","line":39,"loc":{"start":{"line":39,"column":24},"end":{"line":39,"column":55}}},"8":{"name":"(anonymous_8)","line":40,"loc":{"start":{"line":40,"column":46},"end":{"line":40,"column":75}}},"9":{"name":"find","line":47,"loc":{"start":{"line":47,"column":22},"end":{"line":47,"column":57}}},"10":{"name":"(anonymous_10)","line":48,"loc":{"start":{"line":48,"column":43},"end":{"line":48,"column":70}}},"11":{"name":"destroy","line":58,"loc":{"start":{"line":58,"column":25},"end":{"line":58,"column":63}}},"12":{"name":"(anonymous_12)","line":59,"loc":{"start":{"line":59,"column":46},"end":{"line":59,"column":61}}},"13":{"name":"all","line":64,"loc":{"start":{"line":64,"column":21},"end":{"line":64,"column":59}}},"14":{"name":"(anonymous_14)","line":67,"loc":{"start":{"line":67,"column":42},"end":{"line":67,"column":71}}},"15":{"name":"(anonymous_15)","line":70,"loc":{"start":{"line":70,"column":36},"end":{"line":70,"column":51}}},"16":{"name":"destroyAll","line":81,"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":65}}},"17":{"name":"(anonymous_17)","line":83,"loc":{"start":{"line":83,"column":36},"end":{"line":83,"column":57}}},"18":{"name":"removeOne","line":88,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":34}}},"19":{"name":"count","line":100,"loc":{"start":{"line":100,"column":23},"end":{"line":100,"column":55}}},"20":{"name":"(anonymous_20)","line":101,"loc":{"start":{"line":101,"column":47},"end":{"line":101,"column":68}}},"21":{"name":"updateAttrs","line":106,"loc":{"start":{"line":106,"column":34},"end":{"line":106,"column":76}}},"22":{"name":"(anonymous_22)","line":111,"loc":{"start":{"line":111,"column":23},"end":{"line":111,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":50}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":32}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":34}},"4":{"start":{"line":9,"column":0},"end":{"line":15,"column":2}},"5":{"start":{"line":10,"column":4},"end":{"line":13,"column":7}},"6":{"start":{"line":14,"column":4},"end":{"line":14,"column":45}},"7":{"start":{"line":17,"column":0},"end":{"line":20,"column":1}},"8":{"start":{"line":18,"column":4},"end":{"line":18,"column":22}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":25}},"10":{"start":{"line":22,"column":0},"end":{"line":24,"column":2}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":48}},"12":{"start":{"line":26,"column":0},"end":{"line":28,"column":2}},"13":{"start":{"line":27,"column":4},"end":{"line":27,"column":65}},"14":{"start":{"line":30,"column":0},"end":{"line":37,"column":2}},"15":{"start":{"line":31,"column":4},"end":{"line":31,"column":21}},"16":{"start":{"line":32,"column":4},"end":{"line":36,"column":7}},"17":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"18":{"start":{"line":34,"column":12},"end":{"line":34,"column":35}},"19":{"start":{"line":39,"column":0},"end":{"line":45,"column":2}},"20":{"start":{"line":40,"column":4},"end":{"line":44,"column":7}},"21":{"start":{"line":41,"column":8},"end":{"line":43,"column":9}},"22":{"start":{"line":42,"column":12},"end":{"line":42,"column":34}},"23":{"start":{"line":47,"column":0},"end":{"line":56,"column":2}},"24":{"start":{"line":48,"column":4},"end":{"line":55,"column":7}},"25":{"start":{"line":49,"column":8},"end":{"line":53,"column":9}},"26":{"start":{"line":50,"column":12},"end":{"line":50,"column":25}},"27":{"start":{"line":52,"column":12},"end":{"line":52,"column":24}},"28":{"start":{"line":54,"column":8},"end":{"line":54,"column":64}},"29":{"start":{"line":54,"column":44},"end":{"line":54,"column":64}},"30":{"start":{"line":58,"column":0},"end":{"line":62,"column":2}},"31":{"start":{"line":59,"column":4},"end":{"line":61,"column":7}},"32":{"start":{"line":60,"column":8},"end":{"line":60,"column":22}},"33":{"start":{"line":64,"column":0},"end":{"line":79,"column":2}},"34":{"start":{"line":65,"column":4},"end":{"line":65,"column":18}},"35":{"start":{"line":66,"column":4},"end":{"line":66,"column":58}},"36":{"start":{"line":66,"column":32},"end":{"line":66,"column":58}},"37":{"start":{"line":67,"column":4},"end":{"line":78,"column":18}},"38":{"start":{"line":68,"column":8},"end":{"line":68,"column":42}},"39":{"start":{"line":68,"column":17},"end":{"line":68,"column":42}},"40":{"start":{"line":70,"column":8},"end":{"line":75,"column":11}},"41":{"start":{"line":71,"column":12},"end":{"line":71,"column":34}},"42":{"start":{"line":72,"column":12},"end":{"line":72,"column":37}},"43":{"start":{"line":73,"column":12},"end":{"line":73,"column":32}},"44":{"start":{"line":74,"column":12},"end":{"line":74,"column":26}},"45":{"start":{"line":77,"column":8},"end":{"line":77,"column":37}},"46":{"start":{"line":81,"column":0},"end":{"line":98,"column":2}},"47":{"start":{"line":82,"column":4},"end":{"line":82,"column":20}},"48":{"start":{"line":83,"column":4},"end":{"line":96,"column":7}},"49":{"start":{"line":84,"column":8},"end":{"line":84,"column":31}},"50":{"start":{"line":84,"column":17},"end":{"line":84,"column":31}},"51":{"start":{"line":86,"column":8},"end":{"line":86,"column":20}},"52":{"start":{"line":88,"column":8},"end":{"line":94,"column":9}},"53":{"start":{"line":89,"column":12},"end":{"line":89,"column":31}},"54":{"start":{"line":90,"column":12},"end":{"line":90,"column":33}},"55":{"start":{"line":91,"column":12},"end":{"line":91,"column":83}},"56":{"start":{"line":91,"column":22},"end":{"line":91,"column":83}},"57":{"start":{"line":92,"column":12},"end":{"line":92,"column":32}},"58":{"start":{"line":93,"column":12},"end":{"line":93,"column":69}},"59":{"start":{"line":100,"column":0},"end":{"line":104,"column":2}},"60":{"start":{"line":101,"column":4},"end":{"line":103,"column":7}},"61":{"start":{"line":102,"column":8},"end":{"line":102,"column":48}},"62":{"start":{"line":106,"column":0},"end":{"line":109,"column":2}},"63":{"start":{"line":107,"column":4},"end":{"line":107,"column":17}},"64":{"start":{"line":108,"column":4},"end":{"line":108,"column":31}},"65":{"start":{"line":111,"column":0},"end":{"line":113,"column":2}},"66":{"start":{"line":112,"column":4},"end":{"line":112,"column":47}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":14},"end":{"line":11,"column":34}},{"start":{"line":11,"column":38},"end":{"line":11,"column":49}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":14},"end":{"line":12,"column":34}},{"start":{"line":12,"column":38},"end":{"line":12,"column":42}}]},"3":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":8}},{"start":{"line":33,"column":8},"end":{"line":33,"column":8}}]},"4":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":8}},{"start":{"line":41,"column":8},"end":{"line":41,"column":8}}]},"5":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":8}},{"start":{"line":49,"column":8},"end":{"line":49,"column":8}}]},"6":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":12},"end":{"line":49,"column":16}},{"start":{"line":49,"column":20},"end":{"line":49,"column":27}}]},"7":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":54,"column":8}},{"start":{"line":54,"column":8},"end":{"line":54,"column":8}}]},"8":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"9":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":14}},{"start":{"line":66,"column":18},"end":{"line":66,"column":30}}]},"10":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":8}},{"start":{"line":68,"column":8},"end":{"line":68,"column":8}}]},"11":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":18},"end":{"line":70,"column":24}},{"start":{"line":70,"column":28},"end":{"line":70,"column":30}}]},"12":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":8},"end":{"line":84,"column":8}},{"start":{"line":84,"column":8},"end":{"line":84,"column":8}}]},"13":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":18},"end":{"line":89,"column":21}},{"start":{"line":89,"column":25},"end":{"line":89,"column":30}}]},"14":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":12},"end":{"line":91,"column":12}},{"start":{"line":91,"column":12},"end":{"line":91,"column":12}}]},"15":{"line":91,"type":"cond-expr","locations":[{"start":{"line":91,"column":71},"end":{"line":91,"column":74}},{"start":{"line":91,"column":77},"end":{"line":91,"column":81}}]},"16":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":38},"end":{"line":91,"column":41}},{"start":{"line":91,"column":45},"end":{"line":91,"column":68}}]},"17":{"line":102,"type":"cond-expr","locations":[{"start":{"line":102,"column":28},"end":{"line":102,"column":32}},{"start":{"line":102,"column":35},"end":{"line":102,"column":46}}]}},"code":["var safeRequire = require('../utils').safeRequire;","","/**"," * Module dependencies"," */","var uuid = require('node-uuid');","var riak = safeRequire('riak-js');","","exports.initialize = function initializeSchema(schema, callback) {","    schema.client = riak.getClient({","        host: schema.settings.host || '127.0.0.1',","        port: schema.settings.port || 8091","    });","    schema.adapter = new Riak(schema.client);","};","","function Riak(client) {","    this._models = {};","    this.client = client;","}","","Riak.prototype.define = function (descr) {","    this._models[descr.model.modelName] = descr;","};","","Riak.prototype.save = function (model, data, callback) {","    this.client.save(this.table(model), data.id, data, callback);","};","","Riak.prototype.create = function (model, data, callback) {","    data.id = uuid();","    this.save(model, data, function (err) {","        if (callback) {","            callback(err, data.id);","        }","    });","};","","Riak.prototype.exists = function (model, id, callback) {","    this.client.exists(this.table(model), id, function (err, exists, meta) {","        if (callback) {","            callback(err, exists);","        }","    });","};","","Riak.prototype.find = function find(model, id, callback) {","    this.client.get(this.table(model), id, function (err, data, meta) {","        if (data && data.id) {","            data.id = id;","        } else {","            data = null;","        }","        if (typeof callback === 'function') callback(err, data);","    });","};","","Riak.prototype.destroy = function destroy(model, id, callback) {","    this.client.remove(this.table(model), id, function (err) {","        callback(err);","    });","};","","Riak.prototype.all = function all(model, filter, callback) {","    var opts = {};","    if (filter && filter.where) opts.where = filter.where;","    this.client.getAll(this.table(model), function (err, result, meta) {","        if (err) return callback(err, []);","        /// return callback(err, result.map(function (x) { return {id: x}; }));","        result = (result || []).map(function (row) {","            var record = row.data;","            record.id = row.meta.key;","            console.log(record);","            return record;","        });","","        return callback(err, result);","    }.bind(this));","};","","Riak.prototype.destroyAll = function destroyAll(model, callback) {","    var self = this;","    this.all(this.table(model), {}, function (err, recs) {","        if (err) callback(err);","","        removeOne();","","        function removeOne(error) {","            err = err || error;","            var rec = recs.pop();","            if (!rec) return callback(err && err.statusCode != '404' ? err : null);","            console.log(rec.id);","            self.client.remove(this.table(model), rec.id, removeOne);","        }","","    });","","};","","Riak.prototype.count = function count(model, callback) {","    this.client.keys(this.table(model) + ':*', function (err, keys) {","        callback(err, err ? null : keys.length);","    });","};","","Riak.prototype.updateAttributes = function updateAttrs(model, id, data, cb) {","    data.id = id;","    this.save(model, data, cb);","};","","Riak.prototype.table = function (model) {","    return this._models[model].model.tableName;","};",""],"l":{"1":2,"6":2,"7":0,"9":0,"10":0,"14":0,"17":1,"18":0,"19":0,"22":0,"23":0,"26":0,"27":0,"30":0,"31":0,"32":0,"33":0,"34":0,"39":0,"40":0,"41":0,"42":0,"47":0,"48":0,"49":0,"50":0,"52":0,"54":0,"58":0,"59":0,"60":0,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"71":0,"72":0,"73":0,"74":0,"77":0,"81":0,"82":0,"83":0,"84":0,"86":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"100":0,"101":0,"102":0,"106":0,"107":0,"108":0,"111":0,"112":0}}}